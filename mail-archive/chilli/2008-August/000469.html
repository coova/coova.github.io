<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> VPN revisited.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:chilli%40coova.org?Subject=Re%3A%20VPN%20revisited.&In-Reply-To=%3C1219381622.7029.8.camel%40david-laptop%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000468.html">
   <LINK REL="Next"  HREF="000470.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>VPN revisited.</H1>
    <B>wlanmac</B> 
    <A HREF="mailto:chilli%40coova.org?Subject=Re%3A%20VPN%20revisited.&In-Reply-To=%3C1219381622.7029.8.camel%40david-laptop%3E"
       TITLE="VPN revisited.">wlan at mac.com
       </A><BR>
    <I>Fri Aug 22 05:07:02 UTC 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000468.html">VPN revisited.
</A></li>
        <LI>Next message: <A HREF="000470.html">VPN revisited.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#469">[ date ]</a>
              <a href="thread.html#469">[ thread ]</a>
              <a href="subject.html#469">[ subject ]</a>
              <a href="author.html#469">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Peter,

Since you are doing so many tests, it would be great to see your results
in a spreadsheet noting each test's parameters. 

&gt;<i> That's wired. Maybe it was only luck? Sometimes it works also for me 
</I>&gt;<i> without special iptables rules. But most of the time it doesn't.
</I>&gt;<i> Have you tried to connect/disconnect/connect/disconnect all the time?
</I>&gt;<i> 
</I>
I would guess that constantly connecting and disconnecting would
confused Windows more than the firewall. ;)

&gt;<i> If i unload the helper modules, it also works always, without any 
</I>&gt;<i> problem. It stops working only if i load the helper modules. That makes 
</I>&gt;<i> also perfectly sense, because it does not pass twice the helper modules 
</I>&gt;<i> if they are unloaded.
</I>&gt;<i> But certainly I need the modules, otherwise you could never have 
</I>&gt;<i> multiple connections through the machine.
</I>&gt;<i> 
</I>
So, you are saying that you never have trouble with one VPN passing
through? No matter what modules you use? 

&gt;<i> I really hope that's the solution.
</I>&gt;<i> Next i would like to try is trying only with the notrack rules and 
</I>&gt;<i> removing the drop rules. Only for trying.. Because in theory they should 
</I>&gt;<i> not harm nor help
</I>&gt;<i> 
</I>
The forwarding drop rules on the dhcpif interface are good to have.
Chilli would prefer that the kernel not do anything with the packets
coming in on the dhcpif. Chilli will _always_ see the packets since it's
raw socket goes lower than even iptables (it will see traffic even if
you drop the INPUT on that interface). 

The notrack rules for the dhcpif should probably help if the helpers are
getting confused. I wonder if conntrack sees all packets (unless told to
not track in the raw table) even if they are DROP'ed during INPUT on the
device. Can you also DROP from the raw table? hmm.. 

David


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000468.html">VPN revisited.
</A></li>
	<LI>Next message: <A HREF="000470.html">VPN revisited.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#469">[ date ]</a>
              <a href="thread.html#469">[ thread ]</a>
              <a href="subject.html#469">[ subject ]</a>
              <a href="author.html#469">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">More information about the Chilli
mailing list</a><br>
</body></html>
