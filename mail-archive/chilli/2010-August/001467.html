<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Chilli] IPhone Issue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:chilli%40coova.org?Subject=Re%3A%20%5BChilli%5D%20IPhone%20Issue&In-Reply-To=%3CAANLkTi%3DMxwu6_kJwjCja0%3DO_HdyQbC8wESSwqz7djqSo%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001466.html">
   <LINK REL="Next"  HREF="001465.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Chilli] IPhone Issue</H1>
    <B>Roger Pixley</B> 
    <A HREF="mailto:chilli%40coova.org?Subject=Re%3A%20%5BChilli%5D%20IPhone%20Issue&In-Reply-To=%3CAANLkTi%3DMxwu6_kJwjCja0%3DO_HdyQbC8wESSwqz7djqSo%40mail.gmail.com%3E"
       TITLE="[Chilli] IPhone Issue">skreech2 at gmail.com
       </A><BR>
    <I>Fri Aug 13 22:26:57 UTC 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="001466.html">[Chilli] IPhone Issue
</A></li>
        <LI>Next message: <A HREF="001465.html">[Chilli] (no subject)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1467">[ date ]</a>
              <a href="thread.html#1467">[ thread ]</a>
              <a href="subject.html#1467">[ subject ]</a>
              <a href="author.html#1467">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Solved the issue by splitting out the call to chilliform.js to it's
own named function then calling that function name (loadForm if you
care which you probably don't) via window.onload. The majorissue that
I have now is that certain websites once they are filtered through
coova are unreachable. Specifically it throws a kCFErrorDomainWinSock
error. I can ping the server follow the route to the server but
requesting a webpage seems impossible. I'll try and figure it out and
post back.

On Fri, Aug 13, 2010 at 4:15 PM, Roger Pixley &lt;<A HREF="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">skreech2 at gmail.com</A>&gt; wrote:
&gt;<i> Upgraded to CoovaChilli 1.2.2 and did some tracing. I now have it
</I>&gt;<i> working on any device that's not a blackberry or an i* as far as I can
</I>&gt;<i> test. Traced the issue and in the compiled chillijs.chi I have a line
</I>&gt;<i> that assigns chillijsWindowOnLoad to the window.onload event.
</I>&gt;<i> The window.onload event is assigned to generic function() which sets
</I>&gt;<i> the logon form. On other browsers this function gets run but on Safari
</I>&gt;<i> it simply skips to the end of the function then sits there
</I>&gt;<i> interminably (though sometimes I'll get a login form after 20 minutes
</I>&gt;<i> or so)
</I>&gt;<i>
</I>&gt;<i> I think that the way the function is called by window.onload throws
</I>&gt;<i> off how Safari (presumably by extension all the other apple devices)
</I>&gt;<i> implements the onload function. Has anyone seen this in their usage of
</I>&gt;<i> Coova? I had tested by replacing the function() body with a simple pop
</I>&gt;<i> up which shows up on other browsers but not on Safari.
</I>&gt;<i>
</I>&gt;<i> On Thu, Aug 12, 2010 at 10:10 AM, Roger Pixley &lt;<A HREF="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">skreech2 at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i> Hello I'm having an issue with Coova Chilli 1.0.9 with iPhones. The
</I>&gt;&gt;<i> cgi runs but the Safari browser (shipped on the iPhone) doesn't render
</I>&gt;&gt;<i> the login page. so there is no way to authenticate. Similar for iPads.
</I>&gt;&gt;<i> I put in a JS wait before the body load which makes the Login page
</I>&gt;&gt;<i> turn up on the iPhone but breaks every other device.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Can anyone say why this would happen or suggest a way to debug?
</I>&gt;&gt;<i>
</I>&gt;<i>
</I></PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001466.html">[Chilli] IPhone Issue
</A></li>
	<LI>Next message: <A HREF="001465.html">[Chilli] (no subject)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1467">[ date ]</a>
              <a href="thread.html#1467">[ thread ]</a>
              <a href="subject.html#1467">[ subject ]</a>
              <a href="author.html#1467">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">More information about the Chilli
mailing list</a><br>
</body></html>
