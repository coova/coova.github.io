<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> UAM web server failover
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:chilli%40coova.org?Subject=Re%3A%20UAM%20web%20server%20failover&In-Reply-To=%3C889CB335-AB01-4C2C-9CDE-EAB41B08FB44%40mac.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000114.html">
   <LINK REL="Next"  HREF="000117.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>UAM web server failover</H1>
    <B>wlan at mac.com</B> 
    <A HREF="mailto:chilli%40coova.org?Subject=Re%3A%20UAM%20web%20server%20failover&In-Reply-To=%3C889CB335-AB01-4C2C-9CDE-EAB41B08FB44%40mac.com%3E"
       TITLE="UAM web server failover">wlan at mac.com
       </A><BR>
    <I>Sat Jan 26 16:59:45 UTC 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000114.html">UAM web server failover
</A></li>
        <LI>Next message: <A HREF="000117.html">UAM web server failover
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#116">[ date ]</a>
              <a href="thread.html#116">[ thread ]</a>
              <a href="subject.html#116">[ subject ]</a>
              <a href="author.html#116">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I think it is a good idea, and perhaps something to be integrated  
into chilli. It would have to fork a process to do the check (so that  
there is no waiting in the main loop), but it could reconfigure the  
server with it's findings. If it is just switching landing pages,  
that's not too difficult. But, it still wouldn't help the situation  
when the access point lost all connectivity since DNS will likely be  
timing out on the original requests.

David

On Jan 26, 2008, at 1:53 PM, sophana wrote:

&gt;<i> Hi
</I>&gt;<i>
</I>&gt;<i> Lot of people would like the UAM webserver failover feature in  
</I>&gt;<i> coova chilli or coovaAP.
</I>&gt;<i> I'd like to help implementing this.
</I>&gt;<i>
</I>&gt;<i> Maybe the first step would be to agree on a spec?
</I>&gt;<i> So here's a simple proposition:
</I>&gt;<i>
</I>&gt;<i> Add an optionnal alternate uam server parameter (or uamserver2)
</I>&gt;<i> Another would be the monitoring period.
</I>&gt;<i>
</I>&gt;<i> Every 15-30 minutes (the monitoring period), an http request is  
</I>&gt;<i> alternatively sent to one of the uam urls with &quot;? 
</I>&gt;<i> ping=1&amp;nasId=xx&amp;calledMac=xx&amp;md5=xx&quot; added to the url.
</I>&gt;<i> The http response should be a text response: Ok
</I>&gt;<i> If current uam response if not Ok:
</I>&gt;<i>  if last resonse from other uam server was Ok: set to other uam  
</I>&gt;<i> server (if not already).
</I>&gt;<i>  else: switch to not available service internal page.
</I>&gt;<i> else if current is OK and state was not available: set to current
</I>&gt;<i>
</I>&gt;<i> If main uam server is ok and currently selecting the alternate,  
</I>&gt;<i> then switch back to the main uam server.
</I>&gt;<i>
</I>&gt;<i> Note that the monitoring process must not be launched by cron  
</I>&gt;<i> because all hotspot may try to send a monitoring request at the  
</I>&gt;<i> same time.
</I>&gt;<i> About some more alternatives, there could be also more than 1  
</I>&gt;<i> alternate server, and maybe it could be possible to use inexpensive  
</I>&gt;<i> ping requests in addition to http requests.
</I>&gt;<i>
</I>&gt;<i> Now, about the implementation, I don't know if it would be better/ 
</I>&gt;<i> easier to do this inside coova chilli, or in a monitoring script.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> What do you think about all this?
</I>&gt;<i>
</I>&gt;<i> Regards
</I>&gt;<i> Sophana
</I>&gt;<i>
</I>&gt;<i> ---------------------------------------------------------------------
</I>&gt;<i> To unsubscribe, e-mail: <A HREF="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">chilli-unsubscribe at coova.org</A>
</I>&gt;<i> For additional commands, e-mail: <A HREF="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">chilli-help at coova.org</A>
</I>&gt;<i> Wiki: <A HREF="http://coova.org/wiki/index.php/CoovaChilli">http://coova.org/wiki/index.php/CoovaChilli</A>
</I>&gt;<i> Forum: <A HREF="http://coova.org/phpBB3/viewforum.php?f=4">http://coova.org/phpBB3/viewforum.php?f=4</A>
</I>&gt;<i>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000114.html">UAM web server failover
</A></li>
	<LI>Next message: <A HREF="000117.html">UAM web server failover
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#116">[ date ]</a>
              <a href="thread.html#116">[ thread ]</a>
              <a href="subject.html#116">[ subject ]</a>
              <a href="author.html#116">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">More information about the Chilli
mailing list</a><br>
</body></html>
