<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Chilli] Coova and FTP
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:chilli%40coova.org?Subject=Re%3A%20%5BChilli%5D%20Coova%20and%20FTP&In-Reply-To=%3C201005171941.01946.serverinfo%40iast.it%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001385.html">
   <LINK REL="Next"  HREF="001400.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Chilli] Coova and FTP</H1>
    <B>Iacopo Spalletti</B> 
    <A HREF="mailto:chilli%40coova.org?Subject=Re%3A%20%5BChilli%5D%20Coova%20and%20FTP&In-Reply-To=%3C201005171941.01946.serverinfo%40iast.it%3E"
       TITLE="[Chilli] Coova and FTP">serverinfo at iast.it
       </A><BR>
    <I>Mon May 17 17:40:58 UTC 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="001385.html">[Chilli] [Patch] Fix access_request() to conform with radius pack ID semantics
</A></li>
        <LI>Next message: <A HREF="001400.html">[Chilli] Coova and FTP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1358">[ date ]</a>
              <a href="thread.html#1358">[ thread ]</a>
              <a href="subject.html#1358">[ subject ]</a>
              <a href="author.html#1358">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi, i'm trying to setup the firewall on a coova board, but apparently Coova 
doesn't go along well with FTP conntrack module in Linux
I have a shorewall-based firewall on the same host as coova which is basically 
configured to block every connection except some destination ports (HTTP, and 
such)
As for FTP protocol rules are based on conntrack helper, but apparently it 
can't detect connections routed via coova; this is the shorewall error message
Shorewall:wlan2net:REJECT:IN=tun0 OUT=eth3 SRC=10.34.0.2 DST=$DEST_IP LEN=60 
TOS=0x00 PREC=0x00 TTL=63 ID=51861 DF PROTO=TCP SPT=41279 DPT=65162 
WINDOW=5840 RES=0x00 SYN URGP=0

Where $DEST_IP is the FTP server on the internet, and the destination port is 
the passive FTP

I've tried both svn (rev 322) and 1.2.2 version with no success; i tried alse 
enabling the NOTRACK options in 
Any hint?

BTW: Disabling coova makes FTP work, and nf_conntrack_ftp is loaded correctly 
in both cases
-- 

Regards
Iacopo Spalletti
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001385.html">[Chilli] [Patch] Fix access_request() to conform with radius pack ID semantics
</A></li>
	<LI>Next message: <A HREF="001400.html">[Chilli] Coova and FTP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1358">[ date ]</a>
              <a href="thread.html#1358">[ thread ]</a>
              <a href="subject.html#1358">[ subject ]</a>
              <a href="author.html#1358">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">More information about the Chilli
mailing list</a><br>
</body></html>
