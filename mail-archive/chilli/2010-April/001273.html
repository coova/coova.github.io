<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Chilli] Squid transparent proxy on same server
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:chilli%40coova.org?Subject=Re%3A%20%5BChilli%5D%20Squid%20transparent%20proxy%20on%20same%20server&In-Reply-To=%3Cm2q3e888d0e1004141813m3d3fc7a6x10dac3bf40018ee3%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001267.html">
   <LINK REL="Next"  HREF="001276.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Chilli] Squid transparent proxy on same server</H1>
    <B>Jason Allen</B> 
    <A HREF="mailto:chilli%40coova.org?Subject=Re%3A%20%5BChilli%5D%20Squid%20transparent%20proxy%20on%20same%20server&In-Reply-To=%3Cm2q3e888d0e1004141813m3d3fc7a6x10dac3bf40018ee3%40mail.gmail.com%3E"
       TITLE="[Chilli] Squid transparent proxy on same server">jason at theallens.id.au
       </A><BR>
    <I>Thu Apr 15 01:13:12 UTC 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="001267.html">[Chilli] Squid transparent proxy on same server
</A></li>
        <LI>Next message: <A HREF="001276.html">[Chilli] Squid transparent proxy on same server
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1273">[ date ]</a>
              <a href="thread.html#1273">[ thread ]</a>
              <a href="subject.html#1273">[ subject ]</a>
              <a href="author.html#1273">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks Isidor, this looks great.

How does it work? ( I could not find any further details on coova's website
or wiki). Does chilli auto redirect the post-auth user received packets to
the defined proxy server? Is it only port 80 destination traffic? Thus if
squid is installed on the same box as coova (and apache), then 127.0.0.1 and
3128 would be valid and correct entries?

I'm using Coova v1.2.1 and have set the config file proxy settings to
127.0.0.1 3128 but am not seeing any client activity in squid's access.log.
I know squid is working properly, because if I define the proxy in a client
browser then squid's access.log is recording the relevant entries.


Thanks.

On Wed, Apr 14, 2010 at 14:42, Isidor Zeuner &lt;<A HREF="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">chilli at quidecco.de</A>&gt; wrote:

&gt;<i> Hi Jason,
</I>&gt;<i>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Can anyone share configuration settings (or point me towards and article
</I>&gt;<i> or
</I>&gt;<i> &gt; how-to), with regard to iptable rules, to ensure that port 80 traffic is
</I>&gt;<i> &gt; transparently routed through to squid? I'd need to ensure that port 80
</I>&gt;<i> &gt; traffic to the server itself is still available as the server runs apache
</I>&gt;<i> &gt; for teh charging portal.
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> The HS_POSTAUTH_PROXY and HS_POSTAUTH_PROXYPORT configuration settings
</I>&gt;<i> are there to configure a transparent proxy to handle requests after
</I>&gt;<i> the user is authenticated. This is handled through chilli, not
</I>&gt;<i> iptables, and does not prevent you from still running a web server.
</I>&gt;<i>
</I>&gt;<i> Best regards,
</I>&gt;<i>
</I>&gt;<i> Isidor
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Chilli mailing list
</I>&gt;<i> <A HREF="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">Chilli at coova.org</A>
</I>&gt;<i> <A HREF="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">http://lists.coova.org/cgi-bin/mailman/listinfo/chilli</A>
</I>&gt;<i>
</I>


-- 
Cheers,
Jason
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.coova.org/pipermail/chilli/attachments/20100415/70d446db/attachment.htm">http://lists.coova.org/pipermail/chilli/attachments/20100415/70d446db/attachment.htm</A>&gt;
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001267.html">[Chilli] Squid transparent proxy on same server
</A></li>
	<LI>Next message: <A HREF="001276.html">[Chilli] Squid transparent proxy on same server
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1273">[ date ]</a>
              <a href="thread.html#1273">[ thread ]</a>
              <a href="subject.html#1273">[ subject ]</a>
              <a href="author.html#1273">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">More information about the Chilli
mailing list</a><br>
</body></html>
