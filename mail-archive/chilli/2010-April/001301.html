<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Chilli] Squid transparent proxy on same server
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:chilli%40coova.org?Subject=Re%3A%20%5BChilli%5D%20Squid%20transparent%20proxy%20on%20same%20server&In-Reply-To=%3Ck2k3e888d0e1004192217j54bc5511x44a96e3365773973%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001291.html">
   <LINK REL="Next"  HREF="001313.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Chilli] Squid transparent proxy on same server</H1>
    <B>Jason Allen</B> 
    <A HREF="mailto:chilli%40coova.org?Subject=Re%3A%20%5BChilli%5D%20Squid%20transparent%20proxy%20on%20same%20server&In-Reply-To=%3Ck2k3e888d0e1004192217j54bc5511x44a96e3365773973%40mail.gmail.com%3E"
       TITLE="[Chilli] Squid transparent proxy on same server">jason at theallens.id.au
       </A><BR>
    <I>Tue Apr 20 05:17:55 UTC 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="001291.html">[Chilli] Squid transparent proxy on same server
</A></li>
        <LI>Next message: <A HREF="001313.html">[Chilli] Squid transparent proxy on same server
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1301">[ date ]</a>
              <a href="thread.html#1301">[ thread ]</a>
              <a href="subject.html#1301">[ subject ]</a>
              <a href="author.html#1301">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, Apr 14, 2010 at 14:42, Isidor Zeuner &lt;<A HREF="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">chilli at quidecco.de</A>&gt; wrote:

&gt;<i> Hi Jason,
</I>&gt;<i>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Can anyone share configuration settings (or point me towards and article
</I>&gt;<i> or
</I>&gt;<i> &gt; how-to), with regard to iptable rules, to ensure that port 80 traffic is
</I>&gt;<i> &gt; transparently routed through to squid? I'd need to ensure that port 80
</I>&gt;<i> &gt; traffic to the server itself is still available as the server runs apache
</I>&gt;<i> &gt; for teh charging portal.
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> The HS_POSTAUTH_PROXY and HS_POSTAUTH_PROXYPORT configuration settings
</I>&gt;<i> are there to configure a transparent proxy to handle requests after
</I>&gt;<i> the user is authenticated. This is handled through chilli, not
</I>&gt;<i> iptables, and does not prevent you from still running a web server.
</I>&gt;<i>
</I>&gt;<i> Best regards,
</I>&gt;<i>
</I>&gt;<i> Isidor
</I>&gt;<i>
</I>
For the information of other (potential) users, I have not been able to get
this successfully work with the Squid proxy on the same server as chilli
(ie. HS_POSTAUTH_PROXY = 127.0.0.1). I have confirmed, via lynx, that squid
works fine for localhost/127.0.0.1 connections, but it does not work through
chilli for chilli authenticated clients.

Debug logs showed redirection to squid, but according to squid logs it
(squid) was not receiving the request.

Unfortunately, I'm not development minded enough to know what the problem is
or might be. If anyone has it working in this scenario, I would like to hear
from you if your willing to provide some advice on your configuration.


Thanks.

-- 
Cheers,
Jason
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.coova.org/pipermail/chilli/attachments/20100420/21d385e6/attachment.htm">http://lists.coova.org/pipermail/chilli/attachments/20100420/21d385e6/attachment.htm</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001291.html">[Chilli] Squid transparent proxy on same server
</A></li>
	<LI>Next message: <A HREF="001313.html">[Chilli] Squid transparent proxy on same server
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1301">[ date ]</a>
              <a href="thread.html#1301">[ thread ]</a>
              <a href="subject.html#1301">[ subject ]</a>
              <a href="author.html#1301">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">More information about the Chilli
mailing list</a><br>
</body></html>
