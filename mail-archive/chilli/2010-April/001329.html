<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Chilli] MacAuth failing after wireless drop
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:chilli%40coova.org?Subject=Re%3A%20%5BChilli%5D%20MacAuth%20failing%20after%20wireless%20drop&In-Reply-To=%3C1272450338.4496.170.camel%40david-laptop%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001323.html">
   <LINK REL="Next"  HREF="001330.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Chilli] MacAuth failing after wireless drop</H1>
    <B>David Bird</B> 
    <A HREF="mailto:chilli%40coova.org?Subject=Re%3A%20%5BChilli%5D%20MacAuth%20failing%20after%20wireless%20drop&In-Reply-To=%3C1272450338.4496.170.camel%40david-laptop%3E"
       TITLE="[Chilli] MacAuth failing after wireless drop">david at coova.com
       </A><BR>
    <I>Wed Apr 28 10:25:38 UTC 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="001323.html">[Chilli] MacAuth failing after wireless drop
</A></li>
        <LI>Next message: <A HREF="001330.html">[Chilli] MacAuth failing after wireless drop
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1329">[ date ]</a>
              <a href="thread.html#1329">[ thread ]</a>
              <a href="subject.html#1329">[ subject ]</a>
              <a href="author.html#1329">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Yes, there is the macreauth feature, but I've seen it cause problems
with virus infected machines that will keep sending out HTTP requests.
The feature will start mac-auth for every &quot;original redirect&quot;. 

Mac-auth currently happens when the dhcp- &quot;connection&quot; is created, but
this can be there with the user not authenticated. To get the case where
an authenticated session has ended, but the dhcp connection exists, we
can run through mac-auth during DHCP of unauthenticated subscribers. 

David


On Mon, 2010-04-26 at 09:02 +0300, Liran Tal wrote:
&gt;<i> Hey Jason,
</I>&gt;<i> 
</I>&gt;<i> On Thu, Apr 22, 2010 at 9:03 AM, Jason Allen &lt;<A HREF="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">jason at theallens.id.au</A>&gt;
</I>&gt;<i> wrote:
</I>&gt;<i>         
</I>&gt;<i>         Hi,
</I>&gt;<i>         
</I>&gt;<i>         We are having a scenario where MacAuth clients are failing if
</I>&gt;<i>         they drop their wireless connection and re-connect again.
</I>&gt;<i>         
</I>&gt;<i>         /etc/chilli/config has &quot;HS_MACAUTH=on&quot; and HS_MACAUTHMODE is
</I>&gt;<i>         commented out, meaning radius auth. The MAC is setup correctly
</I>&gt;<i>         in the RADHECK table with attribute='Auth-Type' and
</I>&gt;<i>         value='Accept'
</I>&gt;<i>         
</I>&gt;<i>         The client can successfully automatically connect in the
</I>&gt;<i>         morning, but if they move to an area where their wireless
</I>&gt;<i>         connection drops and then re-established again shortly after,
</I>&gt;<i>         instead of being authenticated and having internet access they
</I>&gt;<i>         are redirected to the UAMHOMEPAGE (our login/purchase page).
</I>&gt;<i>         
</I>&gt;<i> 
</I>&gt;<i> I think not long ago David added some flags related to mac auth
</I>&gt;<i> (re-auth something, check the latest version's documentation).
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> -- 
</I>&gt;<i> -- 
</I>&gt;<i> Sincerely, Liran Tal
</I>&gt;<i> 
</I>&gt;<i> Founder and CTO
</I>&gt;<i> Linux and Open Source
</I>&gt;<i> Enginx - <A HREF="http://enginx.com">http://enginx.com</A>
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Chilli mailing list
</I>&gt;<i> <A HREF="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">Chilli at coova.org</A>
</I>&gt;<i> <A HREF="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">http://lists.coova.org/cgi-bin/mailman/listinfo/chilli</A>
</I>

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001323.html">[Chilli] MacAuth failing after wireless drop
</A></li>
	<LI>Next message: <A HREF="001330.html">[Chilli] MacAuth failing after wireless drop
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1329">[ date ]</a>
              <a href="thread.html#1329">[ thread ]</a>
              <a href="subject.html#1329">[ subject ]</a>
              <a href="author.html#1329">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">More information about the Chilli
mailing list</a><br>
</body></html>
