<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Chilli] CoovaChilli not redirecting
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:chilli%40coova.org?Subject=Re%3A%20%5BChilli%5D%20CoovaChilli%20not%20redirecting&In-Reply-To=%3C6239A24C38D2594FB682374DF81215836A51157F02%40GBDCCCR01.PaperlinX-EU.Local%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002757.html">
   <LINK REL="Next"  HREF="002759.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Chilli] CoovaChilli not redirecting</H1>
    <B>Dennehy, Liam</B> 
    <A HREF="mailto:chilli%40coova.org?Subject=Re%3A%20%5BChilli%5D%20CoovaChilli%20not%20redirecting&In-Reply-To=%3C6239A24C38D2594FB682374DF81215836A51157F02%40GBDCCCR01.PaperlinX-EU.Local%3E"
       TITLE="[Chilli] CoovaChilli not redirecting">Liam.Dennehy at paperlinx.com
       </A><BR>
    <I>Wed Jun  4 09:33:12 UTC 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="002757.html">[Chilli] Coova multi-session accounting
</A></li>
        <LI>Next message: <A HREF="002759.html">[Chilli] miniportal: wwwsh wrapper not receiving POST via stdin for login.chi
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2758">[ date ]</a>
              <a href="thread.html#2758">[ thread ]</a>
              <a href="subject.html#2758">[ subject ]</a>
              <a href="author.html#2758">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Steve

I just went through what I hope is something similar to your situation.

Coova intercepts a HTTP request from the client and redirects them to the portal. To do this the client needs to:
1. Have an IP address
2. Know that the coova IP is the DNS server
3. Send a DNS request to coova
4. Coova will resolve the IP with DNS and return it to the client
5. The client makes a HTTP request to the returned IP
6. Coova spoofs a response to that request, directing users to the portal URL

My fresh-build config was failing on 4 since I was dropping DNS requests, and the IP used by coova was not routed so I needed to MASQUERADE them. If your DNS server is not local to Coova this may be your cause.

Liam Dennehy
Technical Design Authority
PaperlinX Europe
M: +31 621 877 185


-----Original Message-----
From: <A HREF="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">chilli-bounces at coova.org</A> [mailto:<A HREF="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">chilli-bounces at coova.org</A>] On Behalf Of Stephen Davies
Sent: 16 May 2014 10:10
To: <A HREF="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">chilli at coova.org</A>
Subject: [Chilli] CoovaChilli not redirecting

Hello all,

Having finally got to grips with Coova, my final unsolved problem is
that before authentication, users are not redirected to the login page
when they request a URL. If I manually enter the Coova server address
&quot;<A HREF="http://10.1.0.1:3990">http://10.1.0.1:3990</A>&quot; it then redirects? Does anyone know why it is
failing. I have seen a few posts regarding this. I am running Coova on
OpenWRT which could be the problem and not Coova.

Thanks
Steve


_______________________________________________
Chilli mailing list
<A HREF="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">Chilli at coova.org</A>
<A HREF="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">http://lists.coova.org/cgi-bin/mailman/listinfo/chilli</A>

This email is privileged and confidential and is intended only for those to whom it is addressed. If you are not the intended recipient then any disclosure, dissemination, copying or use of the information is strictly prohibited. If you have received this email in error, please notify this office immediately by return email.

Before opening any attachments please make sure they have been checked for viruses and defects.
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002757.html">[Chilli] Coova multi-session accounting
</A></li>
	<LI>Next message: <A HREF="002759.html">[Chilli] miniportal: wwwsh wrapper not receiving POST via stdin for login.chi
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2758">[ date ]</a>
              <a href="thread.html#2758">[ thread ]</a>
              <a href="subject.html#2758">[ subject ]</a>
              <a href="author.html#2758">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">More information about the Chilli
mailing list</a><br>
</body></html>
