<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> Bypass Chilli using alternate IPs?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:chilli%40coova.org?Subject=Re%3A%20Bypass%20Chilli%20using%20alternate%20IPs%3F&In-Reply-To=%3C481C98CC.9040303%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000232.html">
   <LINK REL="Next"  HREF="000235.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Bypass Chilli using alternate IPs?</H1>
    <B>Gunther Mayer</B> 
    <A HREF="mailto:chilli%40coova.org?Subject=Re%3A%20Bypass%20Chilli%20using%20alternate%20IPs%3F&In-Reply-To=%3C481C98CC.9040303%40gmail.com%3E"
       TITLE="Bypass Chilli using alternate IPs?">gunther.mayer at googlemail.com
       </A><BR>
    <I>Sat May  3 16:54:36 UTC 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000232.html">Bypass Chilli using alternate IPs?
</A></li>
        <LI>Next message: <A HREF="000235.html">Bypass Chilli using alternate IPs?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#234">[ date ]</a>
              <a href="thread.html#234">[ thread ]</a>
              <a href="subject.html#234">[ subject ]</a>
              <a href="author.html#234">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Tuc at T-B-O-H.NET wrote:
&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> 	I'll start out saying this is a Chillispot problem on DD-WRT. 
</I>&gt;<i> Unfortunately, support on the DD-WRT forum is generally lacking, so I
</I>&gt;<i> come to you hoping that since this is a branch you'll be able to understand
</I>&gt;<i> and suggest a change for me. If not, I certaininly understand.
</I>&gt;<i>
</I>&gt;<i> 	On a sample DD-WRT router, I have the chilli.conf to be :
</I>&gt;<i>
</I>&gt;<i> radiusserver1 EXAMPLE.IP.ADDRESS.HERE
</I>&gt;<i> radiusserver2 EXAMPLE.IP.ADDRESS.HERE
</I>&gt;<i> radiussecret TMCQgnAW3f9g31
</I>&gt;<i> dhcpif br0
</I>&gt;<i> uamserver <A HREF="http://www.example.com/cgi-bin/UAM/uam.cgi">http://www.example.com/cgi-bin/UAM/uam.cgi</A>
</I>&gt;<i> dns1 EXAMPLE.IP.ADDRESS.HERE
</I>&gt;<i> uamsecret aERP68Fi3d9gkh0
</I>&gt;<i> uamallowed www.paypal.com,www.paypalobjects.com,www.seabreezeconnections.com
</I>&gt;<i> radiusnasid SBC-2064
</I>&gt;<i> radiuslisten 192.168.50.13
</I>&gt;<i>
</I>&gt;<i> 	and :
</I>&gt;<i>
</I>&gt;<i> # ifconfig br0
</I>&gt;<i> br0       Link encap:Ethernet  HWaddr 00:16:01:D1:90:3A  
</I>&gt;<i>           inet addr:192.168.1.1  Bcast:192.168.1.255  Mask:255.255.255.0
</I>&gt;<i>           UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
</I>&gt;<i>           RX packets:6981 errors:0 dropped:0 overruns:0 frame:0
</I>&gt;<i>           TX packets:7444 errors:0 dropped:0 overruns:0 carrier:0
</I>&gt;<i>           collisions:0 txqueuelen:0 
</I>&gt;<i>           RX bytes:690194 (674.0 KiB)  TX bytes:5253782 (5.0 MiB)
</I>&gt;<i>
</I>&gt;<i>  # ifconfig tun0
</I>&gt;<i> tun0      Link encap:UNSPEC  HWaddr 00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00  
</I>&gt;<i>           inet addr:192.168.182.1  P-t-P:192.168.182.1  Mask:255.255.255.0
</I>&gt;<i>           UP POINTOPOINT RUNNING  MTU:1500  Metric:1
</I>&gt;<i>           RX packets:5706 errors:0 dropped:0 overruns:0 frame:0
</I>&gt;<i>           TX packets:7222 errors:0 dropped:0 overruns:0 carrier:0
</I>&gt;<i>           collisions:0 txqueuelen:10 
</I>&gt;<i>           RX bytes:555035 (542.0 KiB)  TX bytes:5097966 (4.8 MiB)
</I>&gt;<i>
</I>&gt;<i> # ifconfig vlan1
</I>&gt;<i> vlan1     Link encap:Ethernet  HWaddr 00:16:01:D1:90:3B  
</I>&gt;<i>           inet addr:192.168.50.13  Bcast:192.168.50.255  Mask:255.255.255.0
</I>&gt;<i>           UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
</I>&gt;<i>           RX packets:263049 errors:0 dropped:0 overruns:0 frame:0
</I>&gt;<i>           TX packets:128066 errors:0 dropped:0 overruns:0 carrier:0
</I>&gt;<i>           collisions:0 txqueuelen:0 
</I>&gt;<i>           RX bytes:31820918 (30.3 MiB)  TX bytes:11358988 (10.8 MiB)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> 	We've found out that if you MANUALLY set your IP to be in the 192.168.1.X
</I>&gt;<i> range, set 192.168.1.1 as the gateway, and set your own DNS servers.... You can
</I>&gt;<i> surf w/o authenticating... Which is a VERY bad thing...
</I>&gt;<i>
</I>&gt;<i> 	Is there a way to stop this? (Additional information provided if
</I>&gt;<i> necessary.)
</I>&gt;<i>   
</I>I ran across this issue years ago. Your problem is that you have two lan 
interfaces, the tun0 one (192.168.182.1/24) and the br0 one. Nothing 
stops your box from routing stuff through br0 (the surfing w/o 
authenticating). One way to avoid that is to have no ip active on br0 
but DD-WRT doesn't allow you enough control to do that iirc. But here's 
a simple fix: Put

iptables -I FORWARD -i br0 -j DROP

in your firwall commands and nobody will be able to do that anymore.

In future, please use coova-ap, it's infinitely better, fully open 
source and less evil than DD-WRT ;-) well, don't want to start a thread 
on dd-wrt vs the rest here...

Gunther

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000232.html">Bypass Chilli using alternate IPs?
</A></li>
	<LI>Next message: <A HREF="000235.html">Bypass Chilli using alternate IPs?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#234">[ date ]</a>
              <a href="thread.html#234">[ thread ]</a>
              <a href="subject.html#234">[ subject ]</a>
              <a href="author.html#234">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">More information about the Chilli
mailing list</a><br>
</body></html>
