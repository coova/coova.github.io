<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Chilli] Layer3: help with connections / dhcp connections
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:chilli%40coova.org?Subject=Re%3A%20%5BChilli%5D%20Layer3%3A%20help%20with%20connections%20/%20dhcp%20connections&In-Reply-To=%3C528E2A1A.80104%40labs.it%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002457.html">
   <LINK REL="Next"  HREF="002466.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Chilli] Layer3: help with connections / dhcp connections</H1>
    <B>Michele Bergonzoni</B> 
    <A HREF="mailto:chilli%40coova.org?Subject=Re%3A%20%5BChilli%5D%20Layer3%3A%20help%20with%20connections%20/%20dhcp%20connections&In-Reply-To=%3C528E2A1A.80104%40labs.it%3E"
       TITLE="[Chilli] Layer3: help with connections / dhcp connections">bergonz at labs.it
       </A><BR>
    <I>Thu Nov 21 15:43:22 UTC 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="002457.html">[Chilli] CoovaChilli 1.3.0 does not call dhcp release mac after idle timeout
</A></li>
        <LI>Next message: <A HREF="002466.html">[Chilli] Layer3: help with connections / dhcp connections
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2458">[ date ]</a>
              <a href="thread.html#2458">[ thread ]</a>
              <a href="subject.html#2458">[ subject ]</a>
              <a href="author.html#2458">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have a problem in a Layer3 setup, where in front of the DHCP interface 
what I have is not one router but two redundant routers.

They have two physical MACs and one virtual MAC (typical HSRP setup).

Packets from the same client are coming sometimes from the first 
physical MAC, sometimes from the second.

This means that Coovachilli creates a DHCP connection for the first mac, 
and then a subsequent packet creates a new DHCP connection.

If I force all traffic to come from the same MAC things do work, but 
that would mean giving up redundancy in the aggregation network.

Is there any kind person who can suggest how to decouple the IP source 
from the MAC source, always replying to what's in the ARP cache for the 
gateway (in this case, the virtual MAC address)?

If it isn't a configuration switch that I'm missing, I am willing to 
change the source, so a generic guidance about what file/functions 
should be hacked is very welcome.

Regards,
				Bergonz
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002457.html">[Chilli] CoovaChilli 1.3.0 does not call dhcp release mac after idle timeout
</A></li>
	<LI>Next message: <A HREF="002466.html">[Chilli] Layer3: help with connections / dhcp connections
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2458">[ date ]</a>
              <a href="thread.html#2458">[ thread ]</a>
              <a href="subject.html#2458">[ subject ]</a>
              <a href="author.html#2458">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">More information about the Chilli
mailing list</a><br>
</body></html>
