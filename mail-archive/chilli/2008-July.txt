From henk at skyrove.com  Tue Jul  1 13:24:18 2008
From: henk at skyrove.com (Henk Kleynhans)
Date: Tue, 1 Jul 2008 15:24:18 +0200
Subject: WDS Troubleshooting
Message-ID: <d42f029a0807010624y6b7879c9u33c59757f4a21b7b@mail.gmail.com>

I'm having a tough time getting stability on a test WDS setup using
CoovaAP (0.9).

When I do get it to work, I find I can't do the following:

1. I can't ping one router from the other's console. (However, I can
successfully ping both from a client PC connected to either router)

 (NOTE: I've  discovered that I can ARPing from the Host Router to the
Repeater, from br0 (like so: "arping -I br0 192.168.182.2", but NOT
vice versa!)

2. Obviously, not being able to ping, I also can't ssh from one router
to the other (though I can ssh into either from a client PC connected
to either)

Why is this?

How can I check the status of my WDS links? (and possibly try to
re-initiate a link if it appears to be down...)

I also find that if the Host Router gets power cycled, the WDS link
appears to go down.

Any help will be greatly appreciated!

Henk

-- 
Henk Kleynhans
Skyrove (Pty) Ltd
Technology Top 100 - Most Promising Emerging Enterprise 2006
Tel: +27 (21) 4488843
Cell: +27 (84) 3073451
Fax: +27 (86) 6204077
henk at skyrove.com
 blog: www.yeahfi.com

------

"A person with ubuntu is open and available to others, affirming of
others, does not feel threatened that others are able and good, for he
or she has a proper self-assurance that comes from knowing that he or
she belongs in a greater whole and is diminished when others are
humiliated or diminished, when others are tortured or oppressed." -
Desmond Tutu


From npf-mlists at eurotux.com  Sat Jul  5 11:24:38 2008
From: npf-mlists at eurotux.com (Nuno Fernandes)
Date: Sat, 5 Jul 2008 12:24:38 +0100
Subject: Coova is Ipsec capable?
Message-ID: <200807051224.39023.npf-mlists@eurotux.com>

Hi,

I have several cisco wireless routers that automaticaly assign ips to the 
wireless network. When a user tries to access the internet, all traffic is 
routed using an ipsec vpn to the datacenter vpn concentrator (linux box).

I would like to know if i can install coovachilli in the vpn concentrator so 
that it acts like a central access controler?

Thanks,
Nuno Fernandes


From wlan at mac.com  Sat Jul  5 12:11:09 2008
From: wlan at mac.com (wlanmac)
Date: Sat, 05 Jul 2008 14:11:09 +0200
Subject: Coova is Ipsec capable?
In-Reply-To: <200807051224.39023.npf-mlists@eurotux.com>
References: <200807051224.39023.npf-mlists@eurotux.com>
Message-ID: <1215259869.6978.25.camel@david-laptop>

Chilli needs to get layer 2 traffic directly from the subscriber (client
device) and should be handling DHCP, so it depends greatly on your
network topology specifics. The test should be: does your concentrator
see the MAC addresses of the subscribers? 


On Sat, 2008-07-05 at 12:24 +0100, Nuno Fernandes wrote:
> Hi,
> 
> I have several cisco wireless routers that automaticaly assign ips to the 
> wireless network. When a user tries to access the internet, all traffic is 
> routed using an ipsec vpn to the datacenter vpn concentrator (linux box).
> 
> I would like to know if i can install coovachilli in the vpn concentrator so 
> that it acts like a central access controler?
> 
> Thanks,
> Nuno Fernandes
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: chilli-unsubscribe at coova.org
> For additional commands, e-mail: chilli-help at coova.org
> Wiki: http://coova.org/wiki/index.php/CoovaChilli
> Forum: http://coova.org/phpBB3/viewforum.php?f=4
> 



From npf-mlists at eurotux.com  Tue Jul  8 11:12:27 2008
From: npf-mlists at eurotux.com (Nuno Fernandes)
Date: Tue, 8 Jul 2008 12:12:27 +0100
Subject: Coova is Ipsec capable?
In-Reply-To: <1215259869.6978.25.camel@david-laptop>
References: <200807051224.39023.npf-mlists@eurotux.com> <1215259869.6978.25.camel@david-laptop>
Message-ID: <200807081212.27960.npf-mlists@eurotux.com>

On Saturday 05 July 2008 13:11:09 wlanmac wrote:
> Chilli needs to get layer 2 traffic directly from the subscriber (client
> device) and should be handling DHCP, so it depends greatly on your
> network topology specifics. The test should be: does your concentrator
> see the MAC addresses of the subscribers?
Nops.. 


I guess i'll have to change the cisco wireless routers with coova ap ones..

Do you know which aps are supported?
From http://coova.org/wiki/index.php/CoovaAP i can see:

    *  Raw broadcom trx image *
    * Linksys WRT54GL
    * Linksys WRT54G **
    * Linksys WRT54GS ***
    * Linksys WRT54GS v4 ***
    * Other versions and devices 

* For Upgrading CoovaAP and other devices.

** Linksys WRT54G hardware versions 1 through 4 (NOT version 5) with serial 
number starting with "CDF0" through "CDF9" or "CDFA".

*** Linksys WRT54GS hardware version 1 through 4 (NOT version 5) with serial 
number starting with "CGN0" through "CGN6". 

Are these the only ones?

Thanks
Nuno Fernandes

>
> On Sat, 2008-07-05 at 12:24 +0100, Nuno Fernandes wrote:
> > Hi,
> >
> > I have several cisco wireless routers that automaticaly assign ips to the
> > wireless network. When a user tries to access the internet, all traffic
> > is routed using an ipsec vpn to the datacenter vpn concentrator (linux
> > box).
> >
> > I would like to know if i can install coovachilli in the vpn concentrator
> > so that it acts like a central access controler?
> >
> > Thanks,
> > Nuno Fernandes
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: chilli-unsubscribe at coova.org
> > For additional commands, e-mail: chilli-help at coova.org
> > Wiki: http://coova.org/wiki/index.php/CoovaChilli
> > Forum: http://coova.org/phpBB3/viewforum.php?f=4
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: chilli-unsubscribe at coova.org
> For additional commands, e-mail: chilli-help at coova.org
> Wiki: http://coova.org/wiki/index.php/CoovaChilli
> Forum: http://coova.org/phpBB3/viewforum.php?f=4




From MAISSE at esiee-amiens.fr  Wed Jul  9 13:59:05 2008
From: MAISSE at esiee-amiens.fr (=?UTF-8?Q?S=C3=A9bastien=20MAISSE?=)
Date: Wed, 09 Jul 2008 15:59:05 +0200
Subject: Problem with coova-chilli and eth1 on debian etch AMD64
Message-ID: <4874E056.470D.0087.0@esiee-amiens.fr>

Hello,

I have a problem with Coova-chilli version 1.0.12 on debian etch
AMD64.

My problem is that when coova-chilli starts, it created tun0 normally,

but it is a problem for my network card eth1.

Before they start coova-chilli : ifconfig eth1

eth1      Lien encap:Ethernet  HWaddr 00:1E:C9:3E:6E:9C
          inet adr:192.168.10.1  Bcast:192.168.10.255 
Masque:255.255.255.0
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 lg file transmission:1000
          RX bytes:0 (0.0 b)  TX bytes:0 (0.0 b)
          Interruption:185

Une fois, coova-chilli lanc?, ifconfig eth1 :

After starting coova-chilli : ifconfig eth1

eth1      Lien encap:Ethernet  HWaddr 00:1E:C9:3E:6E:9C
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:597 errors:0 dropped:0 overruns:0 frame:0
          TX packets:578 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 lg file transmission:1000
          RX bytes:95722 (93.4 KiB)  TX bytes:455419 (444.7 KiB)
          Interruption:185

Once coova stop eth1 remains in the same state.

Is it a bug on the AMD64 architecture ?

Cordialy,

S?bastien Maisse

ESIEE Amiens
Technicien du SMIB
EPI 1 - Bureau 219
T?l : 03.22.66.20.88
Fax : 03.22.66.20.10



From wlan at mac.com  Wed Jul  9 14:13:33 2008
From: wlan at mac.com (wlanmac)
Date: Wed, 09 Jul 2008 16:13:33 +0200
Subject: Problem with coova-chilli and eth1 on debian etch AMD64
In-Reply-To: <4874E056.470D.0087.0@esiee-amiens.fr>
References: <4874E056.470D.0087.0@esiee-amiens.fr>
Message-ID: <1215612813.6940.64.camel@david-laptop>

Someone else mentioned this to me lately too. I didn't consider it a bug
since chilli is usually given an interface not yet configured with an IP
address. Which is a good policy to have since it will get complicated if
that IP also has services (DHCP, DNS, etc) associated with it.
Reconfiguring or restoring an interface to its non-chilli status
(perhaps including restarting dhcp/dns) sounds like a good job for the
ipup and ipdown scripts. 

David


On Wed, 2008-07-09 at 15:59 +0200, S?bastien MAISSE wrote:
> Hello,
> 
> I have a problem with Coova-chilli version 1.0.12 on debian etch
> AMD64.
> 
> My problem is that when coova-chilli starts, it created tun0 normally,
> 
> but it is a problem for my network card eth1.
> 
> Before they start coova-chilli : ifconfig eth1
> 
> eth1      Lien encap:Ethernet  HWaddr 00:1E:C9:3E:6E:9C
>           inet adr:192.168.10.1  Bcast:192.168.10.255 
> Masque:255.255.255.0
>           UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
>           RX packets:0 errors:0 dropped:0 overruns:0 frame:0
>           TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
>           collisions:0 lg file transmission:1000
>           RX bytes:0 (0.0 b)  TX bytes:0 (0.0 b)
>           Interruption:185
> 
> Une fois, coova-chilli lanc?, ifconfig eth1 :
> 
> After starting coova-chilli : ifconfig eth1
> 
> eth1      Lien encap:Ethernet  HWaddr 00:1E:C9:3E:6E:9C
>           UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
>           RX packets:597 errors:0 dropped:0 overruns:0 frame:0
>           TX packets:578 errors:0 dropped:0 overruns:0 carrier:0
>           collisions:0 lg file transmission:1000
>           RX bytes:95722 (93.4 KiB)  TX bytes:455419 (444.7 KiB)
>           Interruption:185
> 
> Once coova stop eth1 remains in the same state.
> 
> Is it a bug on the AMD64 architecture ?
> 
> Cordialy,
> 
> S?bastien Maisse
> 
> ESIEE Amiens
> Technicien du SMIB
> EPI 1 - Bureau 219
> T?l : 03.22.66.20.88
> Fax : 03.22.66.20.10
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: chilli-unsubscribe at coova.org
> For additional commands, e-mail: chilli-help at coova.org
> Wiki: http://coova.org/wiki/index.php/CoovaChilli
> Forum: http://coova.org/phpBB3/viewforum.php?f=4
> 



From BrunoRobert.Urech at comfone.com  Wed Jul  9 14:34:59 2008
From: BrunoRobert.Urech at comfone.com (Urech Bruno)
Date: Wed, 9 Jul 2008 16:34:59 +0200
Subject: Problem with coova-chilli and eth1 on debian etch AMD64
In-Reply-To: <1215612813.6940.64.camel@david-laptop>
References: <4874E056.470D.0087.0@esiee-amiens.fr> <1215612813.6940.64.camel@david-laptop>
Message-ID: <81B2B4AE03A22D4490CD35A0F20F89E003D12341@thsvml00.togewa.com>

If you have "auto eth1 inet static" with all the entries (IP, mask, etc) in the /etc/network/interfaces file and if you do a networking restart, after stoping chilli, the IP will be there again if you look for it with ifconfig (at least with Coova-chilli 1.0.8 and 1.0.11 on Ubuntu Hardy Heron, i tested with). 

Bruno





-----Original Message-----
From: dwbird at mac.com [mailto:dwbird at mac.com] On Behalf Of wlanmac
Sent: Mittwoch, 9. Juli 2008 16:14
To: chilli at coova.org
Subject: Re: Problem with coova-chilli and eth1 on debian etch AMD64

Someone else mentioned this to me lately too. I didn't consider it a bug since chilli is usually given an interface not yet configured with an IP address. Which is a good policy to have since it will get complicated if that IP also has services (DHCP, DNS, etc) associated with it.
Reconfiguring or restoring an interface to its non-chilli status (perhaps including restarting dhcp/dns) sounds like a good job for the ipup and ipdown scripts. 

David


On Wed, 2008-07-09 at 15:59 +0200, S?bastien MAISSE wrote:
> Hello,
> 
> I have a problem with Coova-chilli version 1.0.12 on debian etch 
> AMD64.
> 
> My problem is that when coova-chilli starts, it created tun0 normally,
> 
> but it is a problem for my network card eth1.
> 
> Before they start coova-chilli : ifconfig eth1
> 
> eth1      Lien encap:Ethernet  HWaddr 00:1E:C9:3E:6E:9C
>           inet adr:192.168.10.1  Bcast:192.168.10.255 
> Masque:255.255.255.0
>           UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
>           RX packets:0 errors:0 dropped:0 overruns:0 frame:0
>           TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
>           collisions:0 lg file transmission:1000
>           RX bytes:0 (0.0 b)  TX bytes:0 (0.0 b)
>           Interruption:185
> 
> Une fois, coova-chilli lanc?, ifconfig eth1 :
> 
> After starting coova-chilli : ifconfig eth1
> 
> eth1      Lien encap:Ethernet  HWaddr 00:1E:C9:3E:6E:9C
>           UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
>           RX packets:597 errors:0 dropped:0 overruns:0 frame:0
>           TX packets:578 errors:0 dropped:0 overruns:0 carrier:0
>           collisions:0 lg file transmission:1000
>           RX bytes:95722 (93.4 KiB)  TX bytes:455419 (444.7 KiB)
>           Interruption:185
> 
> Once coova stop eth1 remains in the same state.
> 
> Is it a bug on the AMD64 architecture ?
> 
> Cordialy,
> 
> S?bastien Maisse
> 
> ESIEE Amiens
> Technicien du SMIB
> EPI 1 - Bureau 219
> T?l : 03.22.66.20.88
> Fax : 03.22.66.20.10
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: chilli-unsubscribe at coova.org For additional 
> commands, e-mail: chilli-help at coova.org
> Wiki: http://coova.org/wiki/index.php/CoovaChilli
> Forum: http://coova.org/phpBB3/viewforum.php?f=4
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: chilli-unsubscribe at coova.org For additional commands, e-mail: chilli-help at coova.org
Wiki: http://coova.org/wiki/index.php/CoovaChilli
Forum: http://coova.org/phpBB3/viewforum.php?f=4



From ian.coffey at gmail.com  Fri Jul 18 15:01:53 2008
From: ian.coffey at gmail.com (IanC)
Date: Fri, 18 Jul 2008 11:01:53 -0400
Subject: Script triggers.
Message-ID: <3ea93a690807180801p324cafa8ufc2e29ca2de37710@mail.gmail.com>

Hello everyone.

Is there any hooks for triggering a script to run when Chilli starts a
new session with a new wireless user? I need to fire a script off
every time Chilli sees a new MAC, preferably right before the gets
DHCP process starts.

Looks like conup would be after DHCP and auth, so that wont work. Do I
have to modify Chilli to get this to work? I wanted to stay away from
that if possible.

Thanks!


From wlan at mac.com  Fri Jul 18 15:53:22 2008
From: wlan at mac.com (wlanmac)
Date: Fri, 18 Jul 2008 17:53:22 +0200
Subject: Script triggers.
In-Reply-To: <3ea93a690807180801p324cafa8ufc2e29ca2de37710@mail.gmail.com>
References: <3ea93a690807180801p324cafa8ufc2e29ca2de37710@mail.gmail.com>
Message-ID: <1216396402.7160.54.camel@david-laptop>

You could have chilli relay DHCP to something like FreeRADIUS :)

If you didn't know, it now supports DHCP too. 

There is no way to kick off a script prior to DHCP assignment with
chilli - without modification. 


On Fri, 2008-07-18 at 11:01 -0400, IanC wrote:
> Hello everyone.
> 
> Is there any hooks for triggering a script to run when Chilli starts a
> new session with a new wireless user? I need to fire a script off
> every time Chilli sees a new MAC, preferably right before the gets
> DHCP process starts.
> 
> Looks like conup would be after DHCP and auth, so that wont work. Do I
> have to modify Chilli to get this to work? I wanted to stay away from
> that if possible.
> 
> Thanks!
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: chilli-unsubscribe at coova.org
> For additional commands, e-mail: chilli-help at coova.org
> Wiki: http://coova.org/wiki/index.php/CoovaChilli
> Forum: http://coova.org/phpBB3/viewforum.php?f=4
> 



From charles at thewybles.com  Fri Jul 18 16:45:06 2008
From: charles at thewybles.com (Charles Wyble)
Date: Fri, 18 Jul 2008 09:45:06 -0700
Subject: Script triggers.
In-Reply-To: <1216396402.7160.54.camel@david-laptop>
References: <3ea93a690807180801p324cafa8ufc2e29ca2de37710@mail.gmail.com> <1216396402.7160.54.camel@david-laptop>
Message-ID: <4880C892.6060807@thewybles.com>

Hello,

So often times when people ask things like this I respond with the question:

What are you trying to accomplish? :)

wlanmac suggestion of RADIUS was what I was going to suggest as well. 
However it would
be helpful to know what you are trying to accomplish, and perhaps we can 
share tips/tricks to help
you get it done?

Often times the first approach to solving a problem will be 
unnecessarily complicated and can be
greatly simplified by others who have been there done that. :)

 

-- 
Charles Wyble (818) 280 - 7059
http://charlesnw.blogspot.com
CTO Known Element Enterprises / SoCal WiFI project



From gdamjan at mail.net.mk  Sat Jul 19 17:34:33 2008
From: gdamjan at mail.net.mk (Damjan)
Date: Sat, 19 Jul 2008 19:34:33 +0200
Subject: Public wifi / splash only
Message-ID: <20080719173433.GA30858@legolas.on.net.mk>

Hi all,
I have my WRT and it's wifi publically open for all, but I'd like to
display a splash page for each new session so that they understand what
I'm giving them and not misuse it.

Further reuirements are that no other resources are used, I want
everything to be done on the WRT, and I'd skip the use of radius (since
it would be an overkill).

I know I could use Chilli for all this, but before studying all of the
documentation I was wondering if there's a quick howto for exactly this
scenario.


-- 
damjan | ??????
This is my jabber ID -->         damjan at bagra.net.mk 
 -- not my mail address, it's a Jabber ID --^ :)


From wlan at mac.com  Sun Jul 20 13:49:21 2008
From: wlan at mac.com (wlanmac)
Date: Sun, 20 Jul 2008 15:49:21 +0200
Subject: Public wifi / splash only
In-Reply-To: <20080719173433.GA30858@legolas.on.net.mk>
References: <20080719173433.GA30858@legolas.on.net.mk>
Message-ID: <1216561761.15635.5.camel@david-laptop>

Sorry, but I haven't had the time to document this kind of setup... if
you do research it, feel free to consolidate your findings into a wiki
page. 


On Sat, 2008-07-19 at 19:34 +0200, Damjan wrote:
> Hi all,
> I have my WRT and it's wifi publically open for all, but I'd like to
> display a splash page for each new session so that they understand what
> I'm giving them and not misuse it.
> 
> Further reuirements are that no other resources are used, I want
> everything to be done on the WRT, and I'd skip the use of radius (since
> it would be an overkill).
> 
> I know I could use Chilli for all this, but before studying all of the
> documentation I was wondering if there's a quick howto for exactly this
> scenario.
> 
> 



From ccesario at tecnomega.com.br  Mon Jul 21 17:02:25 2008
From: ccesario at tecnomega.com.br (Carlos Cesario)
Date: Mon, 21 Jul 2008 14:02:25 -0300
Subject: Captive Stopped
Message-ID: <1216659745.10317.4.camel@ccesario-laptop>

Hi guys,

I'm having problems with coovachilli, its the problem....

Sporadically (each 2, 3 or 4 days) the captive system stop, allowing my
users access direct to internet... without authentication.

Then, if I restart the coovachilli  process, the login page is required
again..

somebody have any idea about solve this ?

thanks

Carlos




From liran.tal at gmail.com  Tue Jul 22 07:01:14 2008
From: liran.tal at gmail.com (Liran Tal)
Date: Tue, 22 Jul 2008 10:01:14 +0300
Subject: Captive Stopped
In-Reply-To: <1216659745.10317.4.camel@ccesario-laptop>
References: <1216659745.10317.4.camel@ccesario-laptop>
Message-ID: <81237f640807220001ycdf520cif982972659608945@mail.gmail.com>

Hey Carlos,

On Mon, Jul 21, 2008 at 8:02 PM, Carlos Cesario <ccesario at tecnomega.com.br>
wrote:

> Hi guys,
>
> I'm having problems with coovachilli, its the problem....
>
> Sporadically (each 2, 3 or 4 days) the captive system stop, allowing my
> users access direct to internet... without authentication.
>

1. Are you seeing anything in the logs? If you didn't enable it then enable
full debugging log and take a look at it when this happens (BEFORE you
restart coovachilli)

2. Is it possible that the coovachilli process dies and users are allowed
internet connection because of the current
configuration scheme in your network?




-- 
-- 
Sincerely, Liran Tal

Research and Development
Linux Team - Enginx.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.coova.org/pipermail/chilli/attachments/20080722/b089bfae/attachment.htm>

From wlan at mac.com  Tue Jul 22 07:34:04 2008
From: wlan at mac.com (wlanmac)
Date: Tue, 22 Jul 2008 09:34:04 +0200
Subject: Captive Stopped
In-Reply-To: <1216659745.10317.4.camel@ccesario-laptop>
References: <1216659745.10317.4.camel@ccesario-laptop>
Message-ID: <1216712044.6955.5.camel@david-laptop>

It is interesting that your network still works without chilli running..
As if it were turned off and the network reset to the original state
(with DHCP server running, iptables rules cleared, etc). Is your machine
rebooting?

David

On Mon, 2008-07-21 at 14:02 -0300, Carlos Cesario wrote:
> Hi guys,
> 
> I'm having problems with coovachilli, its the problem....
> 
> Sporadically (each 2, 3 or 4 days) the captive system stop, allowing my
> users access direct to internet... without authentication.
> 
> Then, if I restart the coovachilli  process, the login page is required
> again..
> 
> somebody have any idea about solve this ?
> 
> thanks
> 
> Carlos
> 
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: chilli-unsubscribe at coova.org
> For additional commands, e-mail: chilli-help at coova.org
> Wiki: http://coova.org/wiki/index.php/CoovaChilli
> Forum: http://coova.org/phpBB3/viewforum.php?f=4
> 



From outbackdingo at gmail.com  Tue Jul 22 07:58:51 2008
From: outbackdingo at gmail.com (Outback Dingo)
Date: Tue, 22 Jul 2008 14:58:51 +0700
Subject: Captive Stopped
In-Reply-To: <1216712044.6955.5.camel@david-laptop>
References: <1216659745.10317.4.camel@ccesario-laptop>
	 <1216712044.6955.5.camel@david-laptop>
Message-ID: <5635aa0d0807220058n6a392f68y7da147b4a311644c@mail.gmail.com>

Odd cause we see the opposite here, every few days chill stops functioning
and our users can surf at all till we either A: reboot or B: resart the
process

On Tue, Jul 22, 2008 at 2:34 PM, wlanmac <wlan at mac.com> wrote:

> It is interesting that your network still works without chilli running..
> As if it were turned off and the network reset to the original state
> (with DHCP server running, iptables rules cleared, etc). Is your machine
> rebooting?
>
> David
>
> On Mon, 2008-07-21 at 14:02 -0300, Carlos Cesario wrote:
> > Hi guys,
> >
> > I'm having problems with coovachilli, its the problem....
> >
> > Sporadically (each 2, 3 or 4 days) the captive system stop, allowing my
> > users access direct to internet... without authentication.
> >
> > Then, if I restart the coovachilli  process, the login page is required
> > again..
> >
> > somebody have any idea about solve this ?
> >
> > thanks
> >
> > Carlos
> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: chilli-unsubscribe at coova.org
> > For additional commands, e-mail: chilli-help at coova.org
> > Wiki: http://coova.org/wiki/index.php/CoovaChilli
> > Forum: http://coova.org/phpBB3/viewforum.php?f=4
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: chilli-unsubscribe at coova.org
> For additional commands, e-mail: chilli-help at coova.org
> Wiki: http://coova.org/wiki/index.php/CoovaChilli
> Forum: http://coova.org/phpBB3/viewforum.php?f=4
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.coova.org/pipermail/chilli/attachments/20080722/c644ab6a/attachment.htm>

From liran.tal at gmail.com  Tue Jul 22 08:08:14 2008
From: liran.tal at gmail.com (Liran Tal)
Date: Tue, 22 Jul 2008 11:08:14 +0300
Subject: Captive Stopped
In-Reply-To: <5635aa0d0807220058n6a392f68y7da147b4a311644c@mail.gmail.com>
References: <1216659745.10317.4.camel@ccesario-laptop>
	 <1216712044.6955.5.camel@david-laptop>
	 <5635aa0d0807220058n6a392f68y7da147b4a311644c@mail.gmail.com>
Message-ID: <81237f640807220108u4c93d1ecoecc31185f1ce5f6@mail.gmail.com>

Odd...
Memory leak of some kind?

Outback/Carlos: are you running it on an embedded router or a PC?


Regards,
Liran.


On Tue, Jul 22, 2008 at 10:58 AM, Outback Dingo <outbackdingo at gmail.com>
wrote:

> Odd cause we see the opposite here, every few days chill stops functioning
> and our users can surf at all till we either A: reboot or B: resart the
> process
>
>
> On Tue, Jul 22, 2008 at 2:34 PM, wlanmac <wlan at mac.com> wrote:
>
>> It is interesting that your network still works without chilli running..
>> As if it were turned off and the network reset to the original state
>> (with DHCP server running, iptables rules cleared, etc). Is your machine
>> rebooting?
>>
>> David
>>
>> On Mon, 2008-07-21 at 14:02 -0300, Carlos Cesario wrote:
>> > Hi guys,
>> >
>> > I'm having problems with coovachilli, its the problem....
>> >
>> > Sporadically (each 2, 3 or 4 days) the captive system stop, allowing my
>> > users access direct to internet... without authentication.
>> >
>> > Then, if I restart the coovachilli  process, the login page is required
>> > again..
>> >
>> > somebody have any idea about solve this ?
>> >
>> > thanks
>> >
>> > Carlos
>> >
>> >
>> >
>> > ---------------------------------------------------------------------
>> > To unsubscribe, e-mail: chilli-unsubscribe at coova.org
>> > For additional commands, e-mail: chilli-help at coova.org
>> > Wiki: http://coova.org/wiki/index.php/CoovaChilli
>> > Forum: http://coova.org/phpBB3/viewforum.php?f=4
>> >
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: chilli-unsubscribe at coova.org
>> For additional commands, e-mail: chilli-help at coova.org
>> Wiki: http://coova.org/wiki/index.php/CoovaChilli
>> Forum: http://coova.org/phpBB3/viewforum.php?f=4
>>
>>
>


-- 
-- 
Sincerely, Liran Tal

Research and Development
Linux Team - Enginx.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.coova.org/pipermail/chilli/attachments/20080722/97d02b95/attachment.htm>

From outbackdingo at gmail.com  Tue Jul 22 08:11:27 2008
From: outbackdingo at gmail.com (Outback Dingo)
Date: Tue, 22 Jul 2008 15:11:27 +0700
Subject: Captive Stopped
In-Reply-To: <81237f640807220108u4c93d1ecoecc31185f1ce5f6@mail.gmail.com>
References: <1216659745.10317.4.camel@ccesario-laptop>
	 <1216712044.6955.5.camel@david-laptop>
	 <5635aa0d0807220058n6a392f68y7da147b4a311644c@mail.gmail.com>
	 <81237f640807220108u4c93d1ecoecc31185f1ce5f6@mail.gmail.com>
Message-ID: <5635aa0d0807220111j516403awe3dc5c9366ca3b6c@mail.gmail.com>

linksys and buffalos here

On Tue, Jul 22, 2008 at 3:08 PM, Liran Tal <liran.tal at gmail.com> wrote:

> Odd...
> Memory leak of some kind?
>
> Outback/Carlos: are you running it on an embedded router or a PC?
>
>
> Regards,
> Liran.
>
>
>
> On Tue, Jul 22, 2008 at 10:58 AM, Outback Dingo <outbackdingo at gmail.com>
> wrote:
>
>> Odd cause we see the opposite here, every few days chill stops functioning
>> and our users can surf at all till we either A: reboot or B: resart the
>> process
>>
>>
>> On Tue, Jul 22, 2008 at 2:34 PM, wlanmac <wlan at mac.com> wrote:
>>
>>> It is interesting that your network still works without chilli running..
>>> As if it were turned off and the network reset to the original state
>>> (with DHCP server running, iptables rules cleared, etc). Is your machine
>>> rebooting?
>>>
>>> David
>>>
>>> On Mon, 2008-07-21 at 14:02 -0300, Carlos Cesario wrote:
>>> > Hi guys,
>>> >
>>> > I'm having problems with coovachilli, its the problem....
>>> >
>>> > Sporadically (each 2, 3 or 4 days) the captive system stop, allowing my
>>> > users access direct to internet... without authentication.
>>> >
>>> > Then, if I restart the coovachilli  process, the login page is required
>>> > again..
>>> >
>>> > somebody have any idea about solve this ?
>>> >
>>> > thanks
>>> >
>>> > Carlos
>>> >
>>> >
>>> >
>>> > ---------------------------------------------------------------------
>>> > To unsubscribe, e-mail: chilli-unsubscribe at coova.org
>>> > For additional commands, e-mail: chilli-help at coova.org
>>> > Wiki: http://coova.org/wiki/index.php/CoovaChilli
>>> > Forum: http://coova.org/phpBB3/viewforum.php?f=4
>>> >
>>>
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: chilli-unsubscribe at coova.org
>>> For additional commands, e-mail: chilli-help at coova.org
>>> Wiki: http://coova.org/wiki/index.php/CoovaChilli
>>> Forum: http://coova.org/phpBB3/viewforum.php?f=4
>>>
>>>
>>
>
>
> --
> --
> Sincerely, Liran Tal
>
> Research and Development
> Linux Team - Enginx.com
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.coova.org/pipermail/chilli/attachments/20080722/bd995a59/attachment.htm>

From ccesario at tecnomega.com.br  Tue Jul 22 10:50:22 2008
From: ccesario at tecnomega.com.br (Carlos Cesario)
Date: Tue, 22 Jul 2008 07:50:22 -0300
Subject: Captive Stopped
In-Reply-To: <81237f640807220001ycdf520cif982972659608945@mail.gmail.com>
References: <1216659745.10317.4.camel@ccesario-laptop>
	 <81237f640807220001ycdf520cif982972659608945@mail.gmail.com>
Message-ID: <1216723822.10317.8.camel@ccesario-laptop>

Hey Liri,

The process do not stop, it is running... memory is OK, I have 2GB.

The machine is one IBM x3200.

and SO is one openSUSE 10.2 (X86-64).

I try verify log files, but I dont found "nothing" abut this :/



Em Ter, 2008-07-22 ?s 04:01 -0300, Liran Tal escreveu:
> Hey Carlos,
> 
> On Mon, Jul 21, 2008 at 8:02 PM, Carlos Cesario
> <ccesario at tecnomega.com.br> wrote:
>         Hi guys,
>         
>         I'm having problems with coovachilli, its the problem....
>         
>         Sporadically (each 2, 3 or 4 days) the captive system stop,
>         allowing my
>         users access direct to internet... without authentication.
> 
> 1. Are you seeing anything in the logs? If you didn't enable it then
> enable full debugging log and take a look at it when this happens
> (BEFORE you restart coovachilli)
> 
> 2. Is it possible that the coovachilli process dies and users are
> allowed internet connection because of the current
> configuration scheme in your network?
>  
> 
> 
> 
> -- 
> -- 
> Sincerely, Liran Tal
> 
> Research and Development
> Linux Team - Enginx.com



Thanks

Carlos



From m.simioni at gmail.com  Tue Jul 22 15:04:00 2008
From: m.simioni at gmail.com (Marco Simioni)
Date: Tue, 22 Jul 2008 17:04:00 +0200
Subject: Captive Stopped
In-Reply-To: <1216723822.10317.8.camel@ccesario-laptop>
References: <1216659745.10317.4.camel@ccesario-laptop>
	 <81237f640807220001ycdf520cif982972659608945@mail.gmail.com>
	 <1216723822.10317.8.camel@ccesario-laptop>
Message-ID: <f71cb680807220804o3ce34d22oa67be3dc30a37cc9@mail.gmail.com>

Hi.

If i remember correctly, on two of my machines the process was still
running, but the clients could never get DHCP address and login page.

I found that it seemed to occur while reloading config file and DNS
look-up: this was the last line written in the log file.

I had to disable automatic config reload and automatic DNS look-up,
adding the interval parameter to the startup script, and now the
problem has gone.

Please notice that i didn't modify anything on the configuration
files: the process was running for days, all was ok, suddenty it
stopped answering DHCP requests, but the process was running. This
happened several times, and after several days.

I think it has to do with DNS look-up or something like this.

I hope this could help.

Regards,

Marco

2008/7/22 Carlos Cesario <ccesario at tecnomega.com.br>:
> Hey Liri,
>
> The process do not stop, it is running... memory is OK, I have 2GB.
>
> The machine is one IBM x3200.
>
> and SO is one openSUSE 10.2 (X86-64).
>
> I try verify log files, but I dont found "nothing" abut this :/
>
>
>
> Em Ter, 2008-07-22 ?s 04:01 -0300, Liran Tal escreveu:
>> Hey Carlos,
>>
>> On Mon, Jul 21, 2008 at 8:02 PM, Carlos Cesario
>> <ccesario at tecnomega.com.br> wrote:
>>         Hi guys,
>>
>>         I'm having problems with coovachilli, its the problem....
>>
>>         Sporadically (each 2, 3 or 4 days) the captive system stop,
>>         allowing my
>>         users access direct to internet... without authentication.
>>
>> 1. Are you seeing anything in the logs? If you didn't enable it then
>> enable full debugging log and take a look at it when this happens
>> (BEFORE you restart coovachilli)
>>
>> 2. Is it possible that the coovachilli process dies and users are
>> allowed internet connection because of the current
>> configuration scheme in your network?
>>
>>
>>
>>
>> --
>> --
>> Sincerely, Liran Tal
>>
>> Research and Development
>> Linux Team - Enginx.com
>
>
>
> Thanks
>
> Carlos
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: chilli-unsubscribe at coova.org
> For additional commands, e-mail: chilli-help at coova.org
> Wiki: http://coova.org/wiki/index.php/CoovaChilli
> Forum: http://coova.org/phpBB3/viewforum.php?f=4
>
>


From outbackdingo at gmail.com  Tue Jul 22 15:18:35 2008
From: outbackdingo at gmail.com (Outback Dingo)
Date: Tue, 22 Jul 2008 22:18:35 +0700
Subject: Captive Stopped
In-Reply-To: <f71cb680807220804o3ce34d22oa67be3dc30a37cc9@mail.gmail.com>
References: <1216659745.10317.4.camel@ccesario-laptop>
	 <81237f640807220001ycdf520cif982972659608945@mail.gmail.com>
	 <1216723822.10317.8.camel@ccesario-laptop>
	 <f71cb680807220804o3ce34d22oa67be3dc30a37cc9@mail.gmail.com>
Message-ID: <5635aa0d0807220818l42244ec8s2a83af4f76835ea3@mail.gmail.com>

Exactly how and where did you do this ? its worth testing

I had to disable automatic config reload and automatic DNS look-up,
> adding the interval parameter to the startup script, and now the
> problem has gone.
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.coova.org/pipermail/chilli/attachments/20080722/4ed0fa78/attachment.htm>

From m.simioni at gmail.com  Tue Jul 22 15:23:55 2008
From: m.simioni at gmail.com (Marco Simioni)
Date: Tue, 22 Jul 2008 17:23:55 +0200
Subject: Captive Stopped
In-Reply-To: <5635aa0d0807220818l42244ec8s2a83af4f76835ea3@mail.gmail.com>
References: <1216659745.10317.4.camel@ccesario-laptop>
	 <81237f640807220001ycdf520cif982972659608945@mail.gmail.com>
	 <1216723822.10317.8.camel@ccesario-laptop>
	 <f71cb680807220804o3ce34d22oa67be3dc30a37cc9@mail.gmail.com>
	 <5635aa0d0807220818l42244ec8s2a83af4f76835ea3@mail.gmail.com>
Message-ID: <f71cb680807220823g43a9aa28rf3027aff6c506d95@mail.gmail.com>

nano /etc/init.d/chilli

find the following row (nearly row 19)

OPTS="--pidfile /var/run/$NAME.pid"

and add the interval option like this

OPTS="--pidfile /var/run/$NAME.pid --interval 0"

Regards

Marco



2008/7/22 Outback Dingo <outbackdingo at gmail.com>:
>
> Exactly how and where did you do this ? its worth testing
>
>> I had to disable automatic config reload and automatic DNS look-up,
>> adding the interval parameter to the startup script, and now the
>> problem has gone.
>
>


From ccesario at tecnomega.com.br  Tue Jul 22 15:47:35 2008
From: ccesario at tecnomega.com.br (Carlos Cesario)
Date: Tue, 22 Jul 2008 12:47:35 -0300
Subject: Captive Stopped
In-Reply-To: <f71cb680807220823g43a9aa28rf3027aff6c506d95@mail.gmail.com>
References: <1216659745.10317.4.camel@ccesario-laptop>
	 <81237f640807220001ycdf520cif982972659608945@mail.gmail.com>
	 <1216723822.10317.8.camel@ccesario-laptop>
	 <f71cb680807220804o3ce34d22oa67be3dc30a37cc9@mail.gmail.com>
	 <5635aa0d0807220818l42244ec8s2a83af4f76835ea3@mail.gmail.com>
	 <f71cb680807220823g43a9aa28rf3027aff6c506d95@mail.gmail.com>
Message-ID: <1216741655.10317.10.camel@ccesario-laptop>

Hmmm, I'll test it....

And I post the results here....


Em Ter, 2008-07-22 ?s 12:23 -0300, Marco Simioni escreveu:
> nano /etc/init.d/chilli
> 
> find the following row (nearly row 19)
> 
> OPTS="--pidfile /var/run/$NAME.pid"
> 
> and add the interval option like this
> 
> OPTS="--pidfile /var/run/$NAME.pid --interval 0"
> 
> Regards
> 
> Marco
> 
> 
> 
> 2008/7/22 Outback Dingo <outbackdingo at gmail.com>:
> >
> > Exactly how and where did you do this ? its worth testing
> >
> >> I had to disable automatic config reload and automatic DNS look-up,
> >> adding the interval parameter to the startup script, and now the
> >> problem has gone.
> >
> >
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: chilli-unsubscribe at coova.org
> For additional commands, e-mail: chilli-help at coova.org
> Wiki: http://coova.org/wiki/index.php/CoovaChilli
> Forum: http://coova.org/phpBB3/viewforum.php?f=4


thanks

Carlos



From ml at t-b-o-h.net  Tue Jul 22 17:36:11 2008
From: ml at t-b-o-h.net (Tuc at T-B-O-H.NET)
Date: Tue, 22 Jul 2008 13:36:11 -0400 (EDT)
Subject: [chilli] Re: Captive Stopped
In-Reply-To: <1216741655.10317.10.camel@ccesario-laptop>
Message-ID: <200807221736.m6MHaCVJ065840@himinbjorg.tucs-beachin-obx-house.com>

Hi,

	Its a double edged sword though. If the unit reboots and
doesn't get the information immediately, then it never will. We
found that paying attention to the DNS and making sure it never
had to remotly look it up resolved it 90% of the way. The other
10 % is just the fact that if it doesn't get it, it will in
the next hour.

	Speaking of DNS, hopefully everyone is ready for the
DNS fun on Aug 7th. If anyone needs help patching/testing, lemme
know. Otherwise, will be interesting to see all the fun people
have on Aug 7th!

		Tuc
> 
> Hmmm, I'll test it....
> 
> And I post the results here....
> 
> 
> Em Ter, 2008-07-22 ??s 12:23 -0300, Marco Simioni escreveu:
> > nano /etc/init.d/chilli
> > 
> > find the following row (nearly row 19)
> > 
> > OPTS="--pidfile /var/run/$NAME.pid"
> > 
> > and add the interval option like this
> > 
> > OPTS="--pidfile /var/run/$NAME.pid --interval 0"
> > 
> > Regards
> > 
> > Marco
> > 
> > 
> > 
> > 2008/7/22 Outback Dingo <outbackdingo at gmail.com>:
> > >
> > > Exactly how and where did you do this ? its worth testing
> > >
> > >> I had to disable automatic config reload and automatic DNS look-up,
> > >> adding the interval parameter to the startup script, and now the
> > >> problem has gone.
> > >
> > 



From ian.coffey at gmail.com  Tue Jul 22 17:43:42 2008
From: ian.coffey at gmail.com (IanC)
Date: Tue, 22 Jul 2008 13:43:42 -0400
Subject: [chilli] Re: Captive Stopped
In-Reply-To: <200807221736.m6MHaCVJ065840@himinbjorg.tucs-beachin-obx-house.com>
References: <1216741655.10317.10.camel@ccesario-laptop>
	 <200807221736.m6MHaCVJ065840@himinbjorg.tucs-beachin-obx-house.com>
Message-ID: <3ea93a690807221043u21e30832tff4ea9ba32f8d5fa@mail.gmail.com>

To be safe, what "DNS fun" are you referring to, Tuc?

On Tue, Jul 22, 2008 at 1:36 PM, Tuc at T-B-O-H.NET <ml at t-b-o-h.net> wrote:
> Hi,
>
>        Its a double edged sword though. If the unit reboots and
> doesn't get the information immediately, then it never will. We
> found that paying attention to the DNS and making sure it never
> had to remotly look it up resolved it 90% of the way. The other
> 10 % is just the fact that if it doesn't get it, it will in
> the next hour.
>
>        Speaking of DNS, hopefully everyone is ready for the
> DNS fun on Aug 7th. If anyone needs help patching/testing, lemme
> know. Otherwise, will be interesting to see all the fun people
> have on Aug 7th!
>
>                Tuc
>>
>> Hmmm, I'll test it....
>>
>> And I post the results here....
>>
>>
>> Em Ter, 2008-07-22 ?s 12:23 -0300, Marco Simioni escreveu:
>> > nano /etc/init.d/chilli
>> >
>> > find the following row (nearly row 19)
>> >
>> > OPTS="--pidfile /var/run/$NAME.pid"
>> >
>> > and add the interval option like this
>> >
>> > OPTS="--pidfile /var/run/$NAME.pid --interval 0"
>> >
>> > Regards
>> >
>> > Marco
>> >
>> >
>> >
>> > 2008/7/22 Outback Dingo <outbackdingo at gmail.com>:
>> > >
>> > > Exactly how and where did you do this ? its worth testing
>> > >
>> > >> I had to disable automatic config reload and automatic DNS look-up,
>> > >> adding the interval parameter to the startup script, and now the
>> > >> problem has gone.
>> > >
>> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: chilli-unsubscribe at coova.org
> For additional commands, e-mail: chilli-help at coova.org
> Wiki: http://coova.org/wiki/index.php/CoovaChilli
> Forum: http://coova.org/phpBB3/viewforum.php?f=4
>
>


From ml at t-b-o-h.net  Tue Jul 22 18:11:51 2008
From: ml at t-b-o-h.net (Tuc at T-B-O-H.NET)
Date: Tue, 22 Jul 2008 14:11:51 -0400 (EDT)
Subject: Captive Stopped
In-Reply-To: <3ea93a690807221043u21e30832tff4ea9ba32f8d5fa@mail.gmail.com>
Message-ID: <200807221811.m6MIBqqF066554@himinbjorg.tucs-beachin-obx-house.com>

Hi,

	Vulnerability Note VU#800113
Multiple DNS implementations vulnerable to cache poisoning

http://www.kb.cert.org/vuls/id/800113

	Any recursive DNS that hasn't been patched in July 2008
is most likely vulnerable to it. 

	Hrm, it seems like the date of the fun has been moved up
to TONITE. Apparently the exploit is already in the wild as of last
nite. On the blog of the person that found it (http://www.doxpara.com):

13>0

Patch.  Today.  Now. Yes, stay late.  Yes, forward to OpenDNS if you have to.  
(They're ready for your traffic.)  Thank you to the many of you who already have.



		Tuc
> 
> To be safe, what "DNS fun" are you referring to, Tuc?
> 
> On Tue, Jul 22, 2008 at 1:36 PM, Tuc at T-B-O-H.NET <ml at t-b-o-h.net> wrote:
> > Hi,
> >
> >        Its a double edged sword though. If the unit reboots and
> > doesn't get the information immediately, then it never will. We
> > found that paying attention to the DNS and making sure it never
> > had to remotly look it up resolved it 90% of the way. The other
> > 10 % is just the fact that if it doesn't get it, it will in
> > the next hour.
> >
> >        Speaking of DNS, hopefully everyone is ready for the
> > DNS fun on Aug 7th. If anyone needs help patching/testing, lemme
> > know. Otherwise, will be interesting to see all the fun people
> > have on Aug 7th!
> >
> >                Tuc
> >>
> >> Hmmm, I'll test it....
> >>
> >> And I post the results here....
> >>
> >>
> >> Em Ter, 2008-07-22 ?s 12:23 -0300, Marco Simioni escreveu:
> >> > nano /etc/init.d/chilli
> >> >
> >> > find the following row (nearly row 19)
> >> >
> >> > OPTS="--pidfile /var/run/$NAME.pid"
> >> >
> >> > and add the interval option like this
> >> >
> >> > OPTS="--pidfile /var/run/$NAME.pid --interval 0"
> >> >
> >> > Regards
> >> >
> >> > Marco
> >> >
> >> >
> >> >
> >> > 2008/7/22 Outback Dingo <outbackdingo at gmail.com>:
> >> > >
> >> > > Exactly how and where did you do this ? its worth testing
> >> > >
> >> > >> I had to disable automatic config reload and automatic DNS look-up,
> >> > >> adding the interval parameter to the startup script, and now the
> >> > >> problem has gone.
> >> > >
> >> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: chilli-unsubscribe at coova.org
> > For additional commands, e-mail: chilli-help at coova.org
> > Wiki: http://coova.org/wiki/index.php/CoovaChilli
> > Forum: http://coova.org/phpBB3/viewforum.php?f=4
> >
> >
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: chilli-unsubscribe at coova.org
> For additional commands, e-mail: chilli-help at coova.org
> Wiki: http://coova.org/wiki/index.php/CoovaChilli
> Forum: http://coova.org/phpBB3/viewforum.php?f=4
> 
> 



From oguzhank at bilkent.edu.tr  Thu Jul 24 11:07:06 2008
From: oguzhank at bilkent.edu.tr (Oguzhan Kayhan)
Date: Thu, 24 Jul 2008 14:07:06 +0300 (EEST)
Subject: multiple interface/instalce for coova
Message-ID: <33851.139.179.14.250.1216897626.squirrel@webmail.bilkent.edu.tr>

Hi, on some of my networks i am using chillispot for different interfaces
with diffrent settings..
So i wonder if it is possible with coova.

What i wanna do is to run 3 instances of coova for example for eth1 2 and 3.
Or to run for 3 interfaces in an single coova config is also ok..
Any ideas ?




From javi.larrea at gmail.com  Thu Jul 24 11:15:50 2008
From: javi.larrea at gmail.com (=?ISO-8859-9?Q?Javier_Larrea_Arma=F1anzas?=)
Date: Thu, 24 Jul 2008 13:15:50 +0200
Subject: multiple interface/instalce for coova
In-Reply-To: <33851.139.179.14.250.1216897626.squirrel@webmail.bilkent.edu.tr>
References: <33851.139.179.14.250.1216897626.squirrel@webmail.bilkent.edu.tr>
Message-ID: <48886466.9060707@gmail.com>

Hi, I did that using several instances.  Check the thread "several 
chilli process in the same computer" (may 2008). 

Regards,
Javier.

Oguzhan Kayhan escribi?:
> Hi, on some of my networks i am using chillispot for different interfaces
> with diffrent settings..
> So i wonder if it is possible with coova.
>
> What i wanna do is to run 3 instances of coova for example for eth1 2 and 3.
> Or to run for 3 interfaces in an single coova config is also ok..
> Any ideas ?
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: chilli-unsubscribe at coova.org
> For additional commands, e-mail: chilli-help at coova.org
> Wiki: http://coova.org/wiki/index.php/CoovaChilli
> Forum: http://coova.org/phpBB3/viewforum.php?f=4
>
>
>   



From oguzhank at bilkent.edu.tr  Thu Jul 24 13:32:27 2008
From: oguzhank at bilkent.edu.tr (Oguzhan Kayhan)
Date: Thu, 24 Jul 2008 16:32:27 +0300 (EEST)
Subject: multiple interface/instalce for coova
In-Reply-To: <48886466.9060707@gmail.com>
References: <33851.139.179.14.250.1216897626.squirrel@webmail.bilkent.edu.tr>
    <48886466.9060707@gmail.com>
Message-ID: <45326.139.179.14.250.1216906347.squirrel@webmail.bilkent.edu.tr>

Hi,
By creating a different config file/directory and with parameter --conf
yes it works with different interfaces.
What i wonder is, when i create a new config dir and copy local.conf
config hs.conf etc... and run the second instance manually with config
parameter it doesnt create main.conf with the paremeters i set in config
file.
So i think the init.d script creates the main.conf from config file.

How will i add the second instance to /init.d/chilli ?




> Hi, I did that using several instances.  Check the thread "several
> chilli process in the same computer" (may 2008).
>
> Regards,
> Javier.
>
> Oguzhan Kayhan escribi?:
>> Hi, on some of my networks i am using chillispot for different
>> interfaces
>> with diffrent settings..
>> So i wonder if it is possible with coova.
>>
>> What i wanna do is to run 3 instances of coova for example for eth1 2
>> and 3.
>> Or to run for 3 interfaces in an single coova config is also ok..
>> Any ideas ?
>>
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: chilli-unsubscribe at coova.org
>> For additional commands, e-mail: chilli-help at coova.org
>> Wiki: http://coova.org/wiki/index.php/CoovaChilli
>> Forum: http://coova.org/phpBB3/viewforum.php?f=4
>>
>>
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: chilli-unsubscribe at coova.org
> For additional commands, e-mail: chilli-help at coova.org
> Wiki: http://coova.org/wiki/index.php/CoovaChilli
> Forum: http://coova.org/phpBB3/viewforum.php?f=4
>
>




From gdamjan at mail.net.mk  Thu Jul 24 21:10:38 2008
From: gdamjan at mail.net.mk (Damjan)
Date: Thu, 24 Jul 2008 23:10:38 +0200
Subject: multiple interface/instalce for coova
In-Reply-To: <45326.139.179.14.250.1216906347.squirrel@webmail.bilkent.edu.tr>
References: <33851.139.179.14.250.1216897626.squirrel@webmail.bilkent.edu.tr> <48886466.9060707@gmail.com> <45326.139.179.14.250.1216906347.squirrel@webmail.bilkent.edu.tr>
Message-ID: <20080724211038.GA6753@legolas.on.net.mk>

> How will i add the second instance to /init.d/chilli ?

Just dont use /etc/init.d/chilli and start chilli directly.

-- 
damjan | ??????
This is my jabber ID -->         damjan at bagra.net.mk 
 -- not my mail address, it's a Jabber ID --^ :)


From oguzhank at bilkent.edu.tr  Fri Jul 25 05:25:44 2008
From: oguzhank at bilkent.edu.tr (Oguzhan Kayhan)
Date: Fri, 25 Jul 2008 08:25:44 +0300 (EEST)
Subject: multiple interface/instalce for coova
In-Reply-To: <20080724211038.GA6753@legolas.on.net.mk>
References: <33851.139.179.14.250.1216897626.squirrel@webmail.bilkent.edu.tr>
    <48886466.9060707@gmail.com>
    <45326.139.179.14.250.1216906347.squirrel@webmail.bilkent.edu.tr>
    <20080724211038.GA6753@legolas.on.net.mk>
Message-ID: <42043.139.179.14.250.1216963544.squirrel@webmail.bilkent.edu.tr>

>> How will i add the second instance to /init.d/chilli ?
>
> Just dont use /etc/init.d/chilli and start chilli directly.

I already know i can run it directly,
Im trying to figure out how can i run it via init.d

>
> --
> damjan | ???????&#65533;????
> This is my jabber ID -->         damjan at bagra.net.mk
>  -- not my mail address, it's a Jabber ID --^ :)
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: chilli-unsubscribe at coova.org
> For additional commands, e-mail: chilli-help at coova.org
> Wiki: http://coova.org/wiki/index.php/CoovaChilli
> Forum: http://coova.org/phpBB3/viewforum.php?f=4
>
>




From tom at tiri.li  Fri Jul 25 21:56:50 2008
From: tom at tiri.li (Thomas Baumann)
Date: Fri, 25 Jul 2008 23:56:50 +0200
Subject: chilli dhcp helper no ACK!
Message-ID: <20080725235650.u8mjj4ntw044o8sg@ox.thomasbaumann.com>

Hello list,

I use Version 1.0.12.

When I define a dhcp gateway (e.g. 192.168.178.10:67) with
option dhcpgateway and dhcpgatewayport the all requests of
the client go to the dhcp-server. this is correct.
BUT there never comes an ACK!

I hope sb. can give me a hint how to solve this problem.
That's why I cant use a third party dhcp server :-/

setup:
192.168.178.10 = dhcpserver
192.168.252.1  = chillispot at chilli0
192.168.178.21 = chillispot at eth0


syslog at 192.168.178.10

Jul 25 19:48:07 dhcp-server dhcpd: DHCPOFFER on 192.168.252.249 to
00:04:23:82:b8:df (winclient)
via 192.168.252.1
Jul 25 19:48:10 dhcp-server dhcpd: DHCPDISCOVER from 00:04:23:82:b8:df
(winclient) via 192.168.252.1
Jul 25 19:48:10 dhcp-server dhcpd: DHCPOFFER on 192.168.252.249 to
00:04:23:82:b8:df (winclient)
via 192.168.252.1
Jul 25 19:48:19 dhcp-server dhcpd: DHCPDISCOVER from 00:04:23:82:b8:df
(winclient) via 192.168.252.1
Jul 25 19:48:19 dhcp-server dhcpd: DHCPOFFER on 192.168.252.249 to
00:04:23:82:b8:df (winclient)
via 192.168.252.1
Jul 25 19:48:34 dhcp-server dhcpd: DHCPDISCOVER from 00:04:23:82:b8:df
(winclient) via 192.168.252.1
Jul 25 19:48:34 dhcp-server dhcpd: DHCPOFFER on 192.168.252.249 to
00:04:23:82:b8:df (winclient)
via 192.168.252.1

syslog at chilli-accesspoint
Jul 25 19:43:28 chilli-accesspoint kernel: [77032.310794] IN= OUT=eth0
SRC=192.168.178.21
DST=192.168.178.10 LEN=328 TOS=0x00 PREC=0x00 TTL=64 ID=0 DF PROTO=UDP
SPT=68 DPT=67
LEN=308
Jul 25 19:43:40 chilli-accesspoint kernel: [77044.257305] IN= OUT=eth0
SRC=192.168.178.21
DST=192.168.178.10 LEN=328 TOS=0x00 PREC=0x00 TTL=64 ID=0 DF PROTO=UDP
SPT=68 DPT=67
LEN=308
Jul 25 19:43:42 chilli-accesspoint kernel: [77046.121562] IN= OUT=eth0
SRC=192.168.178.21
DST=192.168.178.10 LEN=328 TOS=0x00 PREC=0x00 TTL=64 ID=0 DF PROTO=UDP
SPT=68 DPT=67
LEN=308
Jul 25 19:43:57 chilli-accesspoint kernel: [77061.076492] IN= OUT=eth0
SRC=192.168.178.21
DST=192.168.178.10 LEN=328 TOS=0x00 PREC=0x00 TTL=64 ID=0 DF PROTO=UDP
SPT=68 DPT=67
LEN=308
Jul 25 19:44:21 chilli-accesspoint kernel: [77085.101844] IN= OUT=eth0
SRC=192.168.178.21
DST=192.168.178.10 LEN=328 TOS=0x00 PREC=0x00 TTL=64 ID=0 DF PROTO=UDP
SPT=68 DPT=67
LEN=308
Jul 25 19:44:25 chilli-accesspoint kernel: [77089.046526] IN= OUT=eth0
SRC=192.168.178.21
DST=192.168.178.10 LEN=328 TOS=0x00 PREC=0x00 TTL=64 ID=0 DF PROTO=UDP
SPT=68 DPT=67
LEN=308
Jul 25 19:44:29 chilli-accesspoint kernel: [77092.991370] IN= OUT=eth0
SRC=192.168.178.21
DST=192.168.178.10 LEN=328 TOS=0x00 PREC=0x00 TTL=64 ID=0 DF PROTO=UDP
SPT=68 DPT=67
LEN=308
Jul 25 19:44:31 chilli-accesspoint kernel: [77095.027715] IN=chilli0
OUT= PHYSIN=wlan1
MAC=ff:ff:ff:ff:ff:ff:00:04:23:82:b8:df:08:00 SRC=169.254.178.182
DST=169.254.255.255
LEN=96 TOS=0x00 PREC=0x00 TTL=128 ID=12375 PROTO=UDP SPT=137 DPT=137 LEN=76
Jul 25 19:44:31 chilli-accesspoint kernel: [77095.032067] IN=
OUT=chilli0 PHYSIN=wlan1
PHYSOUT=eth1 SRC=169.254.178.182 DST=169.254.255.255 LEN=96 TOS=0x00
PREC=0x00 TTL=128
ID=12375 PROTO=UDP SPT=137 DPT=137 LEN=76
Jul 25 19:44:32 chilli-accesspoint kernel: [77096.092961] IN= OUT=eth0
SRC=192.168.178.21
DST=192.168.178.10 LEN=328 TOS=0x00 PREC=0x00 TTL=64 ID=0 DF PROTO=UDP
SPT=68 DPT=67
LEN=308
Jul 25 19:44:34 chilli-accesspoint kernel: [77097.764413] IN= OUT=eth0
SRC=192.168.178.21
DST=192.168.178.10 LEN=328 TOS=0x00 PREC=0x00 TTL=64 ID=0 DF PROTO=UDP
SPT=68 DPT=67
LEN=308
Jul 25 19:44:35 chilli-accesspoint kernel: [77098.710027] IN= OUT=eth0
SRC=192.168.178.21
DST=192.168.178.10 LEN=328 TOS=0x00 PREC=0x00 TTL=64 ID=0 DF PROTO=UDP
SPT=68 DPT=67
LEN=308
Jul 25 19:44:40 chilli-accesspoint kernel: [77103.006176] IN=eth0 OUT=
MAC=ff:ff:ff:ff:ff:ff:00:0b:5d:04:72:e5:08:00 SRC=192.168.100.127
DST=192.168.100.255
LEN=239 TOS=0x00 PREC=0x00 TTL=128 ID=12397 PROTO=UDP SPT=138 DPT=138 LEN=219
Jul 25 19:44:40 chilli-accesspoint kernel: [77103.012566] IN=chilli0
OUT= PHYSIN=wlan1
MAC=ff:ff:ff:ff:ff:ff:00:04:23:82:b8:df:08:00 SRC=169.254.178.182
DST=169.254.255.255
LEN=204 TOS=0x00 PREC=0x00 TTL=128 ID=12395 PROTO=UDP SPT=138 DPT=138 LEN=184
Jul 25 19:44:40 chilli-accesspoint kernel: [77103.012566] IN=
OUT=chilli0 PHYSIN=wlan1
PHYSOUT=eth1 SRC=169.254.178.182 DST=169.254.255.255 LEN=204 TOS=0x00
PREC=0x00 TTL=128
ID=12395 PROTO=UDP SPT=138 DPT=138 LEN=184
Jul 25 19:44:40 chilli-accesspoint kernel: [77103.474933] IN= OUT=eth0
SRC=192.168.178.21
DST=192.168.178.10 LEN=328 TOS=0x00 PREC=0x00 TTL=64 ID=0 DF PROTO=UDP
SPT=68 DPT=67
LEN=308
Jul 25 19:44:45 chilli-accesspoint kernel: [77108.418662] IN= OUT=eth0
SRC=192.168.178.21
DST=192.168.178.10 LEN=328 TOS=0x00 PREC=0x00 TTL=64 ID=0 DF PROTO=UDP
SPT=68 DPT=67
LEN=308
Jul 25 19:44:47 chilli-accesspoint kernel: [77110.364099] IN= OUT=eth0
SRC=192.168.178.21
DST=192.168.178.10 LEN=328 TOS=0x00 PREC=0x00 TTL=64 ID=0 DF PROTO=UDP
SPT=68 DPT=67
LEN=308
Jul 25 19:44:55 chilli-accesspoint kernel: [77118.677339] IN=eth0 OUT=
MAC=ff:ff:ff:ff:ff:ff:00:0b:5d:04:72:e5:08:00 SRC=192.168.100.127
DST=192.168.100.255
LEN=239 TOS=0x00 PREC=0x00 TTL=128 ID=12418 PROTO=UDP SPT=138 DPT=138 LEN=219
Jul 25 19:45:03 chilli-accesspoint kernel: [77126.250382] IN= OUT=eth0
SRC=192.168.178.21
DST=192.168.178.10 LEN=328 TOS=0x00 PREC=0x00 TTL=64 ID=0 DF PROTO=UDP
SPT=68 DPT=67
LEN=308




----------------------------------------------------------------
This message was sent using IMP, the Internet Messaging Program.



From tom at tiri.li  Fri Jul 25 21:57:09 2008
From: tom at tiri.li (Thomas Baumann)
Date: Fri, 25 Jul 2008 23:57:09 +0200
Subject: dhcp - WPAD and Proxy Autoconfigure proxy-auto-discovery wpad.dat
Message-ID: <20080725235709.vxx1qbgz4okso0k0@ox.thomasbaumann.com>

Hello list,

As described in
http://coova.org/wordpress/index.php/2008/01/25/dhcp-discovery/
it should be possible to tell coova to publish the
proxy wpad-url with dhcp type 252.

But how is this performed ? I could not find anything in dhcp.c

I hope you can give me a hint how to implement this.

Thanks for your reply in advance.

Thomas.



----------------------------------------------------------------
This message was sent using IMP, the Internet Messaging Program.



From wlan at mac.com  Sat Jul 26 06:07:53 2008
From: wlan at mac.com (wlanmac)
Date: Sat, 26 Jul 2008 08:07:53 +0200
Subject: chilli dhcp helper no ACK!
In-Reply-To: <20080725235650.u8mjj4ntw044o8sg@ox.thomasbaumann.com>
References: <20080725235650.u8mjj4ntw044o8sg@ox.thomasbaumann.com>
Message-ID: <1217052473.6720.2.camel@david-laptop>

Try adding:

  case DHCPACK:

in the switch block at about line 1681 of dhcp.c

David


On Fri, 2008-07-25 at 23:56 +0200, Thomas Baumann wrote:
> Hello list,
> 
> I use Version 1.0.12.
> 
> When I define a dhcp gateway (e.g. 192.168.178.10:67) with
> option dhcpgateway and dhcpgatewayport the all requests of
> the client go to the dhcp-server. this is correct.
> BUT there never comes an ACK!
> 
> I hope sb. can give me a hint how to solve this problem.
> That's why I cant use a third party dhcp server :-/
> 
> setup:
> 192.168.178.10 = dhcpserver
> 192.168.252.1  = chillispot at chilli0
> 192.168.178.21 = chillispot at eth0
> 
> 
> syslog at 192.168.178.10
> 
> Jul 25 19:48:07 dhcp-server dhcpd: DHCPOFFER on 192.168.252.249 to
> 00:04:23:82:b8:df (winclient)
> via 192.168.252.1
> Jul 25 19:48:10 dhcp-server dhcpd: DHCPDISCOVER from 00:04:23:82:b8:df
> (winclient) via 192.168.252.1
> Jul 25 19:48:10 dhcp-server dhcpd: DHCPOFFER on 192.168.252.249 to
> 00:04:23:82:b8:df (winclient)
> via 192.168.252.1
> Jul 25 19:48:19 dhcp-server dhcpd: DHCPDISCOVER from 00:04:23:82:b8:df
> (winclient) via 192.168.252.1
> Jul 25 19:48:19 dhcp-server dhcpd: DHCPOFFER on 192.168.252.249 to
> 00:04:23:82:b8:df (winclient)
> via 192.168.252.1
> Jul 25 19:48:34 dhcp-server dhcpd: DHCPDISCOVER from 00:04:23:82:b8:df
> (winclient) via 192.168.252.1
> Jul 25 19:48:34 dhcp-server dhcpd: DHCPOFFER on 192.168.252.249 to
> 00:04:23:82:b8:df (winclient)
> via 192.168.252.1
> 
> syslog at chilli-accesspoint
> Jul 25 19:43:28 chilli-accesspoint kernel: [77032.310794] IN= OUT=eth0
> SRC=192.168.178.21
> DST=192.168.178.10 LEN=328 TOS=0x00 PREC=0x00 TTL=64 ID=0 DF PROTO=UDP
> SPT=68 DPT=67
> LEN=308
> Jul 25 19:43:40 chilli-accesspoint kernel: [77044.257305] IN= OUT=eth0
> SRC=192.168.178.21
> DST=192.168.178.10 LEN=328 TOS=0x00 PREC=0x00 TTL=64 ID=0 DF PROTO=UDP
> SPT=68 DPT=67
> LEN=308
> Jul 25 19:43:42 chilli-accesspoint kernel: [77046.121562] IN= OUT=eth0
> SRC=192.168.178.21
> DST=192.168.178.10 LEN=328 TOS=0x00 PREC=0x00 TTL=64 ID=0 DF PROTO=UDP
> SPT=68 DPT=67
> LEN=308
> Jul 25 19:43:57 chilli-accesspoint kernel: [77061.076492] IN= OUT=eth0
> SRC=192.168.178.21
> DST=192.168.178.10 LEN=328 TOS=0x00 PREC=0x00 TTL=64 ID=0 DF PROTO=UDP
> SPT=68 DPT=67
> LEN=308
> Jul 25 19:44:21 chilli-accesspoint kernel: [77085.101844] IN= OUT=eth0
> SRC=192.168.178.21
> DST=192.168.178.10 LEN=328 TOS=0x00 PREC=0x00 TTL=64 ID=0 DF PROTO=UDP
> SPT=68 DPT=67
> LEN=308
> Jul 25 19:44:25 chilli-accesspoint kernel: [77089.046526] IN= OUT=eth0
> SRC=192.168.178.21
> DST=192.168.178.10 LEN=328 TOS=0x00 PREC=0x00 TTL=64 ID=0 DF PROTO=UDP
> SPT=68 DPT=67
> LEN=308
> Jul 25 19:44:29 chilli-accesspoint kernel: [77092.991370] IN= OUT=eth0
> SRC=192.168.178.21
> DST=192.168.178.10 LEN=328 TOS=0x00 PREC=0x00 TTL=64 ID=0 DF PROTO=UDP
> SPT=68 DPT=67
> LEN=308
> Jul 25 19:44:31 chilli-accesspoint kernel: [77095.027715] IN=chilli0
> OUT= PHYSIN=wlan1
> MAC=ff:ff:ff:ff:ff:ff:00:04:23:82:b8:df:08:00 SRC=169.254.178.182
> DST=169.254.255.255
> LEN=96 TOS=0x00 PREC=0x00 TTL=128 ID=12375 PROTO=UDP SPT=137 DPT=137 LEN=76
> Jul 25 19:44:31 chilli-accesspoint kernel: [77095.032067] IN=
> OUT=chilli0 PHYSIN=wlan1
> PHYSOUT=eth1 SRC=169.254.178.182 DST=169.254.255.255 LEN=96 TOS=0x00
> PREC=0x00 TTL=128
> ID=12375 PROTO=UDP SPT=137 DPT=137 LEN=76
> Jul 25 19:44:32 chilli-accesspoint kernel: [77096.092961] IN= OUT=eth0
> SRC=192.168.178.21
> DST=192.168.178.10 LEN=328 TOS=0x00 PREC=0x00 TTL=64 ID=0 DF PROTO=UDP
> SPT=68 DPT=67
> LEN=308
> Jul 25 19:44:34 chilli-accesspoint kernel: [77097.764413] IN= OUT=eth0
> SRC=192.168.178.21
> DST=192.168.178.10 LEN=328 TOS=0x00 PREC=0x00 TTL=64 ID=0 DF PROTO=UDP
> SPT=68 DPT=67
> LEN=308
> Jul 25 19:44:35 chilli-accesspoint kernel: [77098.710027] IN= OUT=eth0
> SRC=192.168.178.21
> DST=192.168.178.10 LEN=328 TOS=0x00 PREC=0x00 TTL=64 ID=0 DF PROTO=UDP
> SPT=68 DPT=67
> LEN=308
> Jul 25 19:44:40 chilli-accesspoint kernel: [77103.006176] IN=eth0 OUT=
> MAC=ff:ff:ff:ff:ff:ff:00:0b:5d:04:72:e5:08:00 SRC=192.168.100.127
> DST=192.168.100.255
> LEN=239 TOS=0x00 PREC=0x00 TTL=128 ID=12397 PROTO=UDP SPT=138 DPT=138 LEN=219
> Jul 25 19:44:40 chilli-accesspoint kernel: [77103.012566] IN=chilli0
> OUT= PHYSIN=wlan1
> MAC=ff:ff:ff:ff:ff:ff:00:04:23:82:b8:df:08:00 SRC=169.254.178.182
> DST=169.254.255.255
> LEN=204 TOS=0x00 PREC=0x00 TTL=128 ID=12395 PROTO=UDP SPT=138 DPT=138 LEN=184
> Jul 25 19:44:40 chilli-accesspoint kernel: [77103.012566] IN=
> OUT=chilli0 PHYSIN=wlan1
> PHYSOUT=eth1 SRC=169.254.178.182 DST=169.254.255.255 LEN=204 TOS=0x00
> PREC=0x00 TTL=128
> ID=12395 PROTO=UDP SPT=138 DPT=138 LEN=184
> Jul 25 19:44:40 chilli-accesspoint kernel: [77103.474933] IN= OUT=eth0
> SRC=192.168.178.21
> DST=192.168.178.10 LEN=328 TOS=0x00 PREC=0x00 TTL=64 ID=0 DF PROTO=UDP
> SPT=68 DPT=67
> LEN=308
> Jul 25 19:44:45 chilli-accesspoint kernel: [77108.418662] IN= OUT=eth0
> SRC=192.168.178.21
> DST=192.168.178.10 LEN=328 TOS=0x00 PREC=0x00 TTL=64 ID=0 DF PROTO=UDP
> SPT=68 DPT=67
> LEN=308
> Jul 25 19:44:47 chilli-accesspoint kernel: [77110.364099] IN= OUT=eth0
> SRC=192.168.178.21
> DST=192.168.178.10 LEN=328 TOS=0x00 PREC=0x00 TTL=64 ID=0 DF PROTO=UDP
> SPT=68 DPT=67
> LEN=308
> Jul 25 19:44:55 chilli-accesspoint kernel: [77118.677339] IN=eth0 OUT=
> MAC=ff:ff:ff:ff:ff:ff:00:0b:5d:04:72:e5:08:00 SRC=192.168.100.127
> DST=192.168.100.255
> LEN=239 TOS=0x00 PREC=0x00 TTL=128 ID=12418 PROTO=UDP SPT=138 DPT=138 LEN=219
> Jul 25 19:45:03 chilli-accesspoint kernel: [77126.250382] IN= OUT=eth0
> SRC=192.168.178.21
> DST=192.168.178.10 LEN=328 TOS=0x00 PREC=0x00 TTL=64 ID=0 DF PROTO=UDP
> SPT=68 DPT=67
> LEN=308
> 
> 
> 
> 
> ----------------------------------------------------------------
> This message was sent using IMP, the Internet Messaging Program.
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: chilli-unsubscribe at coova.org
> For additional commands, e-mail: chilli-help at coova.org
> Wiki: http://coova.org/wiki/index.php/CoovaChilli
> Forum: http://coova.org/phpBB3/viewforum.php?f=4
> 



From wlan at mac.com  Sat Jul 26 06:08:26 2008
From: wlan at mac.com (wlanmac)
Date: Sat, 26 Jul 2008 08:08:26 +0200
Subject: dhcp - WPAD and Proxy Autoconfigure proxy-auto-discovery	wpad.dat
In-Reply-To: <20080725235709.vxx1qbgz4okso0k0@ox.thomasbaumann.com>
References: <20080725235709.vxx1qbgz4okso0k0@ox.thomasbaumann.com>
Message-ID: <1217052506.6720.4.camel@david-laptop>

Do this through your external DHCP server...

David


On Fri, 2008-07-25 at 23:57 +0200, Thomas Baumann wrote:
> Hello list,
> 
> As described in
> http://coova.org/wordpress/index.php/2008/01/25/dhcp-discovery/
> it should be possible to tell coova to publish the
> proxy wpad-url with dhcp type 252.
> 
> But how is this performed ? I could not find anything in dhcp.c
> 
> I hope you can give me a hint how to implement this.
> 
> Thanks for your reply in advance.
> 
> Thomas.
> 
> 
> 
> ----------------------------------------------------------------
> This message was sent using IMP, the Internet Messaging Program.
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: chilli-unsubscribe at coova.org
> For additional commands, e-mail: chilli-help at coova.org
> Wiki: http://coova.org/wiki/index.php/CoovaChilli
> Forum: http://coova.org/phpBB3/viewforum.php?f=4
> 



From tom at tiri.li  Sat Jul 26 07:57:26 2008
From: tom at tiri.li (Thomas Baumann)
Date: Sat, 26 Jul 2008 09:57:26 +0200
Subject: chilli dhcp helper no ACK!
In-Reply-To: <1217052473.6720.2.camel@david-laptop>
References: <20080725235650.u8mjj4ntw044o8sg@ox.thomasbaumann.com>
	<1217052473.6720.2.camel@david-laptop>
Message-ID: <20080726095726.qujt3vj74s4c8gok@ox.thomasbaumann.com>

It did not work :-( Here is my debug session:
Any more ideas ? The syslog on both systems is the same as before.

chilli.c: 3409: 0 (Debug) ChilliSpot version 1.0.12 started.

tun.c: 482: 0 (Debug) TX queue length set to 100
ippool.c: 218: 0 (Debug) Hashlog 8 253 256

chilli.c: 3564: 0 (Debug) Waiting for client request...
chilli.c: 2195: 0 (Debug) Received access request confirmation from  
radius server

dhcp.c: 1861: 0 (Debug) dhcp/bootps request being processed
dhcp.c: 1861: 0 (Debug) dhcp/bootps request being processed
dhcp.c: 1861: 0 (Debug) dhcp/bootps request being processed
dhcp.c: 1861: 0 (Debug) dhcp/bootps request being processed
dhcp.c: 2363: 0 (Debug) arp_decaps: dst=ff:ff:ff:ff:ff:ff  
src=00:04:23:82:b8:df prot=0806
dhcp.c: 2254: 0 (Debug) Address not found: 169.254.178.182
chilli.c: 2694: 0 (Debug) New DHCP request from MAC=00-04-23-82-B8-DF
chilli.c: 2697: 0 (Debug) New DHCP connection established
dhcp.c: 2363: 0 (Debug) arp_decaps: dst=ff:ff:ff:ff:ff:ff  
src=00:04:23:82:b8:df prot=0806
dhcp.c: 2363: 0 (Debug) arp_decaps: dst=ff:ff:ff:ff:ff:ff  
src=00:04:23:82:b8:df prot=0806
dhcp.c: 1846: 0 (Debug) dropping packet; not for our MAC or broadcast
chilli.c: 2573: 0 (Debug) DHCP request for IP address
ippool.c: 324: 0 (Debug) Requesting new static ip: 169.254.178.182
ippool.c: 344: 0 (Debug) Static IP address not allowed
ippool.c: 324: 0 (Debug) Requesting new dynamic ip: 169.254.178.182
chilli.c: 2661: 0 (Debug) Client MAC=00-04-23-82-B8-DF assigned IP  
192.168.252.2
dhcp.c: 1846: 0 (Debug) dropping packet; not for our MAC or broadcast
dhcp.c: 1861: 0 (Debug) dhcp/bootps request being processed
dhcp.c: 1861: 0 (Debug) dhcp/bootps request being processed
dhcp.c: 1861: 0 (Debug) dhcp/bootps request being processed
dhcp.c: 1861: 0 (Debug) dhcp/bootps request being processed
dhcp.c: 1846: 0 (Debug) dropping packet; not for our MAC or broadcast
dhcp.c: 1846: 0 (Debug) dropping packet; not for our MAC or broadcast
dhcp.c: 1846: 0 (Debug) dropping packet; not for our MAC or broadcast
dhcp.c: 1846: 0 (Debug) dropping packet; not for our MAC or broadcast


Zitat von wlanmac <wlan at mac.com>:

> Try adding:
>
>   case DHCPACK:
>
> in the switch block at about line 1681 of dhcp.c
>
> David
>
>
> On Fri, 2008-07-25 at 23:56 +0200, Thomas Baumann wrote:
>> Hello list,
>>
>> I use Version 1.0.12.
>>
>> When I define a dhcp gateway (e.g. 192.168.178.10:67) with
>> option dhcpgateway and dhcpgatewayport the all requests of
>> the client go to the dhcp-server. this is correct.
>> BUT there never comes an ACK!
>>
>> I hope sb. can give me a hint how to solve this problem.
>> That's why I cant use a third party dhcp server :-/
>>
>> setup:
>> 192.168.178.10 = dhcpserver
>> 192.168.252.1  = chillispot at chilli0
>> 192.168.178.21 = chillispot at eth0
>>
>>
>> syslog at 192.168.178.10
>>
>> Jul 25 19:48:07 dhcp-server dhcpd: DHCPOFFER on 192.168.252.249 to
>> 00:04:23:82:b8:df (winclient)
>> via 192.168.252.1
>> Jul 25 19:48:10 dhcp-server dhcpd: DHCPDISCOVER from 00:04:23:82:b8:df
>> (winclient) via 192.168.252.1
>> Jul 25 19:48:10 dhcp-server dhcpd: DHCPOFFER on 192.168.252.249 to
>> 00:04:23:82:b8:df (winclient)
>> via 192.168.252.1
>> Jul 25 19:48:19 dhcp-server dhcpd: DHCPDISCOVER from 00:04:23:82:b8:df
>> (winclient) via 192.168.252.1
>> Jul 25 19:48:19 dhcp-server dhcpd: DHCPOFFER on 192.168.252.249 to
>> 00:04:23:82:b8:df (winclient)
>> via 192.168.252.1
>> Jul 25 19:48:34 dhcp-server dhcpd: DHCPDISCOVER from 00:04:23:82:b8:df
>> (winclient) via 192.168.252.1
>> Jul 25 19:48:34 dhcp-server dhcpd: DHCPOFFER on 192.168.252.249 to
>> 00:04:23:82:b8:df (winclient)
>> via 192.168.252.1
>>
>> syslog at chilli-accesspoint
>> Jul 25 19:43:28 chilli-accesspoint kernel: [77032.310794] IN= OUT=eth0
>> SRC=192.168.178.21
>> DST=192.168.178.10 LEN=328 TOS=0x00 PREC=0x00 TTL=64 ID=0 DF PROTO=UDP
>> SPT=68 DPT=67
>> LEN=308
>> Jul 25 19:43:40 chilli-accesspoint kernel: [77044.257305] IN= OUT=eth0
>> SRC=192.168.178.21
>> DST=192.168.178.10 LEN=328 TOS=0x00 PREC=0x00 TTL=64 ID=0 DF PROTO=UDP
>> SPT=68 DPT=67
>> LEN=308
>> Jul 25 19:43:42 chilli-accesspoint kernel: [77046.121562] IN= OUT=eth0
>> SRC=192.168.178.21
>> DST=192.168.178.10 LEN=328 TOS=0x00 PREC=0x00 TTL=64 ID=0 DF PROTO=UDP
>> SPT=68 DPT=67
>> LEN=308
>> Jul 25 19:43:57 chilli-accesspoint kernel: [77061.076492] IN= OUT=eth0
>> SRC=192.168.178.21
>> DST=192.168.178.10 LEN=328 TOS=0x00 PREC=0x00 TTL=64 ID=0 DF PROTO=UDP
>> SPT=68 DPT=67
>> LEN=308
>> Jul 25 19:44:21 chilli-accesspoint kernel: [77085.101844] IN= OUT=eth0
>> SRC=192.168.178.21
>> DST=192.168.178.10 LEN=328 TOS=0x00 PREC=0x00 TTL=64 ID=0 DF PROTO=UDP
>> SPT=68 DPT=67
>> LEN=308
>> Jul 25 19:44:25 chilli-accesspoint kernel: [77089.046526] IN= OUT=eth0
>> SRC=192.168.178.21
>> DST=192.168.178.10 LEN=328 TOS=0x00 PREC=0x00 TTL=64 ID=0 DF PROTO=UDP
>> SPT=68 DPT=67
>> LEN=308
>> Jul 25 19:44:29 chilli-accesspoint kernel: [77092.991370] IN= OUT=eth0
>> SRC=192.168.178.21
>> DST=192.168.178.10 LEN=328 TOS=0x00 PREC=0x00 TTL=64 ID=0 DF PROTO=UDP
>> SPT=68 DPT=67
>> LEN=308
>> Jul 25 19:44:31 chilli-accesspoint kernel: [77095.027715] IN=chilli0
>> OUT= PHYSIN=wlan1
>> MAC=ff:ff:ff:ff:ff:ff:00:04:23:82:b8:df:08:00 SRC=169.254.178.182
>> DST=169.254.255.255
>> LEN=96 TOS=0x00 PREC=0x00 TTL=128 ID=12375 PROTO=UDP SPT=137 DPT=137 LEN=76
>> Jul 25 19:44:31 chilli-accesspoint kernel: [77095.032067] IN=
>> OUT=chilli0 PHYSIN=wlan1
>> PHYSOUT=eth1 SRC=169.254.178.182 DST=169.254.255.255 LEN=96 TOS=0x00
>> PREC=0x00 TTL=128
>> ID=12375 PROTO=UDP SPT=137 DPT=137 LEN=76
>> Jul 25 19:44:32 chilli-accesspoint kernel: [77096.092961] IN= OUT=eth0
>> SRC=192.168.178.21
>> DST=192.168.178.10 LEN=328 TOS=0x00 PREC=0x00 TTL=64 ID=0 DF PROTO=UDP
>> SPT=68 DPT=67
>> LEN=308
>> Jul 25 19:44:34 chilli-accesspoint kernel: [77097.764413] IN= OUT=eth0
>> SRC=192.168.178.21
>> DST=192.168.178.10 LEN=328 TOS=0x00 PREC=0x00 TTL=64 ID=0 DF PROTO=UDP
>> SPT=68 DPT=67
>> LEN=308
>> Jul 25 19:44:35 chilli-accesspoint kernel: [77098.710027] IN= OUT=eth0
>> SRC=192.168.178.21
>> DST=192.168.178.10 LEN=328 TOS=0x00 PREC=0x00 TTL=64 ID=0 DF PROTO=UDP
>> SPT=68 DPT=67
>> LEN=308
>> Jul 25 19:44:40 chilli-accesspoint kernel: [77103.006176] IN=eth0 OUT=
>> MAC=ff:ff:ff:ff:ff:ff:00:0b:5d:04:72:e5:08:00 SRC=192.168.100.127
>> DST=192.168.100.255
>> LEN=239 TOS=0x00 PREC=0x00 TTL=128 ID=12397 PROTO=UDP SPT=138   
>> DPT=138 LEN=219
>> Jul 25 19:44:40 chilli-accesspoint kernel: [77103.012566] IN=chilli0
>> OUT= PHYSIN=wlan1
>> MAC=ff:ff:ff:ff:ff:ff:00:04:23:82:b8:df:08:00 SRC=169.254.178.182
>> DST=169.254.255.255
>> LEN=204 TOS=0x00 PREC=0x00 TTL=128 ID=12395 PROTO=UDP SPT=138   
>> DPT=138 LEN=184
>> Jul 25 19:44:40 chilli-accesspoint kernel: [77103.012566] IN=
>> OUT=chilli0 PHYSIN=wlan1
>> PHYSOUT=eth1 SRC=169.254.178.182 DST=169.254.255.255 LEN=204 TOS=0x00
>> PREC=0x00 TTL=128
>> ID=12395 PROTO=UDP SPT=138 DPT=138 LEN=184
>> Jul 25 19:44:40 chilli-accesspoint kernel: [77103.474933] IN= OUT=eth0
>> SRC=192.168.178.21
>> DST=192.168.178.10 LEN=328 TOS=0x00 PREC=0x00 TTL=64 ID=0 DF PROTO=UDP
>> SPT=68 DPT=67
>> LEN=308
>> Jul 25 19:44:45 chilli-accesspoint kernel: [77108.418662] IN= OUT=eth0
>> SRC=192.168.178.21
>> DST=192.168.178.10 LEN=328 TOS=0x00 PREC=0x00 TTL=64 ID=0 DF PROTO=UDP
>> SPT=68 DPT=67
>> LEN=308
>> Jul 25 19:44:47 chilli-accesspoint kernel: [77110.364099] IN= OUT=eth0
>> SRC=192.168.178.21
>> DST=192.168.178.10 LEN=328 TOS=0x00 PREC=0x00 TTL=64 ID=0 DF PROTO=UDP
>> SPT=68 DPT=67
>> LEN=308
>> Jul 25 19:44:55 chilli-accesspoint kernel: [77118.677339] IN=eth0 OUT=
>> MAC=ff:ff:ff:ff:ff:ff:00:0b:5d:04:72:e5:08:00 SRC=192.168.100.127
>> DST=192.168.100.255
>> LEN=239 TOS=0x00 PREC=0x00 TTL=128 ID=12418 PROTO=UDP SPT=138   
>> DPT=138 LEN=219
>> Jul 25 19:45:03 chilli-accesspoint kernel: [77126.250382] IN= OUT=eth0
>> SRC=192.168.178.21
>> DST=192.168.178.10 LEN=328 TOS=0x00 PREC=0x00 TTL=64 ID=0 DF PROTO=UDP
>> SPT=68 DPT=67
>> LEN=308
>>

--
http://www.1-search.de -- http://www.tiri.li

----------------------------------------------------------------
This message was sent using IMP, the Internet Messaging Program.



From ccesario at tecnomega.com.br  Mon Jul 28 13:25:54 2008
From: ccesario at tecnomega.com.br (Carlos Cesario)
Date: Mon, 28 Jul 2008 10:25:54 -0300
Subject: [chilli] Re: Captive Stopped
In-Reply-To: <3ea93a690807221043u21e30832tff4ea9ba32f8d5fa@mail.gmail.com>
References: <1216741655.10317.10.camel@ccesario-laptop>
	 <200807221736.m6MHaCVJ065840@himinbjorg.tucs-beachin-obx-house.com>
	 <3ea93a690807221043u21e30832tff4ea9ba32f8d5fa@mail.gmail.com>
Message-ID: <1217251555.7183.5.camel@ccesario-laptop>

Hi guys,

I try this option but I continue with problems....

in log files, I see that chilli continue running..... 



Jul 28 10:17:23 netpopulacao coova-chilli[3039]: chilli.c: 2690: DHCP
addr released by MAC=00-05-9E-87-C8-18 IP=11.0.2.230
Jul 28 10:17:23 netpopulacao coova-chilli[3039]: chilli.c: 2602: New
DHCP request from MAC=00-05-9E-87-C8-18
Jul 28 10:17:30 netpopulacao coova-chilli[3039]: chilli.c: 2690: DHCP
addr released by MAC=00-0E-2E-86-D4-CF IP=0.0.0.0
Jul 28 10:17:38 netpopulacao coova-chilli[3039]: chilli.c: 2602: New
DHCP request from MAC=00-05-9E-88-C8-1F
Jul 28 10:17:54 netpopulacao coova-chilli[3039]: chilli.c: 2690: DHCP
addr released by MAC=00-05-9E-88-03-02 IP=11.0.2.211


But theses users is passing direct, whitouth LOGIN AUTH PAGE


more ideas ?

Thanks

Carlos

Em Ter, 2008-07-22 ?s 14:43 -0300, IanC escreveu:
> To be safe, what "DNS fun" are you referring to, Tuc?
> 
> On Tue, Jul 22, 2008 at 1:36 PM, Tuc at T-B-O-H.NET <ml at t-b-o-h.net> wrote:
> > Hi,
> >
> >        Its a double edged sword though. If the unit reboots and
> > doesn't get the information immediately, then it never will. We
> > found that paying attention to the DNS and making sure it never
> > had to remotly look it up resolved it 90% of the way. The other
> > 10 % is just the fact that if it doesn't get it, it will in
> > the next hour.
> >
> >        Speaking of DNS, hopefully everyone is ready for the
> > DNS fun on Aug 7th. If anyone needs help patching/testing, lemme
> > know. Otherwise, will be interesting to see all the fun people
> > have on Aug 7th!
> >
> >                Tuc
> >>
> >> Hmmm, I'll test it....
> >>
> >> And I post the results here....
> >>
> >>
> >> Em Ter, 2008-07-22 ?s 12:23 -0300, Marco Simioni escreveu:
> >> > nano /etc/init.d/chilli
> >> >
> >> > find the following row (nearly row 19)
> >> >
> >> > OPTS="--pidfile /var/run/$NAME.pid"
> >> >
> >> > and add the interval option like this
> >> >
> >> > OPTS="--pidfile /var/run/$NAME.pid --interval 0"
> >> >
> >> > Regards
> >> >
> >> > Marco
> >> >
> >> >
> >> >
> >> > 2008/7/22 Outback Dingo <outbackdingo at gmail.com>:
> >> > >
> >> > > Exactly how and where did you do this ? its worth testing
> >> > >
> >> > >> I had to disable automatic config reload and automatic DNS look-up,
> >> > >> adding the interval parameter to the startup script, and now the
> >> > >> problem has gone.
> >> > >
> >> >
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: chilli-unsubscribe at coova.org
> > For additional commands, e-mail: chilli-help at coova.org
> > Wiki: http://coova.org/wiki/index.php/CoovaChilli
> > Forum: http://coova.org/phpBB3/viewforum.php?f=4
> >
> >
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: chilli-unsubscribe at coova.org
> For additional commands, e-mail: chilli-help at coova.org
> Wiki: http://coova.org/wiki/index.php/CoovaChilli
> Forum: http://coova.org/phpBB3/viewforum.php?f=4




From raphael at endian.com  Tue Jul 29 13:41:07 2008
From: raphael at endian.com (Raphael Vallazza)
Date: Tue, 29 Jul 2008 15:41:07 +0200
Subject: AnyIP routes only work in debug mode
Message-ID: <159B0DF7-7D95-41BD-AD8F-F1EA68F0F9EC@endian.com>

Hi,

i've found an anyip related bug, which caused anyip only to work when  
coova-chilli is in debug mode.

I've attached a patch to fix this issue, should apply to both SVN and  
1.0.12.

Bye,
Raphael

-------------- next part --------------
A non-text attachment was scrubbed...
Name: coova-chilli-1.0.12-routedbg.patch
Type: application/octet-stream
Size: 1238 bytes
Desc: not available
URL: <http://lists.coova.org/pipermail/chilli/attachments/20080729/e306b6c0/attachment.obj>
-------------- next part --------------


From javi.larrea at gmail.com  Wed Jul 30 12:06:59 2008
From: javi.larrea at gmail.com (=?ISO-8859-1?Q?Javier_Larrea_Arma=F1anzas?=)
Date: Wed, 30 Jul 2008 14:06:59 +0200
Subject: not trying radiusserver2
Message-ID: <48905963.6050700@gmail.com>

Hi,
I don't know why, when radiusserver1 is down, chilli doesn't try 
radiusserver2.  I'm using wireshark to see radius traffic and I see an 
Access-Request to radiusserver1 and an ICMP port unreachable error in 
return (because radiusserver1 is down).  But I don't see an 
Access-Request to radiusserver2 ?why?

Thanks,
Javier.



From henk at skyrove.com  Wed Jul 30 15:12:19 2008
From: henk at skyrove.com (Henk Kleynhans)
Date: Wed, 30 Jul 2008 17:12:19 +0200
Subject: AnyIP routes only work in debug mode
In-Reply-To: <159B0DF7-7D95-41BD-AD8F-F1EA68F0F9EC@endian.com>
References: <159B0DF7-7D95-41BD-AD8F-F1EA68F0F9EC@endian.com>
Message-ID: <d42f029a0807300812m7e297293m2f82ab4dcab6a305@mail.gmail.com>

I'm confused, AnyIP works fine for us.

henk


On Tue, Jul 29, 2008 at 3:41 PM, Raphael Vallazza <raphael at endian.com>wrote:

> Hi,
>
> i've found an anyip related bug, which caused anyip only to work when
> coova-chilli is in debug mode.
>
> I've attached a patch to fix this issue, should apply to both SVN and
> 1.0.12.
>
> Bye,
> Raphael
>
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: chilli-unsubscribe at coova.org
> For additional commands, e-mail: chilli-help at coova.org
> Wiki: http://coova.org/wiki/index.php/CoovaChilli
> Forum: http://coova.org/phpBB3/viewforum.php?f=4
>



-- 
Henk Kleynhans
CTO & Founder
Skyrove (Pty) Ltd
Technology Top 100 - Most Promising Emerging Enterprise 2006
Tel: +27 (21) 4488843
Cell: +27 (84) 3073451
Fax: +27 (86) 6204077
henk at skyrove.com
blog: www.geekrebel.com

------

"A person with ubuntu is open and available to others, affirming of others,
does not feel threatened that others are able and good, for he or she has a
proper self-assurance that comes from knowing that he or she belongs in a
greater whole and is diminished when others are humiliated or diminished,
when others are tortured or oppressed." - Desmond Tutu
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.coova.org/pipermail/chilli/attachments/20080730/e05fee8c/attachment.htm>

From gunther.mayer at googlemail.com  Wed Jul 30 17:59:40 2008
From: gunther.mayer at googlemail.com (Gunther Mayer)
Date: Wed, 30 Jul 2008 19:59:40 +0200
Subject: AnyIP routes only work in debug mode
In-Reply-To: <159B0DF7-7D95-41BD-AD8F-F1EA68F0F9EC@endian.com>
References: <159B0DF7-7D95-41BD-AD8F-F1EA68F0F9EC@endian.com>
Message-ID: <4890AC0C.20602@gmail.com>

Raphael Vallazza wrote:
> Hi,
>
> i've found an anyip related bug, which caused anyip only to work when 
> coova-chilli is in debug mode.
>
> I've attached a patch to fix this issue, should apply to both SVN and 
> 1.0.12.
You beat me to it... I wrote a patch for 1.0.11 but it didn't apply 
cleanly to svn, was going to rewrite it for svn but ran out of time. I 
posted about the exact nature of the problem some time ago for those 
interested though I don't remember the subject of the thread (Henk you 
should have a look at that).

Gunther


From gunther.mayer at googlemail.com  Wed Jul 30 18:04:05 2008
From: gunther.mayer at googlemail.com (Gunther Mayer)
Date: Wed, 30 Jul 2008 20:04:05 +0200
Subject: Authentication not robust against packet loss?
Message-ID: <4890AD15.9090404@gmail.com>

Hi guys,

Not sure if this has been fixed in svn or 1.0.12 but running 1.0.11 I 
notice that in case a radius authentication packet (or its response) 
gets lost due to network problems/saturation/packet loss etc. coova 
never tries to re-authenticate the way it retransmits acc packets after 
a few seconds.

This could be a bug or a feature but I'd like to know either way. It's 
easy to reproduce by dropping radius auth packets on your radius server 
by means of a firewall and watching coova send out only once radauth 
packet and then sit there doing nothing.

Gunther


From charles at thewybles.com  Wed Jul 30 18:10:23 2008
From: charles at thewybles.com (Charles Wyble)
Date: Wed, 30 Jul 2008 11:10:23 -0700
Subject: Authentication not robust against packet loss?
In-Reply-To: <4890AD15.9090404@gmail.com>
References: <4890AD15.9090404@gmail.com>
Message-ID: <4890AE8F.6040101@thewybles.com>

Gunther Mayer wrote:
> Hi guys,
>
> Not sure if this has been fixed in svn or 1.0.12 but running 1.0.11 I 
> notice that in case a radius authentication packet (or its response) 
> gets lost due to network problems/saturation/packet loss etc. coova 
> never tries to re-authenticate the way it retransmits acc packets 
> after a few seconds.
>
> This could be a bug or a feature but I'd like to know either way. It's 
> easy to reproduce by dropping radius auth packets on your radius 
> server by means of a firewall and watching coova send out only once 
> radauth packet and then sit there doing nothing.

I seem to recall a thread about this some time ago and a fix. I could be 
wrong. If not then perhaps this is a regression?



-- 
Charles Wyble (818) 280 - 7059
http://charlesnw.blogspot.com
CTO Known Element Enterprises / SoCal WiFI project



From wlan at mac.com  Wed Jul 30 19:43:20 2008
From: wlan at mac.com (wlanmac)
Date: Wed, 30 Jul 2008 21:43:20 +0200
Subject: not trying radiusserver2
In-Reply-To: <48905963.6050700@gmail.com>
References: <48905963.6050700@gmail.com>
Message-ID: <1217447000.6827.4.camel@david-laptop>

Also try a config with:

radiustimeout=5
radiusretry=3
radiusretrysec=1

David

On Wed, 2008-07-30 at 14:06 +0200, Javier Larrea Arma?anzas wrote:
> Hi,
> I don't know why, when radiusserver1 is down, chilli doesn't try 
> radiusserver2.  I'm using wireshark to see radius traffic and I see an 
> Access-Request to radiusserver1 and an ICMP port unreachable error in 
> return (because radiusserver1 is down).  But I don't see an 
> Access-Request to radiusserver2 ?why?
> 
> Thanks,
> Javier.
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: chilli-unsubscribe at coova.org
> For additional commands, e-mail: chilli-help at coova.org
> Wiki: http://coova.org/wiki/index.php/CoovaChilli
> Forum: http://coova.org/phpBB3/viewforum.php?f=4
> 



From wlan at mac.com  Wed Jul 30 19:41:38 2008
From: wlan at mac.com (wlanmac)
Date: Wed, 30 Jul 2008 21:41:38 +0200
Subject: Authentication not robust against packet loss?
In-Reply-To: <4890AE8F.6040101@thewybles.com>
References: <4890AD15.9090404@gmail.com> <4890AE8F.6040101@thewybles.com>
Message-ID: <1217446898.6827.2.camel@david-laptop>

Try a config with:

radiustimeout=5
radiusretry=3
radiusretrysec=1

It might be more to your liking than the defaults... 

David


On Wed, 2008-07-30 at 11:10 -0700, Charles Wyble wrote:
> Gunther Mayer wrote:
> > Hi guys,
> >
> > Not sure if this has been fixed in svn or 1.0.12 but running 1.0.11 I 
> > notice that in case a radius authentication packet (or its response) 
> > gets lost due to network problems/saturation/packet loss etc. coova 
> > never tries to re-authenticate the way it retransmits acc packets 
> > after a few seconds.
> >
> > This could be a bug or a feature but I'd like to know either way. It's 
> > easy to reproduce by dropping radius auth packets on your radius 
> > server by means of a firewall and watching coova send out only once 
> > radauth packet and then sit there doing nothing.
> 
> I seem to recall a thread about this some time ago and a fix. I could be 
> wrong. If not then perhaps this is a regression?
> 
> 
> 



From javi.larrea at gmail.com  Thu Jul 31 08:27:33 2008
From: javi.larrea at gmail.com (=?UTF-8?B?SmF2aWVyIExhcnJlYSBBcm1hw7Fhbnphcw==?=)
Date: Thu, 31 Jul 2008 10:27:33 +0200
Subject: not trying radiusserver2
In-Reply-To: <1217447000.6827.4.camel@david-laptop>
References: <48905963.6050700@gmail.com> <1217447000.6827.4.camel@david-laptop>
Message-ID: <48917775.7040004@gmail.com>

Watching the traffic with wireshark I see only packets to radiusserver2 
when the admin user (chillispot) is authenticating (to fetch config, but 
I don't use this feature).   When a normal user logs in chilli doesn't 
ask to radiusserver2 although radiusserver1 is down. 

I've tried David's suggestion but it hasn't worked.

It's a bug or I am doing something wrong?  I'm using the 1.0.11 version.

Regards,
Javier.

wlanmac escribi?:
> Also try a config with:
>
> radiustimeout=5
> radiusretry=3
> radiusretrysec=1
>
> David
>
> On Wed, 2008-07-30 at 14:06 +0200, Javier Larrea Arma?anzas wrote:
>   
>> Hi,
>> I don't know why, when radiusserver1 is down, chilli doesn't try 
>> radiusserver2.  I'm using wireshark to see radius traffic and I see an 
>> Access-Request to radiusserver1 and an ICMP port unreachable error in 
>> return (because radiusserver1 is down).  But I don't see an 
>> Access-Request to radiusserver2 ?why?
>>
>> Thanks,
>> Javier.
>>
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: chilli-unsubscribe at coova.org
>> For additional commands, e-mail: chilli-help at coova.org
>> Wiki: http://coova.org/wiki/index.php/CoovaChilli
>> Forum: http://coova.org/phpBB3/viewforum.php?f=4
>>
>>     
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: chilli-unsubscribe at coova.org
> For additional commands, e-mail: chilli-help at coova.org
> Wiki: http://coova.org/wiki/index.php/CoovaChilli
> Forum: http://coova.org/phpBB3/viewforum.php?f=4
>
>
>   



From wlan at mac.com  Thu Jul 31 11:29:13 2008
From: wlan at mac.com (wlanmac)
Date: Thu, 31 Jul 2008 13:29:13 +0200
Subject: not trying radiusserver2
In-Reply-To: <48917775.7040004@gmail.com>
References: <48905963.6050700@gmail.com> <1217447000.6827.4.camel@david-laptop>
 <48917775.7040004@gmail.com>
Message-ID: <1217503753.6993.2.camel@david-laptop>

You should upgrade. 

David

On Thu, 2008-07-31 at 10:27 +0200, Javier Larrea Arma?anzas wrote:
> Watching the traffic with wireshark I see only packets to radiusserver2 
> when the admin user (chillispot) is authenticating (to fetch config, but 
> I don't use this feature).   When a normal user logs in chilli doesn't 
> ask to radiusserver2 although radiusserver1 is down. 
> 
> I've tried David's suggestion but it hasn't worked.
> 
> It's a bug or I am doing something wrong?  I'm using the 1.0.11 version.
> 
> Regards,
> Javier.
> 
> wlanmac escribi?:
> > Also try a config with:
> >
> > radiustimeout=5
> > radiusretry=3
> > radiusretrysec=1
> >
> > David
> >
> > On Wed, 2008-07-30 at 14:06 +0200, Javier Larrea Arma?anzas wrote:
> >   
> >> Hi,
> >> I don't know why, when radiusserver1 is down, chilli doesn't try 
> >> radiusserver2.  I'm using wireshark to see radius traffic and I see an 
> >> Access-Request to radiusserver1 and an ICMP port unreachable error in 
> >> return (because radiusserver1 is down).  But I don't see an 
> >> Access-Request to radiusserver2 ?why?
> >>
> >> Thanks,
> >> Javier.
> >>
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: chilli-unsubscribe at coova.org
> >> For additional commands, e-mail: chilli-help at coova.org
> >> Wiki: http://coova.org/wiki/index.php/CoovaChilli
> >> Forum: http://coova.org/phpBB3/viewforum.php?f=4
> >>
> >>     
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: chilli-unsubscribe at coova.org
> > For additional commands, e-mail: chilli-help at coova.org
> > Wiki: http://coova.org/wiki/index.php/CoovaChilli
> > Forum: http://coova.org/phpBB3/viewforum.php?f=4
> >
> >
> >   
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: chilli-unsubscribe at coova.org
> For additional commands, e-mail: chilli-help at coova.org
> Wiki: http://coova.org/wiki/index.php/CoovaChilli
> Forum: http://coova.org/phpBB3/viewforum.php?f=4
> 



From m.mende at failover.de  Thu Jul 31 13:58:09 2008
From: m.mende at failover.de (Michael Mende)
Date: Thu, 31 Jul 2008 15:58:09 +0200
Subject: dhcp option 252 Proxy autodiscovery
Message-ID: <20080731135809.GA17808@gw>

Hello Coova,

I've wrote a patch to add the "Proxy autodiscovery" via dhcp to
chillocoova. It works well on my setup. The only thing that might suck
is a segfault if --wpadurl is not set either by commandline argument or
in local.conf. This will be fixed next.

The WPAD file might be set in local.conf:
<snip>
wpadurl = "http://myserver/wpad.dat"
</snip>

or by as commandline parameter --wpadurl="http://myserver/wpad.dat"

You can find the patch at [1] and [2]. Please feel free to take it for
coovachilli as well.


[1]
http://www.failover.de/Members/menole/patches-and-snipplets/coovachilli/coova-chilli_1-0-12-wpad-patch/view
[2]
http://www.failover.de/Members/menole/patches-and-snipplets/coovachilli/coova-chilli_1-0-12-wpad-patch


-- 
Kind regards,

Michael Mende

* Linux Cluster Consulting
* http://www.failover.de/
*
* michael.mende at failover.de


From wlan at mac.com  Thu Jul 31 17:58:31 2008
From: wlan at mac.com (wlanmac)
Date: Thu, 31 Jul 2008 19:58:31 +0200
Subject: dhcp option 252 Proxy autodiscovery
In-Reply-To: <20080731135809.GA17808@gw>
References: <20080731135809.GA17808@gw>
Message-ID: <1217527111.6945.7.camel@david-laptop>

Hi Michael,

Yes, a segfault when not defined would be problematic. 

I have been resisting adding individual DHCP option support into chilli
- there are so many of them possible. Instead, you can use either an
external DHCP service or you can add ChilliSpot-DHCP-Options attributes
(containing DHCP formatted options as content) in the reply packets
during MAC authentication. With that said, perhaps WPAD is special.
Though, it might be nicer to have chilli serve up the wpad file itself
(to take care of the required mime-type and everything). 

David

On Thu, 2008-07-31 at 15:58 +0200, Michael Mende wrote:
> Hello Coova,
> 
> I've wrote a patch to add the "Proxy autodiscovery" via dhcp to
> chillocoova. It works well on my setup. The only thing that might suck
> is a segfault if --wpadurl is not set either by commandline argument or
> in local.conf. This will be fixed next.
> 
> The WPAD file might be set in local.conf:
> <snip>
> wpadurl = "http://myserver/wpad.dat"
> </snip>
> 
> or by as commandline parameter --wpadurl="http://myserver/wpad.dat"
> 
> You can find the patch at [1] and [2]. Please feel free to take it for
> coovachilli as well.
> 
> 
> [1]
> http://www.failover.de/Members/menole/patches-and-snipplets/coovachilli/coova-chilli_1-0-12-wpad-patch/view
> [2]
> http://www.failover.de/Members/menole/patches-and-snipplets/coovachilli/coova-chilli_1-0-12-wpad-patch
> 
> 



