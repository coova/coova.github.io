<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> Passwords of length 16 not handled correctly
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:chilli%40coova.org?Subject=Re%3A%20Passwords%20of%20length%2016%20not%20handled%20correctly&In-Reply-To=%3C1249967203.7770.7.camel%40david-laptop%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000854.html">
   <LINK REL="Next"  HREF="000860.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Passwords of length 16 not handled correctly</H1>
    <B>wlanmac</B> 
    <A HREF="mailto:chilli%40coova.org?Subject=Re%3A%20Passwords%20of%20length%2016%20not%20handled%20correctly&In-Reply-To=%3C1249967203.7770.7.camel%40david-laptop%3E"
       TITLE="Passwords of length 16 not handled correctly">wlan at mac.com
       </A><BR>
    <I>Tue Aug 11 05:06:43 UTC 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000854.html">Passwords of length 16 not handled correctly
</A></li>
        <LI>Next message: <A HREF="000860.html">Passwords of length 16 not handled correctly
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#858">[ date ]</a>
              <a href="thread.html#858">[ thread ]</a>
              <a href="subject.html#858">[ subject ]</a>
              <a href="author.html#858">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>As discussed in IRC, all patches were committed. 

Wichert, if you send me a htpasswd encoded password and your choice of
usernames, I'll set you up for commit access in SVN.

Also, did you mention you knew off hand how to import this old mailing
list (based on qmail/ezmlm) to Mailman? I need to do that before this
server completely dies. 

Thanks,
David



On Mon, 2009-08-10 at 13:56 +0200, Wichert Akkerman wrote:
&gt;<i> I found another corner case in the password handling: normally passwords 
</I>&gt;<i> are NUL-padded to be a multiple of 16 in length before the as part of 
</I>&gt;<i> the PAP-obfuscation. chilli then decodes the obfuscated password and 
</I>&gt;<i> ends up with a proper NUL-terminated string. However if a password is 
</I>&gt;<i> exactly 16 characters, or a multiple thereof, long no NUL-padding 
</I>&gt;<i> happens. As a result the password string chilli gets is never 
</I>&gt;<i> NUL-terminated. The fix is easy: make sure the incoming password is 
</I>&gt;<i> NUL-terminated so we can get a valid length for it and limit the decoded 
</I>&gt;<i> password to strlen(conn-&gt;password) characters. I've attached a patch 
</I>&gt;<i> with this change.
</I>&gt;<i> 
</I>&gt;<i> Wichert.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> ---------------------------------------------------------------------
</I>&gt;<i> To unsubscribe, e-mail: <A HREF="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">chilli-unsubscribe at coova.org</A>
</I>&gt;<i> For additional commands, e-mail: <A HREF="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">chilli-help at coova.org</A>
</I>&gt;<i> Wiki: <A HREF="http://coova.org/wiki/index.php/CoovaChilli">http://coova.org/wiki/index.php/CoovaChilli</A>
</I>&gt;<i> Forum: <A HREF="http://coova.org/phpBB3/viewforum.php?f=4">http://coova.org/phpBB3/viewforum.php?f=4</A>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000854.html">Passwords of length 16 not handled correctly
</A></li>
	<LI>Next message: <A HREF="000860.html">Passwords of length 16 not handled correctly
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#858">[ date ]</a>
              <a href="thread.html#858">[ thread ]</a>
              <a href="subject.html#858">[ subject ]</a>
              <a href="author.html#858">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">More information about the Chilli
mailing list</a><br>
</body></html>
