<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Chilli] CoovaChilli uam secret / RADIUS secret causing	random	corrupt user passwords
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:chilli%40coova.org?Subject=Re%3A%20%5BChilli%5D%20CoovaChilli%20uam%20secret%20/%20RADIUS%20secret%20causing%0A%09random%09corrupt%20user%20passwords&In-Reply-To=%3C042001cf6391%24f05eb4e0%24d11c1ea0%24%40cabocom.cv%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002693.html">
   <LINK REL="Next"  HREF="002695.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Chilli] CoovaChilli uam secret / RADIUS secret causing	random	corrupt user passwords</H1>
    <B>Luis Ferreira</B> 
    <A HREF="mailto:chilli%40coova.org?Subject=Re%3A%20%5BChilli%5D%20CoovaChilli%20uam%20secret%20/%20RADIUS%20secret%20causing%0A%09random%09corrupt%20user%20passwords&In-Reply-To=%3C042001cf6391%24f05eb4e0%24d11c1ea0%24%40cabocom.cv%3E"
       TITLE="[Chilli] CoovaChilli uam secret / RADIUS secret causing	random	corrupt user passwords">lferreira at cabocom.cv
       </A><BR>
    <I>Tue Apr 29 10:01:04 UTC 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="002693.html">[Chilli] CoovaChilli uam secret / RADIUS secret causing random	corrupt user passwords
</A></li>
        <LI>Next message: <A HREF="002695.html">[Chilli] OpenWRT and redirssl
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2694">[ date ]</a>
              <a href="thread.html#2694">[ thread ]</a>
              <a href="subject.html#2694">[ subject ]</a>
              <a href="author.html#2694">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi James,

What you are experiencing is not a random error. When you see that on radius
log, it means a wrong CHAP Challenge.
With us, it happens when a subscriber opens 2 login pages, but try to make
the login with the 1th one. For chilli and Radius, the correct CHAP
challenge is the second one (most recent for that IP), meaning that the
request being sent is not &quot;readable/decrypted&quot; by radius. 
Check with the subscriber for several login pages being open, background
software that might use port 80 (causing login pages to popup), etc...


Luis Ferreira


-----Mensagem original-----
De: <A HREF="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">chilli-bounces at coova.org</A> [mailto:<A HREF="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">chilli-bounces at coova.org</A>] Em nome de
<A HREF="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">james at purple.so</A>
Enviada: 29 de abril de 2014 06:06
Para: <A HREF="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">chilli at coova.org</A>
Assunto: [Chilli] CoovaChilli uam secret / RADIUS secret causing random
corrupt user passwords

Hi All

We have a random problem that keeps showing up.

We have CoovaChilli configured to use a uam secret and radius secret as
normal, but randomly, we will have a user who tried to log on be rejected by
our FreeRADIUS server because of what appears to be a garbage/corrupt
password. Looking online this indicates that either the shared secret or
uamsecret is incorrect, but they are definitely correct, and all others
users can log on 99% of this time, so it's just random.

We can even have one user rejected and then another one who logs on straight
after with no issue, so the secrets must be correct.

Looking in our radius logs shows the garbage password, like:

User / Pass / Reply / Date
myusername / B=C2=D4=D0=0B=F9=EB=C8d=7E=A3=C0=E6=7CY=FAF=95=D6= /
Access-Reject / 2014-04-28 21:03:51
myusername2 / =04=DFH4:J=C9z=C8=8A=3D=82=C1=C9=DA2W=8D=19=60=3CN /
Access-Reject / 2014-04-28 21:03:52

Normal login show the expected password.

Can anyone shed any further light?

Thanks

James


_______________________________________________
Chilli mailing list
<A HREF="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">Chilli at coova.org</A>
<A HREF="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">http://lists.coova.org/cgi-bin/mailman/listinfo/chilli</A>

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002693.html">[Chilli] CoovaChilli uam secret / RADIUS secret causing random	corrupt user passwords
</A></li>
	<LI>Next message: <A HREF="002695.html">[Chilli] OpenWRT and redirssl
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2694">[ date ]</a>
              <a href="thread.html#2694">[ thread ]</a>
              <a href="subject.html#2694">[ subject ]</a>
              <a href="author.html#2694">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">More information about the Chilli
mailing list</a><br>
</body></html>
