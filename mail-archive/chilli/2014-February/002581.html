<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Chilli] Assign IP address to AP through radius
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:chilli%40coova.org?Subject=Re%3A%20%5BChilli%5D%20Assign%20IP%20address%20to%20AP%20through%20radius&In-Reply-To=%3CCAF%2BUSJ4W3RO91VT-Ep%3DJ-AFLuvMeOKZ%2B4meP6oQnwTNY0eT7Tw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002600.html">
   <LINK REL="Next"  HREF="002583.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Chilli] Assign IP address to AP through radius</H1>
    <B>Eric Chaves</B> 
    <A HREF="mailto:chilli%40coova.org?Subject=Re%3A%20%5BChilli%5D%20Assign%20IP%20address%20to%20AP%20through%20radius&In-Reply-To=%3CCAF%2BUSJ4W3RO91VT-Ep%3DJ-AFLuvMeOKZ%2B4meP6oQnwTNY0eT7Tw%40mail.gmail.com%3E"
       TITLE="[Chilli] Assign IP address to AP through radius">eric at craftti.com.br
       </A><BR>
    <I>Mon Feb 10 15:19:49 UTC 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="002600.html">[Chilli] Implementing &quot;Enable/Disable Local LAN&quot; / &quot;Enable/Disable Hotspot Clients&quot;
</A></li>
        <LI>Next message: <A HREF="002583.html">[Chilli] Assign IP address to AP through radius
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2581">[ date ]</a>
              <a href="thread.html#2581">[ thread ]</a>
              <a href="subject.html#2581">[ subject ]</a>
              <a href="author.html#2581">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Folks,

The Access Points used in my hotspot environment are configured to obtain
it's IP address from DHCP and I would like to have coova assigning some
pre-defined values for it.

I though I could do this by having the AP authenticating itself via mac
address and with my radius server, so after reading the man pages and some
posts on the forum I configured my environment the following way:

At chilli controller, I have the following parameters in
/etc/chilli/local.conf

defsessiontimeout=3600
defidletimeout=600
definteriminterval=600
moreif=eth3
dhcpstart=500
macallowed=XX-XX-XX-XX-XX-XX,ZZ-ZZ-ZZ-ZZ-ZZ-ZZ
macpasswd=secret-password

And in my radius server I added two users named 'XX-XX-XX-XX-XX-XX' and
'ZZ-ZZ-ZZ-ZZ-ZZ' and I add a Framed-IP-Address and Framed-IP-Netmask values
in radius responses for, whose value dos not overlap with the dhcpstart
parameter.

I've tested my setup using radtest and confirmed that the authentication is
working and response contains those AVP mentioned however the AP is getting
a regular address from DHCP (above dhcpstart) instead of the ones sent in
the radius reply.

Did I misunderstood the macallowed feature? What should I do to have it
working as desired?

Once again thanks for all the help so far.

Cheers,

Eric
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.coova.org/pipermail/chilli/attachments/20140210/84744c1e/attachment.html">http://lists.coova.org/pipermail/chilli/attachments/20140210/84744c1e/attachment.html</A>&gt;
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002600.html">[Chilli] Implementing &quot;Enable/Disable Local LAN&quot; / &quot;Enable/Disable Hotspot Clients&quot;
</A></li>
	<LI>Next message: <A HREF="002583.html">[Chilli] Assign IP address to AP through radius
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2581">[ date ]</a>
              <a href="thread.html#2581">[ thread ]</a>
              <a href="subject.html#2581">[ subject ]</a>
              <a href="author.html#2581">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">More information about the Chilli
mailing list</a><br>
</body></html>
