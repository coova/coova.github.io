<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Chilli] Problems with filtering when using ethernet bridge
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:chilli%40coova.org?Subject=Re%3A%20%5BChilli%5D%20Problems%20with%20filtering%20when%20using%20ethernet%20bridge&In-Reply-To=%3C4F212A08.2060302%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001829.html">
   <LINK REL="Next"  HREF="001831.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Chilli] Problems with filtering when using ethernet bridge</H1>
    <B>Tim White</B> 
    <A HREF="mailto:chilli%40coova.org?Subject=Re%3A%20%5BChilli%5D%20Problems%20with%20filtering%20when%20using%20ethernet%20bridge&In-Reply-To=%3C4F212A08.2060302%40gmail.com%3E"
       TITLE="[Chilli] Problems with filtering when using ethernet bridge">timwhite88 at gmail.com
       </A><BR>
    <I>Thu Jan 26 10:25:12 UTC 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="001829.html">[Chilli] Created debian package won't include /etc/chilli*
</A></li>
        <LI>Next message: <A HREF="001831.html">[Chilli] Invalid argument with xt_coova
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1830">[ date ]</a>
              <a href="thread.html#1830">[ thread ]</a>
              <a href="subject.html#1830">[ subject ]</a>
              <a href="author.html#1830">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm wondering if anyone else has had problems trying to do some iptables 
filtering (in particular redirection for transparent proxy) when using 
Coova Chilli with a bridge interface?
I have hostapd on wlan0, and have br0 (containing wlan0 and eth1) that I 
want to run coova chilli on.

It all works fine until I try to do any iptables rules that perform 
redirections or modify packets. Both the REDIRECT target, and DNAT end 
up making the packets reappear on the br0 interface, instead of the tun0 
interface. (And yes, the rules are working on packets from tun0, I'm 
using &quot;-i $TUNTAP&quot; in my rules). Because the rules are to drop 
everything trying to appear on br0, when I try and redirect packets to 
transparent proxy server, the packets are being dropped.

Other than running 2 instances of chilli, one for each interface, what 
other ideas to people have for getting this to work?

Thanks

Tim
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001829.html">[Chilli] Created debian package won't include /etc/chilli*
</A></li>
	<LI>Next message: <A HREF="001831.html">[Chilli] Invalid argument with xt_coova
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1830">[ date ]</a>
              <a href="thread.html#1830">[ thread ]</a>
              <a href="subject.html#1830">[ subject ]</a>
              <a href="author.html#1830">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">More information about the Chilli
mailing list</a><br>
</body></html>
