<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> chilli features...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:chilli%40coova.org?Subject=Re%3A%20chilli%20features...&In-Reply-To=%3CF1FF2DE5-A78B-4EB4-ADD6-C08F00EBBA80%40mac.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000124.html">
   <LINK REL="Next"  HREF="000126.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>chilli features...</H1>
    <B>wlan at mac.com</B> 
    <A HREF="mailto:chilli%40coova.org?Subject=Re%3A%20chilli%20features...&In-Reply-To=%3CF1FF2DE5-A78B-4EB4-ADD6-C08F00EBBA80%40mac.com%3E"
       TITLE="chilli features...">wlan at mac.com
       </A><BR>
    <I>Sun Feb 10 06:54:49 UTC 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000124.html">chilli features...
</A></li>
        <LI>Next message: <A HREF="000126.html">chilli features...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#125">[ date ]</a>
              <a href="thread.html#125">[ thread ]</a>
              <a href="subject.html#125">[ subject ]</a>
              <a href="author.html#125">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi, and thanks for your feedback.

I have been working with the feature, but it still needs more testing  
before I put it in the wild.

Your suggestion for using the Reply-Message is a good one. Though,  
might as well use a different attribute; probably a new chilli VSA.

'Sessions' are maintained in chilli, subject to various timeouts for  
dhcp lease, idle timeout, etc. So, sessions (or 'connections', as  
referred to in the code) are handled the same way - keyed on the  
client's MAC address. When a session is in drop state, of course, all  
packets are immediately dropped until the session gets cleared.  
Perhaps it would be an idea to set a specific time period for this  
state.

David

On Feb 9, 2008, at 8:08 PM, JB wrote:

&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> I just stumbled across this idea for a new feature for CoovaChilli:
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">wlan at mac.com</A> wrote:
</I>&gt;&gt;<i> Right now, when you use MAC authentication, if an access-reject is  
</I>&gt;&gt;<i> returned, the user will still get assigned an IP address and will  
</I>&gt;&gt;<i> then be given the captive portal. This is good as a way to have  
</I>&gt;&gt;<i> certain devices bypass the captive portal. But, it would also be  
</I>&gt;&gt;<i> nice to use MAC authentication as a way to manage blocked devices.  
</I>&gt;&gt;<i> I'm considering an option which will have chilli drop all traffic  
</I>&gt;&gt;<i> from clients that get an access-reject during mac authentication.  
</I>&gt;&gt;<i> When clients are in the 'drop' state, all traffic from them is  
</I>&gt;&gt;<i> ignored.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I think that would be a great feature! Or has this been already  
</I>&gt;<i> implemented? If not, here are my two cents:
</I>&gt;<i>
</I>&gt;<i> Why not (mis)use the Reply-Message attribute from RADIUS to achieve  
</I>&gt;<i> this? If the value of Reply-Message is a certain &quot;code&quot;, like  
</I>&gt;<i> &quot;chilli:drop&quot;, then Chilli knows it should ignore all further  
</I>&gt;<i> requests from this MAC address. Basically, there would be three  
</I>&gt;<i> ways to handle a response from an Access-Request request (apart  
</I>&gt;<i> from errors or the like):
</I>&gt;<i>
</I>&gt;<i> Access-Accept -&gt; UAM &quot;success&quot;
</I>&gt;<i> Access-Reject and Reply-Message is not &quot;chilli:drop&quot; -&gt; UAM &quot;failed&quot;
</I>&gt;<i> Access-Reject and Reply-Message is &quot;chilli:drop&quot; -&gt; Drop request(s)
</I>&gt;<i>
</I>&gt;<i> This way, we would neither break the current behaviour nor the  
</I>&gt;<i> RFCs. No need to turn this feature on or off in chilli because the  
</I>&gt;<i> logic (maybe along with black-/white-lists) resides in the RADIUS  
</I>&gt;<i> server.
</I>&gt;<i>
</I>&gt;<i> Would there still be some sort of session handling? How long would  
</I>&gt;<i> chilli drop requests until it &quot;asks&quot; RADIUS again?
</I>&gt;<i>
</I>&gt;<i> JB
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ---------------------------------------------------------------------
</I>&gt;<i> To unsubscribe, e-mail: <A HREF="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">chilli-unsubscribe at coova.org</A>
</I>&gt;<i> For additional commands, e-mail: <A HREF="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">chilli-help at coova.org</A>
</I>&gt;<i> Wiki: <A HREF="http://coova.org/wiki/index.php/CoovaChilli">http://coova.org/wiki/index.php/CoovaChilli</A>
</I>&gt;<i> Forum: <A HREF="http://coova.org/phpBB3/viewforum.php?f=4">http://coova.org/phpBB3/viewforum.php?f=4</A>
</I>&gt;<i>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000124.html">chilli features...
</A></li>
	<LI>Next message: <A HREF="000126.html">chilli features...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#125">[ date ]</a>
              <a href="thread.html#125">[ thread ]</a>
              <a href="subject.html#125">[ subject ]</a>
              <a href="author.html#125">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">More information about the Chilli
mailing list</a><br>
</body></html>
