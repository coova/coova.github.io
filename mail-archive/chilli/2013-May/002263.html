<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Chilli] CoovaChiili Permit Server IP
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:chilli%40coova.org?Subject=Re%3A%20%5BChilli%5D%20CoovaChiili%20Permit%20Server%20IP&In-Reply-To=%3C011401ce560d%2447856090%24d69021b0%24%40cabocom.cv%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002262.html">
   <LINK REL="Next"  HREF="002264.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Chilli] CoovaChiili Permit Server IP</H1>
    <B>Luis Ferreira</B> 
    <A HREF="mailto:chilli%40coova.org?Subject=Re%3A%20%5BChilli%5D%20CoovaChiili%20Permit%20Server%20IP&In-Reply-To=%3C011401ce560d%2447856090%24d69021b0%24%40cabocom.cv%3E"
       TITLE="[Chilli] CoovaChiili Permit Server IP">lferreira at cabocom.cv
       </A><BR>
    <I>Tue May 21 10:23:46 UTC 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="002262.html">[Chilli] CoovaChiili Permit Server IP
</A></li>
        <LI>Next message: <A HREF="002264.html">[Chilli] CoovaChiili Permit Server IP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2263">[ date ]</a>
              <a href="thread.html#2263">[ thread ]</a>
              <a href="subject.html#2263">[ subject ]</a>
              <a href="author.html#2263">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Russell,

 

Here we had the same problem, and were able to fix it with the following
script:




#!/bin/bash

 

usercheck=$(/usr/local/sbin/chilli_query -s
/usr/local/var/run/chilli.vlanxx.sock list |grep -c &quot;1 accountusername &quot;)

 

if [ $usercheck = '0' ];

then

        echo &quot;Logging in accountname&quot;

        /usr/local/sbin/chilli_query -s
/usr/local/var/run/chilli.vlanxx.sock login ip 192.168.10.251 username
accountusername password accountpassword

fi

 

Replace account name, account password and IP for the correct ones. Also
check the location of the sock files.

 

This script is running every minute. If the IP is not present, Chilli will
not perform the login and ignore it. But if it is present (client connected)
it will trigger the account login.

 

This is a very dirty hack, but we have been using it for more than 2 years
and it never failed (except when the account would ran out of credit J ).

 

Btw, if someone as a different (and less hacked) way of doing this on layer
3, please share it.

 

Regards,

Luis

 

 

Dear Coova Gurus,

 

CoovaChilli Layer3, Working great. But for some days now, i am working
CoovaChilli to allow some devices to allow access without authentication AND
have Static IP address. (Servers, IP phones, Apple TV etc..).

 

MAC auth do not help because of L3 setup. Have anyone got the idea. How can
configure coovachilli to allow access 10 static ip address out of a subnet
by default. 

 

Thanks in advance. 

 

Thanks / Regards

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.coova.org/pipermail/chilli/attachments/20130521/37e07402/attachment.html">http://lists.coova.org/pipermail/chilli/attachments/20130521/37e07402/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002262.html">[Chilli] CoovaChiili Permit Server IP
</A></li>
	<LI>Next message: <A HREF="002264.html">[Chilli] CoovaChiili Permit Server IP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2263">[ date ]</a>
              <a href="thread.html#2263">[ thread ]</a>
              <a href="subject.html#2263">[ subject ]</a>
              <a href="author.html#2263">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">More information about the Chilli
mailing list</a><br>
</body></html>
