<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Chilli] chilli 1.2.2 mutli process problem..
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:chilli%40coova.org?Subject=Re%3A%20%5BChilli%5D%20chilli%201.2.2%20mutli%20process%20problem..&In-Reply-To=%3C201003081543.00272.oguzhank%40bilkent.edu.tr%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001178.html">
   <LINK REL="Next"  HREF="001181.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Chilli] chilli 1.2.2 mutli process problem..</H1>
    <B>Oguzhan Kayhan</B> 
    <A HREF="mailto:chilli%40coova.org?Subject=Re%3A%20%5BChilli%5D%20chilli%201.2.2%20mutli%20process%20problem..&In-Reply-To=%3C201003081543.00272.oguzhank%40bilkent.edu.tr%3E"
       TITLE="[Chilli] chilli 1.2.2 mutli process problem..">oguzhank at bilkent.edu.tr
       </A><BR>
    <I>Mon Mar  8 13:43:00 UTC 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="001178.html">[Chilli] [PATCH] Fix: Memory leak of opt_run()
</A></li>
        <LI>Next message: <A HREF="001181.html">[Chilli] chilli 1.2.2 mutli process problem..
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1180">[ date ]</a>
              <a href="thread.html#1180">[ thread ]</a>
              <a href="subject.html#1180">[ subject ]</a>
              <a href="author.html#1180">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,
I was using coova with multiple interfaces-processes for a while.
I decided to upgrade to 1.2.2 version.
My config is like this..
/etc/chilli-a
/etc/chilli-a.conf
/etc/chilli-b
/etc/chilli-b.conf   

/etc/init.d/chilli-a
/etc/init.d/chilli-b  etc...

And i also changed every parameter in functions file to make it run in seperate 
processes as 

-----------
CHILLI=/etc/chilli-a
RUN_D=/var/run
SBIN=/usr/sbin
ARPCHECK=$RUN_D/chilli-a.arp
LKFILE=$RUN_D/chilli-a.run
MAIN_CONF=$CHILLI/main.conf
LOCAL_CONF=$CHILLI/local.conf
HS_CONF=$CHILLI/hs.conf
HS_TEMP=/tmp/hs-a.conf
MAIN_TEMP=/tmp/main.conf
CMDSOCK=$RUN_D/chilli-a.sock
PIDFILE=$RUN_D/chilli-a.pid   vs....
-----
But when i run multiple processes, only the first process works fine..
Others can get Ip but redirection does not work. And i see such entries in 
syslog.

I switched back to 1.4 version...


[chilli_redir]: redir.c: 2522: invalid www request [delivery/afr.php]!
Mar  8 15:27:16 erouter [chilli_redir]: redir.c: 2522: invalid www request 
[delivery/lg.php]!
Mar  8 15:27:16 erouter [chilli_redir]: redir.c: 2522: invalid www request 
[delivery/lg.php]!
Mar  8 15:27:16 erouter [chilli_redir]: redir.c: 2522: invalid www request 
[delivery/lg.php]!
Mar  8 15:27:16 erouter [chilli_redir]: redir.c: 2522: invalid www request 
[delivery/lg.php]!
Mar  8 15:27:16 erouter [chilli_redir]: redir.c: 2522: invalid www request 
[delivery/lg.php]!

ar  8 15:28:04 erouter [chilli_redir]: redir.c: 2540: invalid file extension! 
[undefined]                                                                                                  
Mar  8 15:28:04 erouter [chilli_redir]: redir.c: 2540: invalid file extension! 
[undefined]                                                                                                  
Mar  8 15:28:04 erouter [chilli_redir]: redir.c: 2540: invalid file extension! 
[undefined]                                                                                                  
Mar  8 15:28:04 erouter [chilli_redir]: redir.c: 2540: invalid file extension! 
[undefined]          
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001178.html">[Chilli] [PATCH] Fix: Memory leak of opt_run()
</A></li>
	<LI>Next message: <A HREF="001181.html">[Chilli] chilli 1.2.2 mutli process problem..
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1180">[ date ]</a>
              <a href="thread.html#1180">[ thread ]</a>
              <a href="subject.html#1180">[ subject ]</a>
              <a href="author.html#1180">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">More information about the Chilli
mailing list</a><br>
</body></html>
