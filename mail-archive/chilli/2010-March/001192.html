<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Chilli] wispr upload limiting on coova 1.2.2
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:chilli%40coova.org?Subject=Re%3A%20%5BChilli%5D%20wispr%20upload%20limiting%20on%20coova%201.2.2&In-Reply-To=%3C201003161145.56306.oguzhank%40bilkent.edu.tr%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001160.html">
   <LINK REL="Next"  HREF="001201.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Chilli] wispr upload limiting on coova 1.2.2</H1>
    <B>Oguzhan Kayhan</B> 
    <A HREF="mailto:chilli%40coova.org?Subject=Re%3A%20%5BChilli%5D%20wispr%20upload%20limiting%20on%20coova%201.2.2&In-Reply-To=%3C201003161145.56306.oguzhank%40bilkent.edu.tr%3E"
       TITLE="[Chilli] wispr upload limiting on coova 1.2.2">oguzhank at bilkent.edu.tr
       </A><BR>
    <I>Tue Mar 16 09:45:56 UTC 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="001160.html">[Chilli] wispr upload limiting on coova 1.2.2
</A></li>
        <LI>Next message: <A HREF="001201.html">[Chilli] wispr upload limiting on coova 1.2.2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1192">[ date ]</a>
              <a href="thread.html#1192">[ thread ]</a>
              <a href="subject.html#1192">[ subject ]</a>
              <a href="author.html#1192">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,
I got the following rules for all of my dhcpif interfaces (some of them are 
vlans as u can see) And using 1.2.2 version as i mentioned before.
and my chilli_query shows that i got no download limit but 15Mbit. of download 
limit per user already set correctly.
But my users can go up to 100 mbit most of the time while sharing files via ftp
What am i missing?



xx-xx-xx-xx a.a.a.a pass 4b9ec38000000028 1 abcd36633/0 1/0 44738465/0 
1894633177/0 0 1 0/0 0/15000000 <A HREF="http://www.msftncsi.com/ncsi.txt">http://www.msftncsi.com/ncsi.txt</A>
yy-yy-yy-yy b.b.b.b  pass 4b9e9c9b000000f0 1 acbg 46588/0 1/0 4232596/0 
22788292/0 0 1 0/0 0/15000000 <A HREF="http://www.msftncsi.com/ncsi.txt">http://www.msftncsi.com/ncsi.txt</A>


iptables-save|grep DROP
-A FORWARD -i eth1 -j DROP
-A FORWARD -o eth1 -j DROP
-A FORWARD -i eth3 -j DROP
-A FORWARD -o eth3 -j DROP
-A FORWARD -i eth4.781 -j DROP
-A FORWARD -o eth4.781 -j DROP
-A FORWARD -i eth4.782 -j DROP
-A FORWARD -o eth4.782 -j DROP
-A FORWARD -i eth4.783 -j DROP
-A FORWARD -o eth4.783 -j DROP
-A FORWARD -i eth4.784 -j DROP
-A FORWARD -o eth4.784 -j DROP



On Wednesday 03 March 2010 06:09:44 pm you wrote:
&gt;<i> Drop packets to/from the &quot;dhcpif&quot; interface... you don't want your
</I>&gt;<i> kernel attempting to route that traffic. Have you noticed many duplicate
</I>&gt;<i> packets on your network?
</I>&gt;<i> 
</I>&gt;<i> On Wed, 2010-03-03 at 13:49 +0200, Oguzhan Kayhan wrote:
</I>&gt;<i> &gt; There is no rule about chilli-coova itself.
</I>&gt;<i> &gt; It is one of our main routers, thats why we are only using our own
</I>&gt;<i> &gt; network rules..And there is no rules for that tun/tap interfaces or
</I>&gt;<i> &gt; physical interfaces that coova runs on it.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Were there any rule on itables to let choova control up/down bw rates??
</I>&gt;<i> &gt; If yes, which rule?
</I>&gt;<i> &gt; We can add it additionally.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On Wednesday 03 March 2010 12:57:31 pm David Bird wrote:
</I>&gt;<i> &gt; &gt; Can you also give your iptables rules?
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; On Wed, 2010-03-03 at 12:31 +0200, Oguzhan Kayhan wrote:
</I>&gt;<i> &gt; &gt; &gt; Hello,
</I>&gt;<i> &gt; &gt; &gt; I am using coova on ethernet interfaces to control wireless devices
</I>&gt;<i> &gt; &gt; &gt; behind it..
</I>&gt;<i> &gt; &gt; &gt; Previously i was using 1.0.14 and noticed that my upload speed config
</I>&gt;<i> &gt; &gt; &gt; does not work.
</I>&gt;<i> &gt; &gt; &gt; So decided to update to 1.2.2
</I>&gt;<i> &gt; &gt; &gt; But still no luck..
</I>&gt;<i> &gt; &gt; &gt; I tried some parameters..
</I>&gt;<i> &gt; &gt; &gt; For ex. I set upload to 5 mbit and download to 10mbit.
</I>&gt;<i> &gt; &gt; &gt; xx-xx-xx-xx-xx x.x.x.x pass 4b8e16d90000000c 1 7798 6/0 6/0 2722/0
</I>&gt;<i> &gt; &gt; &gt; 3236/0 0 0 0/5000000 0/10000000
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; And while testing download works fine with 10mbit but upload was
</I>&gt;<i> &gt; &gt; &gt; going up to 100mbit..
</I>&gt;<i> &gt; &gt; &gt; Anyway, i tested with 1mbit on both upload and download
</I>&gt;<i> &gt; &gt; &gt; xx-xx-xx-xx-xx x.x.x.x pass 4b8e21260000000c 1 7798 48/0 1/0
</I>&gt;<i> &gt; &gt; &gt; 4757101/0 4755507/0 0 0 99/1000000 99/1000000 http:/xxx.xxx.xxx.xxx
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; while downloading it was 1mbit. but when uploading it stayed at
</I>&gt;<i> &gt; &gt; &gt; 50mbit. maybe because of my downloads saturation du e to ack
</I>&gt;<i> &gt; &gt; &gt; packets.. I assume that 99 on upload download is % size of saturation
</I>&gt;<i> &gt; &gt; &gt; on that line. So..even i set very tiny numbers on upload and it
</I>&gt;<i> &gt; &gt; &gt; reaches to %99.. no chance.. it doesnt limit.
</I>&gt;<i> &gt; &gt; &gt; I both used tun and tap as interface.. and i used both limiting from
</I>&gt;<i> &gt; &gt; &gt; radius or by coovas default upload limit parameters....same results..
</I>&gt;<i> &gt; &gt; &gt; working on debian..
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; PS: sorry for crosspost on both forum and maillist.
</I>&gt;<i> &gt; &gt; &gt; But some users are making my network unstable due do high upload
</I>&gt;<i> &gt; &gt; &gt; rates... so i need that desperately..
</I>&gt;<i> &gt; &gt; &gt; _______________________________________________
</I>&gt;<i> &gt; &gt; &gt; Chilli mailing list
</I>&gt;<i> &gt; &gt; &gt; <A HREF="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">Chilli at coova.org</A>
</I>&gt;<i> &gt; &gt; &gt; <A HREF="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">http://lists.coova.org/cgi-bin/mailman/listinfo/chilli</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Chilli mailing list
</I>&gt;<i> &gt; <A HREF="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">Chilli at coova.org</A>
</I>&gt;<i> &gt; <A HREF="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">http://lists.coova.org/cgi-bin/mailman/listinfo/chilli</A>
</I>&gt;<i> 
</I></PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001160.html">[Chilli] wispr upload limiting on coova 1.2.2
</A></li>
	<LI>Next message: <A HREF="001201.html">[Chilli] wispr upload limiting on coova 1.2.2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1192">[ date ]</a>
              <a href="thread.html#1192">[ thread ]</a>
              <a href="subject.html#1192">[ subject ]</a>
              <a href="author.html#1192">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">More information about the Chilli
mailing list</a><br>
</body></html>
