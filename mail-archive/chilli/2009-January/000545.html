<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> Radius check time - possible to specify?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:chilli%40coova.org?Subject=Re%3A%20Radius%20check%20time%20-%20possible%20to%20specify%3F&In-Reply-To=%3C47755.149.5.32.200.1231536008.squirrel%40www.rivertowermail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000544.html">
   <LINK REL="Next"  HREF="000546.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Radius check time - possible to specify?</H1>
    <B>Derek C</B> 
    <A HREF="mailto:chilli%40coova.org?Subject=Re%3A%20Radius%20check%20time%20-%20possible%20to%20specify%3F&In-Reply-To=%3C47755.149.5.32.200.1231536008.squirrel%40www.rivertowermail.com%3E"
       TITLE="Radius check time - possible to specify?">derekchilli at hssl.ie
       </A><BR>
    <I>Fri Jan  9 21:20:08 UTC 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000544.html">Radius check time - possible to specify?
</A></li>
        <LI>Next message: <A HREF="000546.html">Radius check time - possible to specify?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#545">[ date ]</a>
              <a href="thread.html#545">[ thread ]</a>
              <a href="subject.html#545">[ subject ]</a>
              <a href="author.html#545">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Henk,

I'll give that directive a try.

Actually I am accounting [or, rather, it does accounting by default - at
least data is being written into the radacct table although the write
interval is whatever default coova chilli is going for].

Out of interest I've just checked the table now:  It looks like for a
given user [MAC addr] I can see that the radacct records are being written
every 70 minutes (funny figure isn't it?).

I'll see what happens if I can adjust the radius accounting times

thanks,

Derek


On Fri, January 9, 2009 4:42 pm, Henk Kleynhans wrote:
&gt;<i> Hi Derek,
</I>&gt;<i> Normally when accounting for usage, you set an Acct-Update-Interval
</I>&gt;<i> variable. Not sure if this applies though in your setup, as you're not
</I>&gt;<i> doing accounting. But it's the first place I'd look. henk
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Fri, Jan 9, 2009 at 6:11 PM, Derek C &lt;<A HREF="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">derekchilli at hssl.ie</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i> Hi all,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I've found that Coova Chilli works excellently with OpenWRT based APs
</I>&gt;&gt;<i> and freeradius on a central (Internet) server:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I'm easily able to add a user's MAC address into the radcheck and
</I>&gt;&gt;<i> usergroup tables and after this the user can get past my &quot;splash screen&quot;
</I>&gt;&gt;<i> -
</I>&gt;&gt;<i> super.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> BUT, and this is the reason for my post today, what I haven't worked
</I>&gt;&gt;<i> out is how to tell Coova Chilli to do a frequent check against the free
</I>&gt;&gt;<i> radius server to see if the user (by MAC) is still in there.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I'm automatically removing the user from the tables with a script that
</I>&gt;&gt;<i> runs on the [same server as] freeradius server.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Example: When a user tries to access the web on my Coova Chilli enabled
</I>&gt;&gt;<i> AP
</I>&gt;&gt;<i> they are redirected to my splash page (because their MAC is NOT in the
</I>&gt;&gt;<i> free radius tables). Then they accept that they want free access and I
</I>&gt;&gt;<i> add them in to the free radius tables and then I send them on to their
</I>&gt;&gt;<i> requested Internet page. Because they [MAC] are now in the free radius
</I>&gt;&gt;<i> tables they ARE allowed Internet access. After 5 minutes I erase their
</I>&gt;&gt;<i> MAC
</I>&gt;&gt;<i> entry from the free radius tables. HERE IS THE CRUNCH: I notice that you
</I>&gt;&gt;<i>  may still have, say, 1 hour on the Internet even though their MAC is
</I>&gt;&gt;<i> no longer in the free radius tables.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I'm guessing that this is because Coova Chilli is just not often
</I>&gt;&gt;<i> re-checking against the free radius server that the user should still
</I>&gt;&gt;<i> get access?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Does anyone know how to tune this in Coova Chilli?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> thanks very much!!!
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Derek
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> --
</I>&gt;&gt;<i> Derek C
</I>&gt;&gt;<i> In Ireland
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ---------------------------------------------------------------------
</I>&gt;&gt;<i> To unsubscribe, e-mail: <A HREF="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">chilli-unsubscribe at coova.org</A>
</I>&gt;&gt;<i> For additional commands, e-mail: <A HREF="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">chilli-help at coova.org</A>
</I>&gt;&gt;<i> Wiki: <A HREF="http://coova.org/wiki/index.php/CoovaChilli">http://coova.org/wiki/index.php/CoovaChilli</A>
</I>&gt;&gt;<i> Forum: <A HREF="http://coova.org/phpBB3/viewforum.php?f=4">http://coova.org/phpBB3/viewforum.php?f=4</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Henk Kleynhans
</I>&gt;<i> CTO &amp; Founder
</I>&gt;<i> Skyrove (Pty) Ltd
</I>&gt;<i> Technology Top 100 - Most Promising Emerging Enterprise 2006
</I>&gt;<i> Tel: +27 (21) 4488843
</I>&gt;<i> Cell: +27 (84) 3073451
</I>&gt;<i> Fax: +27 (86) 6204077
</I>&gt;<i> <A HREF="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">henk at skyrove.com</A> blog: www.geekrebel.com
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &quot;A person with ubuntu is open and available to others, affirming of
</I>&gt;<i> others, does not feel threatened that others are able and good, for he or
</I>&gt;<i> she has a proper self-assurance that comes from knowing that he or she
</I>&gt;<i> belongs in a greater whole and is diminished when others are humiliated or
</I>&gt;<i> diminished, when others are tortured or oppressed.&quot; - Desmond Tutu
</I>&gt;<i>
</I>

-- 
Derek C
In Ireland


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000544.html">Radius check time - possible to specify?
</A></li>
	<LI>Next message: <A HREF="000546.html">Radius check time - possible to specify?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#545">[ date ]</a>
              <a href="thread.html#545">[ thread ]</a>
              <a href="subject.html#545">[ subject ]</a>
              <a href="author.html#545">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">More information about the Chilli
mailing list</a><br>
</body></html>
