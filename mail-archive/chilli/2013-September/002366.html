<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Chilli] Fwd: coova-chilli 1.3.0 problem with WISPr-Redirection-URL
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:chilli%40coova.org?Subject=Re%3A%20%5BChilli%5D%20Fwd%3A%20coova-chilli%201.3.0%20problem%20with%20WISPr-Redirection-URL&In-Reply-To=%3C522FE5E1.3070108%40netcommwireless.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002365.html">
   <LINK REL="Next"  HREF="002367.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Chilli] Fwd: coova-chilli 1.3.0 problem with WISPr-Redirection-URL</H1>
    <B>Sourav</B> 
    <A HREF="mailto:chilli%40coova.org?Subject=Re%3A%20%5BChilli%5D%20Fwd%3A%20coova-chilli%201.3.0%20problem%20with%20WISPr-Redirection-URL&In-Reply-To=%3C522FE5E1.3070108%40netcommwireless.com%3E"
       TITLE="[Chilli] Fwd: coova-chilli 1.3.0 problem with WISPr-Redirection-URL">sourav.chakraborty at netcommwireless.com
       </A><BR>
    <I>Wed Sep 11 03:39:13 UTC 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="002365.html">[Chilli] coova-chilli 1.3.0 problem with WISPr-Redirection-URL
</A></li>
        <LI>Next message: <A HREF="002367.html">[Chilli] coova-chilli 1.3.0 problem with WISPr-Redirection-URL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2366">[ date ]</a>
              <a href="thread.html#2366">[ thread ]</a>
              <a href="subject.html#2366">[ subject ]</a>
              <a href="author.html#2366">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Further please find below coovachilli logs for the problem in the mail 
below --

dhcp.c: 3497: 0 (Debug) function dhcp_receive_ip()
tun.c: 1089: 0 (Debug) tun_encaps(tun0) len=1030
tun.c: 802: 0 (Debug) tun_decaps(idx=0, len=52)
chilli.c: 2657: 0 (Debug) sending to : 10.1.0.2
dhcp.c: 5321: 0 (Debug) adding 14 to IP frame length 66
dhcp.c: 411: 0 (Debug) dhcp_send() len=66
tun.c: 802: 0 (Debug) tun_decaps(idx=0, len=52)
chilli.c: 2657: 0 (Debug) sending to : 10.1.0.2
dhcp.c: 5321: 0 (Debug) adding 14 to IP frame length 66
dhcp.c: 2674: 0 (Debug) Resetting connection on port 80-&gt;50968 (undo)
dhcp.c: 411: 0 (Debug) dhcp_send() len=54
redir.c: 3278: 0 (Debug) Calling redir_getstate()
redir.c: 3323: 0 (Debug) Receiving HTTP Request
redir.c: 2103: 0 (Debug) The path: www/coova.html
redir.c: 2153: 0 (Debug) Query string: 
loginurl=http%3a%2f%2f10.1.0.1%3a4990%2fwww%2fhotspotlogin.html%3fres%3dnotyet%26uamip%3d10.1.0.1%26uamport%3d3990%26challenge%3df9a2052eb64e58be2ff555c858475aa3%26called%3d00-60-64-89-20-60%26mac%3d00-08-CA-46-7D-11%26ip%3d10.1.0.2%26nasid%3dnas01%26sessionid%3d522fdc2a00000001%26userurl%3dhttp%253a%252f%252fgoogle.com.au%252f%26md%3d6A7FE15DC6C9569B22BB0FE7AB7CE00F
redir.c: 2175: 0 (Debug) Host: 10.1.0.1:3990
redir.c: 2160: 0 (Debug) end of http-request
redir.c: 2398: 0 (Debug) Serving file coova.html
redir.c: 3388: 0 (Debug) Processing HTTP Request
redir.c: 1455: 0 (Debug) redir_write(63)
redir.c: 1455: 0 (Debug) redir_write(1498)
redir.c: 3077: 0 (Debug) close_exit
tun.c: 1089: 0 (Debug) tun_encaps(tun0) len=40
dhcp.c: 5390: 0 (Debug) dhcp_undoDNAT() returns true
tun.c: 802: 0 (Debug) tun_decaps(idx=0, len=40)
chilli.c: 2657: 0 (Debug) sending to : 10.1.0.2
dhcp.c: 5321: 0 (Debug) adding 14 to IP frame length 54
dhcp.c: 411: 0 (Debug) dhcp_send() len=54
chilli.c: 379: 0 (Debug) caught 17 via selfpipe
chilli.c: 310: 0 (Debug) child 5830 terminated
chilli.c: 135: 0 (Debug) Freed child process 5830 [[redir]]
tun.c: 802: 0 (Debug) tun_decaps(idx=0, len=52)
chilli.c: 2657: 0 (Debug) sending to : 10.1.0.2
dhcp.c: 5321: 0 (Debug) adding 14 to IP frame length 66
dhcp.c: 411: 0 (Debug) dhcp_send() len=66
tun.c: 802: 0 (Debug) tun_decaps(idx=0, len=103)
chilli.c: 2657: 0 (Debug) sending to : 10.1.0.2
dhcp.c: 5321: 0 (Debug) adding 14 to IP frame length 117
dhcp.c: 411: 0 (Debug) dhcp_send() len=117
tun.c: 802: 0 (Debug) tun_decaps(idx=0, len=1500)
chilli.c: 2657: 0 (Debug) sending to : 10.1.0.2
dhcp.c: 5321: 0 (Debug) adding 14 to IP frame length 1514
dhcp.c: 411: 0 (Debug) dhcp_send() len=1514
tun.c: 802: 0 (Debug) tun_decaps(idx=0, len=78)
chilli.c: 2657: 0 (Debug) sending to : 10.1.0.2
dhcp.c: 5321: 0 (Debug) adding 14 to IP frame length 92
dhcp.c: 411: 0 (Debug) dhcp_send() len=92
dhcp.c: 4965: 0 (Debug) dhcp_decaps: src=00:08:ca:46:7d:11 
dst=00:60:64:89:20:60 prot=0800 2048 len=54
dhcp.c: 3497: 0 (Debug) function dhcp_receive_ip()
tun.c: 1089: 0 (Debug) tun_encaps(tun0) len=40
dhcp.c: 4965: 0 (Debug) dhcp_decaps: src=00:08:ca:46:7d:11 
dst=00:60:64:89:20:60 prot=0800 2048 len=54
dhcp.c: 3497: 0 (Debug) function dhcp_receive_ip()
tun.c: 1089: 0 (Debug) tun_encaps(tun0) len=40
tun.c: 802: 0 (Debug) tun_decaps(idx=0, len=40)
chilli.c: 2657: 0 (Debug) sending to : 10.1.0.2
dhcp.c: 5321: 0 (Debug) adding 14 to IP frame length 54
dhcp.c: 411: 0 (Debug) dhcp_send() len=54
dhcp.c: 4965: 0 (Debug) dhcp_decaps: src=00:08:ca:46:7d:11 
dst=00:60:64:89:20:60 prot=0800 2048 len=54
dhcp.c: 3497: 0 (Debug) function dhcp_receive_ip()
tun.c: 1089: 0 (Debug) tun_encaps(tun0) len=40
tun.c: 802: 0 (Debug) tun_decaps(idx=0, len=40)
chilli.c: 2657: 0 (Debug) sending to : 10.1.0.2
dhcp.c: 5321: 0 (Debug) adding 14 to IP frame length 54
dhcp.c: 411: 0 (Debug) dhcp_send() len=54
tun.c: 802: 0 (Debug) tun_decaps(idx=0, len=40)
chilli.c: 2657: 0 (Debug) sending to : 10.1.0.2
dhcp.c: 5321: 0 (Debug) adding 14 to IP frame length 54
dhcp.c: 411: 0 (Debug) dhcp_send() len=54
dhcp.c: 4965: 0 (Debug) dhcp_decaps: src=00:08:ca:46:7d:11 
dst=00:60:64:89:20:60 prot=0800 2048 len=54
dhcp.c: 3497: 0 (Debug) function dhcp_receive_ip()
tun.c: 1089: 0 (Debug) tun_encaps(tun0) len=40
dhcp.c: 4965: 0 (Debug) dhcp_decaps: src=00:08:ca:46:7d:11 
dst=00:60:64:89:20:60 prot=0800 2048 len=54
dhcp.c: 3497: 0 (Debug) function dhcp_receive_ip()
tun.c: 1089: 0 (Debug) tun_encaps(tun0) len=40
tun.c: 802: 0 (Debug) tun_decaps(idx=0, len=52)
chilli.c: 2657: 0 (Debug) sending to : 10.1.0.2
dhcp.c: 5321: 0 (Debug) adding 14 to IP frame length 66
dhcp.c: 411: 0 (Debug) dhcp_send() len=66
dhcp.c: 4965: 0 (Debug) dhcp_decaps: src=00:08:ca:46:7d:11 
dst=00:60:64:89:20:60 prot=0800 2048 len=66
dhcp.c: 3497: 0 (Debug) function dhcp_receive_ip()
tun.c: 1089: 0 (Debug) tun_encaps(tun0) len=52
tun.c: 802: 0 (Debug) tun_decaps(idx=0, len=52)
chilli.c: 2657: 0 (Debug) sending to : 10.1.0.2
dhcp.c: 5321: 0 (Debug) adding 14 to IP frame length 66
dhcp.c: 411: 0 (Debug) dhcp_send() len=66
dhcp.c: 4965: 0 (Debug) dhcp_decaps: src=00:08:ca:46:7d:11 
dst=00:60:64:89:20:60 prot=0800 2048 len=66
dhcp.c: 3497: 0 (Debug) function dhcp_receive_ip()
tun.c: 1089: 0 (Debug) tun_encaps(tun0) len=52
tun.c: 802: 0 (Debug) tun_decaps(idx=0, len=52)
chilli.c: 2657: 0 (Debug) sending to : 10.1.0.2
dhcp.c: 5321: 0 (Debug) adding 14 to IP frame length 66
dhcp.c: 411: 0 (Debug) dhcp_send() len=66
dhcp.c: 4965: 0 (Debug) dhcp_decaps: src=00:08:ca:46:7d:11 
dst=00:60:64:89:20:60 prot=0800 2048 len=54
dhcp.c: 3497: 0 (Debug) function dhcp_receive_ip()
tun.c: 1089: 0 (Debug) tun_encaps(tun0) len=40
tun.c: 802: 0 (Debug) tun_decaps(idx=0, len=52)
chilli.c: 2657: 0 (Debug) sending to : 10.1.0.2
dhcp.c: 5321: 0 (Debug) adding 14 to IP frame length 66
dhcp.c: 411: 0 (Debug) dhcp_send() len=66
tun.c: 802: 0 (Debug) tun_decaps(idx=0, len=40)
chilli.c: 2657: 0 (Debug) sending to : 10.1.0.2
dhcp.c: 5321: 0 (Debug) adding 14 to IP frame length 54
dhcp.c: 411: 0 (Debug) dhcp_send() len=54
dhcp.c: 4965: 0 (Debug) dhcp_decaps: src=00:08:ca:46:7d:11 
dst=00:60:64:89:20:60 prot=0800 2048 len=752
dhcp.c: 3497: 0 (Debug) function dhcp_receive_ip()
tun.c: 1089: 0 (Debug) tun_encaps(tun0) len=738
tun.c: 802: 0 (Debug) tun_decaps(idx=0, len=40)
chilli.c: 2657: 0 (Debug) sending to : 10.1.0.2
dhcp.c: 5321: 0 (Debug) adding 14 to IP frame length 54
dhcp.c: 411: 0 (Debug) dhcp_send() len=54
dhcp.c: 4965: 0 (Debug) dhcp_decaps: src=00:08:ca:46:7d:11 
dst=00:60:64:89:20:60 prot=0800 2048 len=54
dhcp.c: 3497: 0 (Debug) function dhcp_receive_ip()
tun.c: 1089: 0 (Debug) tun_encaps(tun0) len=40
tun.c: 802: 0 (Debug) tun_decaps(idx=0, len=52)
chilli.c: 2657: 0 (Debug) sending to : 10.1.0.2
dhcp.c: 5321: 0 (Debug) adding 14 to IP frame length 66
dhcp.c: 411: 0 (Debug) dhcp_send() len=66
dhcp.c: 4965: 0 (Debug) dhcp_decaps: src=00:08:ca:46:7d:11 
dst=00:60:64:89:20:60 prot=0800 2048 len=751
dhcp.c: 3497: 0 (Debug) function dhcp_receive_ip()
tun.c: 1089: 0 (Debug) tun_encaps(tun0) len=737
redir.c: 3278: 0 (Debug) Calling redir_getstate()
redir.c: 3323: 0 (Debug) Receiving HTTP Request
redir.c: 2103: 0 (Debug) The path: www/wait.gif
redir.c: 2175: 0 (Debug) Host: 10.1.0.1:3990
redir.c: 2160: 0 (Debug) end of http-request
redir.c: 2398: 0 (Debug) Serving file wait.gif
redir.c: 3388: 0 (Debug) Processing HTTP Request
redir.c: 1455: 0 (Debug) redir_write(63)
redir.c: 1455: 0 (Debug) redir_write(5125)
redir.c: 1455: 0 (Debug) redir_write(1154)
redir.c: 3077: 0 (Debug) close_exit
redir.c: 3278: 0 (Debug) Calling redir_getstate()
redir.c: 3323: 0 (Debug) Receiving HTTP Request
redir.c: 2103: 0 (Debug) The path: www/coova.jpg
redir.c: 2175: 0 (Debug) Host: 10.1.0.1:3990
redir.c: 2160: 0 (Debug) end of http-request
redir.c: 2398: 0 (Debug) Serving file coova.jpg
redir.c: 3388: 0 (Debug) Processing HTTP Request
redir.c: 1455: 0 (Debug) redir_write(64)
redir.c: 1455: 0 (Debug) redir_write(3491)
redir.c: 3077: 0 (Debug) close_exit
tun.c: 802: 0 (Debug) tun_decaps(idx=0, len=40)
chilli.c: 2657: 0 (Debug) sending to : 10.1.0.2

Warm Regards,
Sourav


-------- Original Message --------
Subject: 	[Chilli] coova-chilli 1.3.0 problem with WISPr-Redirection-URL
Date: 	Wed, 11 Sep 2013 13:10:40 +1000
From: 	Sourav &lt;<A HREF="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">sourav.chakraborty at netcommwireless.com</A>&gt;
To: 	<A HREF="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">chilli at coova.org</A> &lt;<A HREF="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">chilli at coova.org</A>&gt;



Hi All,
I have setup  coova-chilli 1.3.0 with Freeradius and have set up a
captive portal page(hotspotlogin.html).
On trying to login from a PC using Wireless, Radius Access-Request
reaches Freeradius(which sends Access-Accept as I have set up(in users
file) --
DEFAULT Auth-Type := Accept
          WISPr-Redirection-URL=<A HREF="http://google.com.au">http://google.com.au</A>


But instead of getting redirected to google.com.au, the redirection
happens to hotspotlogin.html again. Further browsing to any site, takes
me to the captive portal page and not to the site. Please help me
resolve this as this is urgently required.

Thanks

-- 
Warm Regards,
Sourav


______________________________________________________________________
This communication contains information which may be confidential or privileged. The information is intended solely for the use of the individual or entity named above.  If you are not the intended recipient, be aware that any disclosure, copying, distribution or use of the contents of this information is prohibited.  If you have received this communication in error, please notify me by telephone immediately.
______________________________________________________________________
_______________________________________________
Chilli mailing list
<A HREF="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">Chilli at coova.org</A>
<A HREF="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">http://lists.coova.org/cgi-bin/mailman/listinfo/chilli</A>





______________________________________________________________________
This communication contains information which may be confidential or privileged. The information is intended solely for the use of the individual or entity named above.  If you are not the intended recipient, be aware that any disclosure, copying, distribution or use of the contents of this information is prohibited.  If you have received this communication in error, please notify me by telephone immediately.
______________________________________________________________________
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.coova.org/pipermail/chilli/attachments/20130911/69edea8c/attachment.html">http://lists.coova.org/pipermail/chilli/attachments/20130911/69edea8c/attachment.html</A>&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002365.html">[Chilli] coova-chilli 1.3.0 problem with WISPr-Redirection-URL
</A></li>
	<LI>Next message: <A HREF="002367.html">[Chilli] coova-chilli 1.3.0 problem with WISPr-Redirection-URL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2366">[ date ]</a>
              <a href="thread.html#2366">[ thread ]</a>
              <a href="subject.html#2366">[ subject ]</a>
              <a href="author.html#2366">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">More information about the Chilli
mailing list</a><br>
</body></html>
