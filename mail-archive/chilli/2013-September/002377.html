<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Chilli] coova-chilli 1.3.0 problem with WISPr-Redirection-URL
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:chilli%40coova.org?Subject=Re%3A%20%5BChilli%5D%20coova-chilli%201.3.0%20problem%20with%20WISPr-Redirection-URL&In-Reply-To=%3C5237FF48.3040304%40netcommwireless.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002373.html">
   <LINK REL="Next"  HREF="002390.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Chilli] coova-chilli 1.3.0 problem with WISPr-Redirection-URL</H1>
    <B>Sourav</B> 
    <A HREF="mailto:chilli%40coova.org?Subject=Re%3A%20%5BChilli%5D%20coova-chilli%201.3.0%20problem%20with%20WISPr-Redirection-URL&In-Reply-To=%3C5237FF48.3040304%40netcommwireless.com%3E"
       TITLE="[Chilli] coova-chilli 1.3.0 problem with WISPr-Redirection-URL">sourav.chakraborty at netcommwireless.com
       </A><BR>
    <I>Tue Sep 17 07:05:44 UTC 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="002373.html">[Chilli] coova-chilli 1.3.0 problem with WISPr-Redirection-URL
</A></li>
        <LI>Next message: <A HREF="002390.html">[Chilli] coova-chilli 1.3.0 problem with WISPr-Redirection-URL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2377">[ date ]</a>
              <a href="thread.html#2377">[ thread ]</a>
              <a href="subject.html#2377">[ subject ]</a>
              <a href="author.html#2377">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi David,
I guess you should take a look at this problem I'm facing as I'm using 
chilliController.js and ChilliLibrary.js ....

In your blog --<A HREF="http://coova.org/node/80">http://coova.org/node/80</A> you mentioned that this is still 
under development. I'm using coova-chilli 1.3.0. Is the feature &quot;Any 
page a login page&quot; not available in this version?

I'm seeing Access-Request go to FreeRadius Server and can also see 
Access-Accept getting received by coovachilli, but it does not send out 
Accounting Start msg to Freeradius after that. Also further browsing to 
any site is not possible.

Warm Regards,
Sourav
On 17/09/13 09:52, Sourav wrote:
&gt;<i> If the uncomment #HS_MACAUTH=on in config file, then Accounting Start 
</I>&gt;<i> msg goes to radius server and browsing is possible. I want to have the 
</I>&gt;<i> same behaviour for the user/pwd authentication using UAM, which is not 
</I>&gt;<i> happening now......currently on entering username/pwd on the 
</I>&gt;<i> hotspotlogin.html and pressing &quot;connect&quot;, Acess-Request goes to 
</I>&gt;<i> freeradius server, which replies back with Access-Accept. Now 
</I>&gt;<i> coovachilli should handle this Access-Accept(confirmed that it 
</I>&gt;<i> received this msg from the logs), and send Accounting Start to radius 
</I>&gt;<i> server and the user should be able to browse pages on the internet. 
</I>&gt;<i> This is not happening at present.
</I>&gt;<i>
</I>&gt;<i> Warm Regards,
</I>&gt;<i> Sourav
</I>&gt;<i> On 16/09/13 18:28, Russell Mike wrote:
</I>&gt;&gt;<i> Hi Sourav,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Please excuse if you have already verified. It could be firewall or 
</I>&gt;&gt;<i> any other device blocking account. Port 1813/UDP. No ?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Thanks / RM --
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Mon, Sep 16, 2013 at 8:15 AM, Sourav 
</I>&gt;&gt;<i> &lt;<A HREF="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">sourav.chakraborty at netcommwireless.com</A> 
</I>&gt;&gt;<i> &lt;mailto:<A HREF="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">sourav.chakraborty at netcommwireless.com</A>&gt;&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     Hi MIke,
</I>&gt;&gt;<i>      Thanks for the suggestion....but the problem seems to be at the
</I>&gt;&gt;<i>     coovachilli end and not at the radius server end......coovachilli
</I>&gt;&gt;<i>     is not sending out Accounting Start msg to radius server after it
</I>&gt;&gt;<i>     receives Access-Accept from the radius server.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     Warm Regards,
</I>&gt;&gt;<i>     Sourav
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     On 16/09/13 17:45, Russell Mike wrote:
</I>&gt;&gt;&gt;<i>     Hi,
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>     The following is working one, check if helps.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>     server accept_everyone {
</I>&gt;&gt;&gt;<i>            authorize {
</I>&gt;&gt;&gt;<i>     files
</I>&gt;&gt;&gt;<i>     sql
</I>&gt;&gt;&gt;<i>         if(ok) {
</I>&gt;&gt;&gt;<i>                 update control {
</I>&gt;&gt;&gt;<i>                         Login-Time := 'Any0000-1259'
</I>&gt;&gt;&gt;<i>                         Auth-Type := &quot;Accept&quot;
</I>&gt;&gt;&gt;<i>     }
</I>&gt;&gt;&gt;<i>         }
</I>&gt;&gt;&gt;<i>                   update reply {
</I>&gt;&gt;&gt;<i>     WISPr-Redirection-URL := &quot;&quot;
</I>&gt;&gt;&gt;<i>     }
</I>&gt;&gt;&gt;<i>         else {
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>                 update control {
</I>&gt;&gt;&gt;<i>                         Auth-Type := &quot;Reject&quot;
</I>&gt;&gt;&gt;<i>     }
</I>&gt;&gt;&gt;<i>                 update reply {
</I>&gt;&gt;&gt;<i>                 WISPr-Redirection-URL := &quot;<A HREF="http://41.139.28.1">http://41.139.28.1</A>&quot;
</I>&gt;&gt;&gt;<i>                }
</I>&gt;&gt;&gt;<i>     }
</I>&gt;&gt;&gt;<i>         }
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>     Thanks / RM --
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>     On Thu, Sep 12, 2013 at 4:12 AM, Sourav
</I>&gt;&gt;&gt;<i>     &lt;<A HREF="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">sourav.chakraborty at netcommwireless.com</A>
</I>&gt;&gt;&gt;<i>     &lt;mailto:<A HREF="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">sourav.chakraborty at netcommwireless.com</A>&gt;&gt; wrote:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>         BTW the radius exchanges look this way --
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>         rad_recv: Access-Request packet from host 192.168.1.1 port
</I>&gt;&gt;&gt;<i>         39125, id=40, length=287
</I>&gt;&gt;&gt;<i>             ChilliSpot-Version = &quot;1.3.0&quot;
</I>&gt;&gt;&gt;<i>             User-Name = &quot;hhgk&quot;
</I>&gt;&gt;&gt;<i>             CHAP-Challenge = 0x4a82bfa6b164f1171f7aa616439a0c21
</I>&gt;&gt;&gt;<i>             CHAP-Password = 0x00db346919de9293942fc6cf7d5014a228
</I>&gt;&gt;&gt;<i>             Service-Type = Login-User
</I>&gt;&gt;&gt;<i>             Acct-Session-Id = &quot;5231317c00000001&quot;
</I>&gt;&gt;&gt;<i>             Framed-IP-Address = 10.1.0.4
</I>&gt;&gt;&gt;<i>             NAS-Port-Type = Wireless-802.11
</I>&gt;&gt;&gt;<i>             NAS-Port = 1
</I>&gt;&gt;&gt;<i>             NAS-Port-Id = &quot;00000001&quot;
</I>&gt;&gt;&gt;<i>             Calling-Station-Id = &quot;00-08-CA-46-7D-11&quot;
</I>&gt;&gt;&gt;<i>             Called-Station-Id = &quot;00-60-64-89-20-60&quot;
</I>&gt;&gt;&gt;<i>             NAS-IP-Address = 10.1.0.1
</I>&gt;&gt;&gt;<i>             NAS-Identifier = &quot;nas01&quot;
</I>&gt;&gt;&gt;<i>             WISPr-Location-ID = &quot;isocc=,cc=,ac=,network=Coova,&quot;
</I>&gt;&gt;&gt;<i>             WISPr-Location-Name = &quot;My_HotSpot&quot;
</I>&gt;&gt;&gt;<i>             WISPr-Logoff-URL = &quot;<A HREF="http://10.1.0.1:3990/logoff">http://10.1.0.1:3990/logoff</A>&quot;
</I>&gt;&gt;&gt;<i>         &lt;<A HREF="http://10.1.0.1:3990/logoff">http://10.1.0.1:3990/logoff</A>&gt;
</I>&gt;&gt;&gt;<i>             Message-Authenticator = 0xd50a548a33cf2e0c31d95951ae676f60
</I>&gt;&gt;&gt;<i>         # Executing section authorize from file
</I>&gt;&gt;&gt;<i>         /usr/local/etc/raddb/sites-enabled/default
</I>&gt;&gt;&gt;<i>         +- entering group authorize {...}
</I>&gt;&gt;&gt;<i>         ++[preprocess] returns ok
</I>&gt;&gt;&gt;<i>         [chap] Setting 'Auth-Type := CHAP'
</I>&gt;&gt;&gt;<i>         ++[chap] returns ok
</I>&gt;&gt;&gt;<i>         ++[mschap] returns noop
</I>&gt;&gt;&gt;<i>         ++[digest] returns noop
</I>&gt;&gt;&gt;<i>         [suffix] No '@' in User-Name = &quot;hhgk&quot;, looking up realm NULL
</I>&gt;&gt;&gt;<i>         [suffix] No such realm &quot;NULL&quot;
</I>&gt;&gt;&gt;<i>         ++[suffix] returns noop
</I>&gt;&gt;&gt;<i>         [eap] No EAP-Message, not doing EAP
</I>&gt;&gt;&gt;<i>         ++[eap] returns noop
</I>&gt;&gt;&gt;<i>         [files] users: Matched entry DEFAULT at line 71
</I>&gt;&gt;&gt;<i>         ++[files] returns ok
</I>&gt;&gt;&gt;<i>         ++[expiration] returns noop
</I>&gt;&gt;&gt;<i>         ++[logintime] returns noop
</I>&gt;&gt;&gt;<i>         [pap] WARNING: Auth-Type already set.  Not setting to PAP
</I>&gt;&gt;&gt;<i>         ++[pap] returns noop
</I>&gt;&gt;&gt;<i>         Found Auth-Type = Accept
</I>&gt;&gt;&gt;<i>         Auth-Type = Accept, accepting the user
</I>&gt;&gt;&gt;<i>         # Executing section post-auth from file
</I>&gt;&gt;&gt;<i>         /usr/local/etc/raddb/sites-enabled/default
</I>&gt;&gt;&gt;<i>         +- entering group post-auth {...}
</I>&gt;&gt;&gt;<i>         ++[exec] returns noop
</I>&gt;&gt;&gt;<i>         Sending Access-Accept of id 40 to 192.168.1.1 port 39125
</I>&gt;&gt;&gt;<i>             Idle-Timeout = 1200
</I>&gt;&gt;&gt;<i>         ChilliSpot-Bandwidth-Max-Down = 1024
</I>&gt;&gt;&gt;<i>         ChilliSpot-Bandwidth-Max-Up = 512
</I>&gt;&gt;&gt;<i>             Session-Timeout = 1800
</I>&gt;&gt;&gt;<i>             Acct-Interim-Interval = 30
</I>&gt;&gt;&gt;<i>         Finished request 8.
</I>&gt;&gt;&gt;<i>         Going to the next request
</I>&gt;&gt;&gt;<i>         Waking up in 4.9 seconds.
</I>&gt;&gt;&gt;<i>         Cleaning up request 8 ID 40 with timestamp +1041
</I>&gt;&gt;&gt;<i>         Ready to process requests.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>         Warm Regards,
</I>&gt;&gt;&gt;<i>         Sourav
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>         On 12/09/13 14:02, Sourav wrote:
</I>&gt;&gt;&gt;&gt;<i>         Hi,
</I>&gt;&gt;&gt;&gt;<i>         I have been sending out SOS for the past 2 days
</I>&gt;&gt;&gt;&gt;<i>         ........please help me out as I am stuck and cannot
</I>&gt;&gt;&gt;&gt;<i>         progress further without your help.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>         I have setup  coova-chilli 1.3.0 with Freeradius and have set up a
</I>&gt;&gt;&gt;&gt;<i>         captive portal page(hotspotlogin.html).
</I>&gt;&gt;&gt;&gt;<i>         On trying to login from a PC using Wireless, Radius Access-Request
</I>&gt;&gt;&gt;&gt;<i>         reaches Freeradius(which sends Access-Accept as I have set up(in users
</I>&gt;&gt;&gt;&gt;<i>         file) --
</I>&gt;&gt;&gt;&gt;<i>         DEFAULT Auth-Type := Accept
</I>&gt;&gt;&gt;&gt;<i>                   
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>         But no RADIUS &quot;Acct-Status-Type=Start&quot; msg is sent by coovachilli after this, redirection
</I>&gt;&gt;&gt;&gt;<i>         happens to hotspotlogin.html again, after a while. Further browsing to any site, takes
</I>&gt;&gt;&gt;&gt;<i>         me to the captive portal page and not to the site. Please help me
</I>&gt;&gt;&gt;&gt;<i>         resolve this as this is urgently required.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>          Please find logs for the problem which I am facing as
</I>&gt;&gt;&gt;&gt;<i>         mentioned in my mail below------please help me out on this ....
</I>&gt;&gt;&gt;&gt;<i>         dhcp.c: 411: 0 (Debug) dhcp_send() len=54
</I>&gt;&gt;&gt;&gt;<i>         dhcp.c: 4965: 0 (Debug) dhcp_decaps: src=00:08:ca:46:7d:11
</I>&gt;&gt;&gt;&gt;<i>         dst=00:60:64:89:20:60 pr
</I>&gt;&gt;&gt;&gt;<i>         dhcp.c: 3497: 0 (Debug) function dhcp_receive_ip()
</I>&gt;&gt;&gt;&gt;<i>         tun.c: 1089: 0 (Debug) tun_encaps(tun0) len=52
</I>&gt;&gt;&gt;&gt;<i>         redir.c: 3278: 0 (Debug) Calling redir_getstate()
</I>&gt;&gt;&gt;&gt;<i>         redir.c: 3323: 0 (Debug) Receiving HTTP Request
</I>&gt;&gt;&gt;&gt;<i>         redir.c: 2103: 0 (Debug) The path: json/logon
</I>&gt;&gt;&gt;&gt;<i>         redir.c: 2118: 0 (Debug) The (json format) path: logon
</I>&gt;&gt;&gt;&gt;<i>         redir.c: 2153: 0 (Debug) Query string:
</I>&gt;&gt;&gt;&gt;<i>         username=hhgk&amp;response=db346919de9293942fc6c
</I>&gt;&gt;&gt;&gt;<i>         redir.c: 2175: 0 (Debug) Host: 10.1.0.1:3990
</I>&gt;&gt;&gt;&gt;<i>         &lt;<A HREF="http://10.1.0.1:3990">http://10.1.0.1:3990</A>&gt;
</I>&gt;&gt;&gt;&gt;<i>         redir.c: 2160: 0 (Debug) end of http-request
</I>&gt;&gt;&gt;&gt;<i>         redir.c: 1877: 0 (Debug) getparam(&amp;lang=)
</I>&gt;&gt;&gt;&gt;<i>         redir.c: 1877: 0 (Debug) getparam(&amp;username=)
</I>&gt;&gt;&gt;&gt;<i>         redir.c: 1903: 0 (Debug) The parameter username is: [hhgk]
</I>&gt;&gt;&gt;&gt;<i>         redir.c: 2267: 0 (Debug) --&gt;&gt; Setting username=[hhgk]
</I>&gt;&gt;&gt;&gt;<i>         redir.c: 1877: 0 (Debug) getparam(&amp;userurl=)
</I>&gt;&gt;&gt;&gt;<i>         redir.c: 1903: 0 (Debug) The parameter userurl is:
</I>&gt;&gt;&gt;&gt;<i>         [<A HREF="http://www.telegesis.com/">http://www.telegesis.com/</A>]
</I>&gt;&gt;&gt;&gt;<i>         redir.c: 2273: 0 (Debug) --&gt;&gt; Setting
</I>&gt;&gt;&gt;&gt;<i>         userurl=[<A HREF="http://www.telegesis.com/">http://www.telegesis.com/</A>]
</I>&gt;&gt;&gt;&gt;<i>         redir.c: 1877: 0 (Debug) getparam(&amp;continue=)
</I>&gt;&gt;&gt;&gt;<i>         redir.c: 1877: 0 (Debug) getparam(&amp;WISPrVersion=)
</I>&gt;&gt;&gt;&gt;<i>         redir.c: 2295: 0 (Debug) using uamprotocol: WISPr 1.0 (1)
</I>&gt;&gt;&gt;&gt;<i>         redir.c: 1877: 0 (Debug) getparam(&amp;ntresponse=)
</I>&gt;&gt;&gt;&gt;<i>         redir.c: 1877: 0 (Debug) getparam(&amp;response=)
</I>&gt;&gt;&gt;&gt;<i>         redir.c: 1903: 0 (Debug) The parameter response is:
</I>&gt;&gt;&gt;&gt;<i>         [db346919de9293942fc6cf7d5014a2
</I>&gt;&gt;&gt;&gt;<i>         redir.c: 1877: 0 (Debug) getparam(&amp;ident=)
</I>&gt;&gt;&gt;&gt;<i>         redir.c: 3388: 0 (Debug) Processing HTTP Request
</I>&gt;&gt;&gt;&gt;<i>         redir.c: 3696: 0 (Debug) Processing received request
</I>&gt;&gt;&gt;&gt;<i>         redir.c: 3794: 0 (Debug) redir_accept: Sending RADIUS request
</I>&gt;&gt;&gt;&gt;<i>         radius.c: 1315: 0 (Debug) RADIUS client 0.0.0.0:0
</I>&gt;&gt;&gt;&gt;<i>         &lt;<A HREF="http://0.0.0.0:0">http://0.0.0.0:0</A>&gt;
</I>&gt;&gt;&gt;&gt;<i>         tun.c: 802: 0 (Debug) tun_decaps(idx=0, len=52)
</I>&gt;&gt;&gt;&gt;<i>         chilli.c: 2657: 0 (Debug) sending to : 10.1.0.4
</I>&gt;&gt;&gt;&gt;<i>         dhcp.c: 5321: 0 (Debug) adding 14 to IP frame length 66
</I>&gt;&gt;&gt;&gt;<i>         dhcp.c: 411: 0 (Debug) dhcp_send() len=66
</I>&gt;&gt;&gt;&gt;<i>         redir.c: 2642: 0 (Debug) created radius packet (code=1,
</I>&gt;&gt;&gt;&gt;<i>         id=40, len=33)
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>         redir.c: 2654: 0 (Debug) SECRET: [change-me]
</I>&gt;&gt;&gt;&gt;<i>         redir.c: 2803: 0 (Debug) sending radius packet (code=1,
</I>&gt;&gt;&gt;&gt;<i>         id=40, len=287)
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>         radius.c: 321: 0 (Debug) Allocating RADIUS packet
</I>&gt;&gt;&gt;&gt;<i>         radius.c: 1898: 0 (Debug) Received RADIUS packet id=40
</I>&gt;&gt;&gt;&gt;<i>         radius.c: 421: 0 (Debug) Freeing RADIUS packet
</I>&gt;&gt;&gt;&gt;<i>         radius.c: 426: 0 (Debug) RADIUS queue-out id=40 idx=0
</I>&gt;&gt;&gt;&gt;<i>         redir.c: 2431: 0 (Debug) Received RADIUS response
</I>&gt;&gt;&gt;&gt;<i>         chilli.c: 3901: 0 (Debug) Received too small radius
</I>&gt;&gt;&gt;&gt;<i>         Acct-Interim-Interval: 30;
</I>&gt;&gt;&gt;&gt;<i>         redir.c: 2531: 0 (Debug) +attribute EAP msg (0 bytes):
</I>&gt;&gt;&gt;&gt;<i>         redir.c: 3804: 0 (Debug) Received RADIUS reply
</I>&gt;&gt;&gt;&gt;<i>         redir.c: 3818: 0 (Debug) redir_main handling Access-Accept
</I>&gt;&gt;&gt;&gt;<i>         redir.c: 1877: 0 (Debug) getparam(&amp;callback=)
</I>&gt;&gt;&gt;&gt;<i>         redir.c: 1903: 0 (Debug) The parameter callback is:
</I>&gt;&gt;&gt;&gt;<i>         [chilliJSON.reply]
</I>&gt;&gt;&gt;&gt;<i>         redir.c: 1394: 0 (Debug) sending json:
</I>&gt;&gt;&gt;&gt;<i>         chilliJSON.reply({&quot;version&quot;:&quot;1.0&quot;,&quot;*clientSta**te&quot;:1*,&quot;redir&quot;:{&quot;originalURL&quot;:&quot;<A HREF="http://www.telegesis.com/">http://www.telegesis.com/</A>&quot;
</I>&gt;&gt;&gt;&gt;<i>         &lt;<A HREF="http://www.telegesis.com/">http://www.telegesis.com/</A>&gt;,&quot;redirectionURL&quot;:&quot;&quot;,&quot;logoutURL&quot;:&quot;<A HREF="http://10.1.0.1:3990/logoff">http://10.1.0.1:3990/logoff</A>&quot;
</I>&gt;&gt;&gt;&gt;<i>         &lt;<A HREF="http://10.1.0.1:3990/logoff">http://10.1.0.1:3990/logoff</A>&gt;,&quot;ipAddress&quot;:&quot;10.1.0.4&quot;,&quot;macAddress&quot;:&quot;00-08-CA-46-7D-11&quot;},&quot;session&quot;:{&quot;sessionId&quot;:&quot;5231317c00000001&quot;,&quot;userName&quot;:&quot;hhgk&quot;,&quot;startTime&quot;:1378955693,&quot;sessionTimeout&quot;:1800,&quot;idleTimeout&quot;:1200},&quot;accounting&quot;:{&quot;sessionTime&quot;:0,&quot;idleTime&quot;:0,&quot;inputOctets&quot;:0,&quot;outputOctets&quot;:0,&quot;inputGigawords&quot;:0,&quot;outputGigawords&quot;:0,&quot;viewPoint&quot;:&quot;client&quot;}}
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>         redir.c: 1455: 0 (Debug) redir_write(749)
</I>&gt;&gt;&gt;&gt;<i>         tun.c: 802: 0 (Debug) tun_decaps(idx=0, len=789)
</I>&gt;&gt;&gt;&gt;<i>         chilli.c: 2657: 0 (Debug) sending to : 10.1.0.4
</I>&gt;&gt;&gt;&gt;<i>         dhcp.c: 5321: 0 (Debug) adding 14 to IP frame length 803
</I>&gt;&gt;&gt;&gt;<i>         dhcp.c: 411: 0 (Debug) dhcp_send() len=803
</I>&gt;&gt;&gt;&gt;<i>         chilli.c: 5840: 0 (Debug) UAM login with unknown IP
</I>&gt;&gt;&gt;&gt;<i>         address: 10.1.0.4
</I>&gt;&gt;&gt;&gt;<i>         redir.c: 3854: 0 (Debug) --&gt;&gt; Msg
</I>&gt;&gt;&gt;&gt;<i>         userurl=[<A HREF="http://www.telegesis.com/">http://www.telegesis.com/</A>]
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>         redir.c: 3077: 0 (Debug) close_exit
</I>&gt;&gt;&gt;&gt;<i>         dhcp.c: 4965: 0 (Debug) dhcp_decaps: src=00:08:ca:46:7d:11
</I>&gt;&gt;&gt;&gt;<i>         dst=00:60:64:89:20:60 pr
</I>&gt;&gt;&gt;&gt;<i>         dhcp.c: 3497: 0 (Debug) function dhcp_receive_ip()
</I>&gt;&gt;&gt;&gt;<i>         tun.c: 1089: 0 (Debug) tun_encaps(tun0) len=40
</I>&gt;&gt;&gt;&gt;<i>         tun.c: 802: 0 (Debug) tun_decaps(idx=0, len=52)
</I>&gt;&gt;&gt;&gt;<i>         chilli.c: 2657: 0 (Debug) sending to : 10.1.0.4
</I>&gt;&gt;&gt;&gt;<i>         dhcp.c: 5321: 0 (Debug) adding 14 to IP frame length 66
</I>&gt;&gt;&gt;&gt;<i>         dhcp.c: 411: 0 (Debug) dhcp_send() len=66
</I>&gt;&gt;&gt;&gt;<i>         tun.c: 802: 0 (Debug) tun_decaps(idx=0, len=40)
</I>&gt;&gt;&gt;&gt;<i>         chilli.c: 2657: 0 (Debug) sending to : 10.1.0.4
</I>&gt;&gt;&gt;&gt;<i>         dhcp.c: 5321: 0 (Debug) adding 14 to IP frame length 54
</I>&gt;&gt;&gt;&gt;<i>         dhcp.c: 411: 0 (Debug) dhcp_send() len=54
</I>&gt;&gt;&gt;&gt;<i>         chilli.c: 379: 0 (Debug) caught 17 via selfpipe
</I>&gt;&gt;&gt;&gt;<i>         chilli.c: 310: 0 (Debug) child 6326 terminated
</I>&gt;&gt;&gt;&gt;<i>         chilli.c: 135: 0 (Debug) Freed child process 6326 [[redir]]
</I>&gt;&gt;&gt;&gt;<i>         dhcp.c: 4965: 0 (Debug) dhcp_decaps: src=00:08:ca:46:7d:11
</I>&gt;&gt;&gt;&gt;<i>         dst=00:60:64:89:20:60 pr
</I>&gt;&gt;&gt;&gt;<i>         dhcp.c: 3497: 0 (Debug) function dhcp_receive_ip()
</I>&gt;&gt;&gt;&gt;<i>         tun.c: 1089: 0 (Debug) tun_encaps(tun0) len=40
</I>&gt;&gt;&gt;&gt;<i>         tun.c: 802: 0 (Debug) tun_decaps(idx=0, len=40)
</I>&gt;&gt;&gt;&gt;<i>         chilli.c: 2657: 0 (Debug) sending to : 10.1.0.4
</I>&gt;&gt;&gt;&gt;<i>         dhcp.c: 5321: 0 (Debug) adding 14 to IP frame length 54
</I>&gt;&gt;&gt;&gt;<i>         dhcp.c: 411: 0 (Debug) dhcp_send() len=54
</I>&gt;&gt;&gt;&gt;<i>         dhcp.c: 4965: 0 (Debug) dhcp_decaps: src=00:08:ca:46:7d:11
</I>&gt;&gt;&gt;&gt;<i>         dst=00:60:64:89:20:60 pr
</I>&gt;&gt;&gt;&gt;<i>         dhcp.c: 3497: 0 (Debug) function dhcp_receive_ip()
</I>&gt;&gt;&gt;&gt;<i>         dhcp.c: 2558: 0 (Debug) Resetting connection on port
</I>&gt;&gt;&gt;&gt;<i>         56160-&gt;443
</I>&gt;&gt;&gt;&gt;<i>         dhcp.c: 411: 0 (Debug) dhcp_send() len=54
</I>&gt;&gt;&gt;&gt;<i>         dhcp.c: 3908: 0 (Debug) dropping packet; not nat'ed
</I>&gt;&gt;&gt;&gt;<i>         dhcp.c: 4965: 0 (Debug) dhcp_decaps: src=00:08:ca:46:7d:11
</I>&gt;&gt;&gt;&gt;<i>         dst=00:60:64:89:20:60 pr
</I>&gt;&gt;&gt;&gt;<i>         dhcp.c: 3497: 0 (Debug) function dhcp_receive_ip()
</I>&gt;&gt;&gt;&gt;<i>         dhcp.c: 2558: 0 (Debug) Resetting connection on port
</I>&gt;&gt;&gt;&gt;<i>         56165-&gt;443
</I>&gt;&gt;&gt;&gt;<i>         dhcp.c: 411: 0 (Debug) dhcp_send() len=54
</I>&gt;&gt;&gt;&gt;<i>         dhcp.c: 3908: 0 (Debug) dropping packet; not nat'ed
</I>&gt;&gt;&gt;&gt;<i>         tun.c: 802: 0 (Debug) tun_decaps(idx=0, len=52)
</I>&gt;&gt;&gt;&gt;<i>         chilli.c: 2657: 0 (Debug) sending to : 10.1.0.4
</I>&gt;&gt;&gt;&gt;<i>         dhcp.c: 5321: 0 (Debug) adding 14 to IP frame length 66
</I>&gt;&gt;&gt;&gt;<i>         dhcp.c: 2674: 0 (Debug) Resetting connection on port
</I>&gt;&gt;&gt;&gt;<i>         443-&gt;56160 (undo)
</I>&gt;&gt;&gt;&gt;<i>         dhcp.c: 411: 0 (Debug) dhcp_send() len=54
</I>&gt;&gt;&gt;&gt;<i>         tun.c: 1089: 0 (Debug) tun_encaps(tun0) len=40
</I>&gt;&gt;&gt;&gt;<i>         dhcp.c: 5390: 0 (Debug) dhcp_undoDNAT() returns true
</I>&gt;&gt;&gt;&gt;<i>         tun.c: 802: 0 (Debug) tun_decaps(idx=0, len=52)
</I>&gt;&gt;&gt;&gt;<i>         chilli.c: 2657: 0 (Debug) sending to : 10.1.0.4
</I>&gt;&gt;&gt;&gt;<i>         dhcp.c: 5321: 0 (Debug) adding 14 to IP frame length 66
</I>&gt;&gt;&gt;&gt;<i>         dhcp.c: 2674: 0 (Debug) Resetting connection on port
</I>&gt;&gt;&gt;&gt;<i>         443-&gt;56165 (undo)
</I>&gt;&gt;&gt;&gt;<i>         dhcp.c: 411: 0 (Debug) dhcp_send() len=54
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>         After a little while --
</I>&gt;&gt;&gt;&gt;<i>         dhcp.c: 4965: 0 (Debug) dhcp_decaps: src=00:08:ca:46:7d:11
</I>&gt;&gt;&gt;&gt;<i>         dst=00:60:64:89:20:60 pr
</I>&gt;&gt;&gt;&gt;<i>         dhcp.c: 3497: 0 (Debug) function dhcp_receive_ip()
</I>&gt;&gt;&gt;&gt;<i>         tun.c: 1089: 0 (Debug) tun_encaps(tun0) len=52
</I>&gt;&gt;&gt;&gt;<i>         redir.c: 3278: 0 (Debug) Calling redir_getstate()
</I>&gt;&gt;&gt;&gt;<i>         redir.c: 3323: 0 (Debug) Receiving HTTP Request
</I>&gt;&gt;&gt;&gt;<i>         redir.c: 2103: 0 (Debug) The path: json/status
</I>&gt;&gt;&gt;&gt;<i>         redir.c: 2118: 0 (Debug) The (json format) path: status
</I>&gt;&gt;&gt;&gt;<i>         redir.c: 2153: 0 (Debug) Query string:
</I>&gt;&gt;&gt;&gt;<i>         callback=chilliJSON.reply&amp;0.5259556404780596
</I>&gt;&gt;&gt;&gt;<i>         redir.c: 2175: 0 (Debug) Host: 10.1.0.1:3990
</I>&gt;&gt;&gt;&gt;<i>         &lt;<A HREF="http://10.1.0.1:3990">http://10.1.0.1:3990</A>&gt;
</I>&gt;&gt;&gt;&gt;<i>         redir.c: 2160: 0 (Debug) end of http-request
</I>&gt;&gt;&gt;&gt;<i>         redir.c: 3388: 0 (Debug) Processing HTTP Request
</I>&gt;&gt;&gt;&gt;<i>         redir.c: 3696: 0 (Debug) Processing received request
</I>&gt;&gt;&gt;&gt;<i>         redir.c: 1877: 0 (Debug) getparam(&amp;callback=)
</I>&gt;&gt;&gt;&gt;<i>         redir.c: 1903: 0 (Debug) The parameter callback is:
</I>&gt;&gt;&gt;&gt;<i>         [chilliJSON.reply]
</I>&gt;&gt;&gt;&gt;<i>         redir.c: 1394: 0 (Debug) sending json:
</I>&gt;&gt;&gt;&gt;<i>         chilliJSON.reply({&quot;version&quot;:&quot;1.0&quot;,&quot;*clientSta**te&quot;:0*,&quot;challenge&quot;:&quot;00000000000000000000000000000000&quot;,&quot;location&quot;:{&quot;name&quot;:&quot;My
</I>&gt;&gt;&gt;&gt;<i>         HotSpot&quot;},&quot;redir&quot;:{&quot;originalURL&quot;:&quot;&quot;,&quot;redirectionURL&quot;:&quot;&quot;,&quot;logoutURL&quot;:&quot;<A HREF="http://10.1.0.1:3990/logoff">http://10.1.0.1:3990/logoff</A>&quot;
</I>&gt;&gt;&gt;&gt;<i>         &lt;<A HREF="http://10.1.0.1:3990/logoff">http://10.1.0.1:3990/logoff</A>&gt;,&quot;ipAddress&quot;:&quot;10.1.0.4&quot;,&quot;macAddress&quot;:&quot;00-08-CA-46-7D-11&quot;}})
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>         redir.c: 1455: 0 (Debug) redir_write(542)
</I>&gt;&gt;&gt;&gt;<i>         redir.c: 3077: 0 (Debug) close_exit
</I>&gt;&gt;&gt;&gt;<i>         tun.c: 802: 0 (Debug) tun_decaps(idx=0, len=40)
</I>&gt;&gt;&gt;&gt;<i>         chilli.c: 2657: 0 (Debug) sending to : 10.1.0.4
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>         Warm Regards,
</I>&gt;&gt;&gt;&gt;<i>         Sourav
</I>&gt;&gt;&gt;&gt;<i>         On 11/09/13 13:10, Sourav wrote:
</I>&gt;&gt;&gt;&gt;&gt;<i>         Hi All,
</I>&gt;&gt;&gt;&gt;&gt;<i>         I have setup  coova-chilli 1.3.0 with Freeradius and have set up a
</I>&gt;&gt;&gt;&gt;&gt;<i>         captive portal page(hotspotlogin.html).
</I>&gt;&gt;&gt;&gt;&gt;<i>         On trying to login from a PC using Wireless, Radius Access-Request
</I>&gt;&gt;&gt;&gt;&gt;<i>         reaches Freeradius(which sends Access-Accept as I have set up(in users
</I>&gt;&gt;&gt;&gt;&gt;<i>         file) --
</I>&gt;&gt;&gt;&gt;&gt;<i>         DEFAULT Auth-Type := Accept
</I>&gt;&gt;&gt;&gt;&gt;<i>                   WISPr-Redirection-URL=<A HREF="http://google.com.au">http://google.com.au</A>
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i>         But instead of getting redirected togoogle.com.au  &lt;<A HREF="http://google.com.au">http://google.com.au</A>&gt;, the redirection
</I>&gt;&gt;&gt;&gt;&gt;<i>         happens to hotspotlogin.html again. Further browsing to any site, takes
</I>&gt;&gt;&gt;&gt;&gt;<i>         me to the captive portal page and not to the site. Please help me
</I>&gt;&gt;&gt;&gt;&gt;<i>         resolve this as this is urgently required.
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i>         Thanks
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>         -- 
</I>&gt;&gt;&gt;&gt;<i>         Warm Regards,
</I>&gt;&gt;&gt;&gt;<i>         Sourav
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>         ______________________________________________________________________
</I>&gt;&gt;&gt;&gt;<i>         This communication contains information which may be
</I>&gt;&gt;&gt;&gt;<i>         confidential or privileged. The information is intended
</I>&gt;&gt;&gt;&gt;<i>         solely for the use of the individual or entity named above.
</I>&gt;&gt;&gt;&gt;<i>         If you are not the intended recipient, be aware that any
</I>&gt;&gt;&gt;&gt;<i>         disclosure, copying, distribution or use of the contents of
</I>&gt;&gt;&gt;&gt;<i>         this information is prohibited. If you have received this
</I>&gt;&gt;&gt;&gt;<i>         communication in error, please notify me by telephone
</I>&gt;&gt;&gt;&gt;<i>         immediately.
</I>&gt;&gt;&gt;&gt;<i>         ______________________________________________________________________
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>         -- 
</I>&gt;&gt;&gt;<i>         Warm Regards,
</I>&gt;&gt;&gt;<i>         Sourav
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>         ______________________________________________________________________
</I>&gt;&gt;&gt;<i>         This communication contains information which may be
</I>&gt;&gt;&gt;<i>         confidential or privileged. The information is intended
</I>&gt;&gt;&gt;<i>         solely for the use of the individual or entity named above.
</I>&gt;&gt;&gt;<i>         If you are not the intended recipient, be aware that any
</I>&gt;&gt;&gt;<i>         disclosure, copying, distribution or use of the contents of
</I>&gt;&gt;&gt;<i>         this information is prohibited. If you have received this
</I>&gt;&gt;&gt;<i>         communication in error, please notify me by telephone
</I>&gt;&gt;&gt;<i>         immediately.
</I>&gt;&gt;&gt;<i>         ______________________________________________________________________
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>         _______________________________________________
</I>&gt;&gt;&gt;<i>         Chilli mailing list
</I>&gt;&gt;&gt;<i>         <A HREF="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">Chilli at coova.org</A> &lt;mailto:<A HREF="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">Chilli at coova.org</A>&gt;
</I>&gt;&gt;&gt;<i>         <A HREF="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">http://lists.coova.org/cgi-bin/mailman/listinfo/chilli</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     -- 
</I>&gt;&gt;<i>     Warm Regards,
</I>&gt;&gt;<i>     Sourav
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     ______________________________________________________________________
</I>&gt;&gt;<i>     This communication contains information which may be confidential
</I>&gt;&gt;<i>     or privileged. The information is intended solely for the use of
</I>&gt;&gt;<i>     the individual or entity named above. If you are not the intended
</I>&gt;&gt;<i>     recipient, be aware that any disclosure, copying, distribution or
</I>&gt;&gt;<i>     use of the contents of this information is prohibited. If you
</I>&gt;&gt;<i>     have received this communication in error, please notify me by
</I>&gt;&gt;<i>     telephone immediately.
</I>&gt;&gt;<i>     ______________________________________________________________________
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> -- 
</I>&gt;<i> Warm Regards,
</I>&gt;<i> Sourav
</I>

-- 
Warm Regards,
Sourav



______________________________________________________________________
This communication contains information which may be confidential or privileged. The information is intended solely for the use of the individual or entity named above.  If you are not the intended recipient, be aware that any disclosure, copying, distribution or use of the contents of this information is prohibited.  If you have received this communication in error, please notify me by telephone immediately.
______________________________________________________________________
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.coova.org/pipermail/chilli/attachments/20130917/90814465/attachment-0001.html">http://lists.coova.org/pipermail/chilli/attachments/20130917/90814465/attachment-0001.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002373.html">[Chilli] coova-chilli 1.3.0 problem with WISPr-Redirection-URL
</A></li>
	<LI>Next message: <A HREF="002390.html">[Chilli] coova-chilli 1.3.0 problem with WISPr-Redirection-URL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2377">[ date ]</a>
              <a href="thread.html#2377">[ thread ]</a>
              <a href="subject.html#2377">[ subject ]</a>
              <a href="author.html#2377">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">More information about the Chilli
mailing list</a><br>
</body></html>
