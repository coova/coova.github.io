<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Chilli] New Post: Need help on Coova-chilli compilation with	uclibc
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:chilli%40coova.org?Subject=Re%3A%20%5BChilli%5D%20New%20Post%3A%20Need%20help%20on%20Coova-chilli%20compilation%20with%0A%09uclibc&In-Reply-To=%3CCACkgH71X-R89tK0T7anbqCHZq%3D5g%2BtgiUvt5i5q3ox9fmNAYBA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002364.html">
   <LINK REL="Next"  HREF="002365.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Chilli] New Post: Need help on Coova-chilli compilation with	uclibc</H1>
    <B>Xabier Oneca -- xOneca</B> 
    <A HREF="mailto:chilli%40coova.org?Subject=Re%3A%20%5BChilli%5D%20New%20Post%3A%20Need%20help%20on%20Coova-chilli%20compilation%20with%0A%09uclibc&In-Reply-To=%3CCACkgH71X-R89tK0T7anbqCHZq%3D5g%2BtgiUvt5i5q3ox9fmNAYBA%40mail.gmail.com%3E"
       TITLE="[Chilli] New Post: Need help on Coova-chilli compilation with	uclibc">xoneca at gmail.com
       </A><BR>
    <I>Thu Sep 12 07:03:08 UTC 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="002364.html">[Chilli] New Post: Need help on Coova-chilli compilation with	uclibc
</A></li>
        <LI>Next message: <A HREF="002365.html">[Chilli] coova-chilli 1.3.0 problem with WISPr-Redirection-URL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2369">[ date ]</a>
              <a href="thread.html#2369">[ thread ]</a>
              <a href="subject.html#2369">[ subject ]</a>
              <a href="author.html#2369">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>It seems as if there is a bug or something in login.chi:

&gt;<i> redir.c: 3632: 0 (Debug) Running: /etc/chilli/wwwsh
</I>/etc/chilli/www/login.chi
&gt;<i> [...]
</I>&gt;<i> /etc/chilli/wwwsh: line 37: can't open /tmp/post.608: no such file
</I>
That file is created by wwwsh with available POST data, but only when
Haserl is installed. But seems that login.chi can't find it...
El 10/09/2013 08:18, &quot;prasad tbs&quot; &lt;<A HREF="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">tbsprasad9 at gmail.com</A>&gt; escribi&#243;:

&gt;<i> Hi Xabier,
</I>&gt;<i>
</I>&gt;<i>   Thanks for reply.
</I>&gt;<i> Yes. You are correct. We configured without ipv6 &amp; compiled it
</I>&gt;<i> successfully. So, there is no issue for compilation now.
</I>&gt;<i> But, at present we are facing some issues that &quot;Connection reset/close&quot;
</I>&gt;<i> immediately after entering the login username &amp; password.
</I>&gt;<i>
</I>&gt;<i> The debug log messages are as follows:
</I>&gt;<i>
</I>&gt;<i> redir.c: 3278: 0 (Debug) Calling redir_getstate()
</I>&gt;<i> redir.c: 3323: 0 (Debug) Receiving HTTP Request
</I>&gt;<i> tun.c: 802: 0 (Debug) tun_decaps(idx=0, len=52)
</I>&gt;<i> chilli.c: 2657: 0 (Debug) sending to : 192.168.1.2
</I>&gt;<i> dhcp.c: 5321: 0 (Debug) adding 14 to IP frame length 66
</I>&gt;<i> dhcp.c: 411: 0 (Debug) dhcp_send() len=66
</I>&gt;<i> dhcp.c: 4965: 0 (Debug) dhcp_decaps: src=00:80:81:b9:0f:ed dst=d4:4c:24:00:0a:32 prot=0800 2048 len=934
</I>&gt;<i> dhcp.c: 3497: 0 (Debug) function dhcp_receive_ip()
</I>&gt;<i> dhcp.c: 3630: 0 (Debug) Address found
</I>&gt;<i> tun.c: 1089: 0 (Debug) tun_encaps(tun0) len=920
</I>&gt;<i> tun.c: 802: 0 (Debug) tun_decaps(idx=0, len=64)
</I>&gt;<i> chilli.c: 2657: 0 (Debug) sending to : 192.168.1.2
</I>&gt;<i> dhcp.c: 5321: 0 (Debug) adding 14 to IP frame length 78
</I>&gt;<i> dhcp.c: 411: 0 (Debug) dhcp_send() len=78
</I>&gt;<i> redir.c: 2103: 0 (Debug) The path: www/login.chi
</I>&gt;<i> redir.c: 2175: 0 (Debug) Host: 192.168.1.1:4990
</I>&gt;<i> redir.c: 2214: 0 (Debug) Cookie: PORTAL_SESSIONID=62a386d4627; COOVA_USERURL=<A HREF="http://www.google.com/">http://www.google.com/</A>
</I>&gt;<i> redir.c: 2184: 0 (Debug) Content-Length: 96
</I>&gt;<i> redir.c: 2160: 0 (Debug) end of http-request
</I>&gt;<i> redir.c: 2398: 0 (Debug) Serving file login.chi
</I>&gt;<i> redir.c: 3388: 0 (Debug) Processing HTTP Request
</I>&gt;<i> redir.c: 3632: 0 (Debug) Running: /etc/chilli/wwwsh /etc/chilli/www/login.chi
</I>&gt;<i> tun.c: 802: 0 (Debug) tun_decaps(idx=0, len=59)
</I>&gt;<i> chilli.c: 2657: 0 (Debug) sending to : 192.168.1.2
</I>&gt;<i> dhcp.c: 5321: 0 (Debug) adding 14 to IP frame length 73
</I>&gt;<i> dhcp.c: 411: 0 (Debug) dhcp_send() len=73
</I>&gt;<i> tun.c: 802: 0 (Debug) tun_decaps(idx=0, len=66)
</I>&gt;<i> chilli.c: 2657: 0 (Debug) sending to : 192.168.1.2
</I>&gt;<i> dhcp.c: 5321: 0 (Debug) adding 14 to IP frame length 80
</I>&gt;<i> dhcp.c: 411: 0 (Debug) dhcp_send() len=80
</I>&gt;<i> dhcp.c: 4965: 0 (Debug) dhcp_decaps: src=00:80:81:b9:0f:ed dst=d4:4c:24:00:0a:32 prot=0800 2048 len=66
</I>&gt;<i> dhcp.c: 3497: 0 (Debug) function dhcp_receive_ip()
</I>&gt;<i> dhcp.c: 3630: 0 (Debug) Address found
</I>&gt;<i> tun.c: 1089: 0 (Debug) tun_encaps(tun0) len=52
</I>&gt;<i> dhcp.c: 4965: 0 (Debug) dhcp_decaps: src=00:80:81:b9:0f:ed dst=d4:4c:24:00:0a:32 prot=0800 2048 len=66
</I>&gt;<i> dhcp.c: 3497: 0 (Debug) function dhcp_receive_ip()
</I>&gt;<i> dhcp.c: 3630: 0 (Debug) Address found
</I>&gt;<i> tun.c: 1089: 0 (Debug) tun_encaps(tun0) len=52
</I>&gt;<i> tun.c: 802: 0 (Debug) tun_decaps(idx=0, len=55)
</I>&gt;<i> chilli.c: 2657: 0 (Debug) sending to : 192.168.1.2
</I>&gt;<i> dhcp.c: 5321: 0 (Debug) adding 14 to IP frame length 69
</I>&gt;<i> dhcp.c: 411: 0 (Debug) dhcp_send() len=69
</I>&gt;<i> tun.c: 802: 0 (Debug) tun_decaps(idx=0, len=52)
</I>&gt;<i> chilli.c: 2657: 0 (Debug) sending to : 192.168.1.2
</I>&gt;<i> dhcp.c: 5321: 0 (Debug) adding 14 to IP frame length 66
</I>&gt;<i> dhcp.c: 411: 0 (Debug) dhcp_send() len=66
</I>&gt;<i> dhcp.c: 4965: 0 (Debug) dhcp_decaps: src=00:80:81:b9:0f:ed dst=d4:4c:24:00:0a:32 prot=0800 2048 len=66
</I>&gt;<i> dhcp.c: 3497: 0 (Debug) function dhcp_receive_ip()
</I>&gt;<i> dhcp.c: 3630: 0 (Debug) Address found
</I>&gt;<i> tun.c: 1089: 0 (Debug) tun_encaps(tun0) len=52
</I>&gt;<i> /etc/chilli/wwwsh: line 37: can't open /tmp/post.608: no such file
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> FYI: the compilation details are as follows:
</I>&gt;<i> coova-chilli: 1.3.0
</I>&gt;<i> tool chain: uclibc-4.2.3.3
</I>&gt;<i> processor: mips-linux
</I>&gt;<i> Configuration details: ./configure  --enable-binstatusfile
</I>&gt;<i> --enable-chilliproxy --enable-chilliscript --enable-libjson
</I>&gt;<i> --enable-chilliredir --enable-dnslog --enable-uamdomainfile --enable-eapol
</I>&gt;<i> --enable-largelimits --enable-layer3 --enable-miniportal
</I>&gt;<i> --enable-multiroute  --enable-proxyvsa --enable-extadmvsa
</I>&gt;<i> --enable-redirdnsreq --enable-statusfile --with-poll --without-ipv6
</I>&gt;<i>
</I>&gt;<i> We observed that &quot;--with-openssl&quot;is used for configuration in many
</I>&gt;<i> websites. Is &quot;openssl&quot; is mandatory for coovachilli-1.3.0 configurations.
</I>&gt;<i> We are facing compilation errors with this option.
</I>&gt;<i>
</I>&gt;<i> Please help us to sort out the issue &quot;connection reset/close&quot;.
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i> Prasad
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Mon, Sep 9, 2013 at 5:16 PM, Xabier Oneca -- xOneca &lt;<A HREF="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">xoneca at gmail.com</A>&gt;wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> &gt; Hi,
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; I am new user working on coova-chilli.
</I>&gt;&gt;<i> &gt; I would like to compile the Coova-chilli source code with uclibc
</I>&gt;&gt;<i> toolchain.
</I>&gt;&gt;<i> &gt; But, i am facing errors while doing &quot;make&quot;.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; See error logs below:
</I>&gt;&gt;<i> &gt; [...]
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; So, anyone can help me to sort out the issue at earliest possible.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Thanks,
</I>&gt;&gt;<i> &gt; Prasad
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Hello Prasad,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> It's been two months since you first wrote here, and I don't know if
</I>&gt;&gt;<i> you have fixed the problem. You can try to configure the source
</I>&gt;&gt;<i> without IPv6 if you don't need it. It worked for me with CoovaChilli
</I>&gt;&gt;<i> 1.2.9.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>   $ ./configure --without-ipv6
</I>&gt;&gt;<i>   $ make
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> HTH,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Xabier Oneca_,,_
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Chilli mailing list
</I>&gt;&gt;<i> <A HREF="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">Chilli at coova.org</A>
</I>&gt;&gt;<i> <A HREF="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">http://lists.coova.org/cgi-bin/mailman/listinfo/chilli</A>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.coova.org/pipermail/chilli/attachments/20130912/20f7b5c7/attachment.html">http://lists.coova.org/pipermail/chilli/attachments/20130912/20f7b5c7/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002364.html">[Chilli] New Post: Need help on Coova-chilli compilation with	uclibc
</A></li>
	<LI>Next message: <A HREF="002365.html">[Chilli] coova-chilli 1.3.0 problem with WISPr-Redirection-URL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2369">[ date ]</a>
              <a href="thread.html#2369">[ thread ]</a>
              <a href="subject.html#2369">[ subject ]</a>
              <a href="author.html#2369">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">More information about the Chilli
mailing list</a><br>
</body></html>
