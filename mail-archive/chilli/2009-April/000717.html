<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> UAMALLOWED and HTTPS (to select.worldpay.com)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:chilli%40coova.org?Subject=Re%3A%20UAMALLOWED%20and%20HTTPS%20%28to%20select.worldpay.com%29&In-Reply-To=%3Cd42f029a0904291330j6b285425odc591cb834c8cf06%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000714.html">
   <LINK REL="Next"  HREF="000719.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>UAMALLOWED and HTTPS (to select.worldpay.com)</H1>
    <B>Henk Kleynhans</B> 
    <A HREF="mailto:chilli%40coova.org?Subject=Re%3A%20UAMALLOWED%20and%20HTTPS%20%28to%20select.worldpay.com%29&In-Reply-To=%3Cd42f029a0904291330j6b285425odc591cb834c8cf06%40mail.gmail.com%3E"
       TITLE="UAMALLOWED and HTTPS (to select.worldpay.com)">henk at skyrove.com
       </A><BR>
    <I>Wed Apr 29 20:30:12 UTC 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000714.html">UAMALLOWED and HTTPS (to select.worldpay.com)
</A></li>
        <LI>Next message: <A HREF="000719.html">UAMALLOWED and HTTPS (to select.worldpay.com)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#717">[ date ]</a>
              <a href="thread.html#717">[ thread ]</a>
              <a href="subject.html#717">[ subject ]</a>
              <a href="author.html#717">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Sometimes a random problem requires a random solution ;-)

You said earlier that you are only having this problem with Ubuntu Hardy
Heron, but not with Mac OS X.

Have you tested with other computers?  (I imagine for some reason you
mentioned XP somewhere, but now can't find it in the thread).

Can you definitely rule out that it's not a problem specific to your Ubuntu
setup?

henk


On Wed, Apr 29, 2009 at 8:43 PM, Derek C &lt;<A HREF="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">derekchilli at hssl.ie</A>&gt; wrote:

&gt;<i> I should have said:  I'm only redirecting traffic that is destined for the
</I>&gt;<i> Worldpay SSL server.
</I>&gt;<i>
</I>&gt;<i> I use this rule: -
</I>&gt;<i>
</I>&gt;<i> iptables -t nat -I PREROUTING -p tcp -d select.worldpay.com --dport 443 -j
</I>&gt;<i> DNAT --to-destination MY-SERVER-IP:443
</I>&gt;<i>
</I>&gt;<i> That server is using socat to listen on 443 and proxy traffic from the
</I>&gt;<i> Worldpay SSL server.  I use this socat command:
</I>&gt;<i>
</I>&gt;<i> socat TCP4-LISTEN:443,bind=MY-SERVER-IP,fork TCP4:select.worldpay.com:443
</I>&gt;<i>
</I>&gt;<i> But I'm pretty sure that if Worldpay change their IP this setup will be
</I>&gt;<i> dead until restarted.
</I>&gt;<i>
</I>&gt;<i> Derek
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Wed, April 29, 2009 7:22 pm, Derek C wrote:
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> &gt; On Wed, April 29, 2009 5:58 pm, Johan Meiring wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt; The only other thing I can think of is MTU issues.
</I>&gt;<i> &gt;&gt; Try issuing the following on your hotspot, and see if it helps.
</I>&gt;<i> &gt;&gt; iptables -I FORWARD -t mangle -p tcp -m tcp --tcp-flags SYN,RST SYN -j
</I>&gt;<i> &gt;&gt; TCPMSS --clamp-mss-to-pmtu
</I>&gt;<i> &gt;&gt; (the above command is one line)
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Hi Johan,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; This didn't work either.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I have a work-around to my problems (which is great) - but it's horrible!
</I>&gt;<i> &gt;  On the Coova Chilli AP I'm redirecting traffic with a DNAT iptables rule
</I>&gt;<i> &gt;  to a server I have in a data centre.  In that server I'm proxying the
</I>&gt;<i> &gt; traffic with socat - and its working so I have the payment gateway up &amp;
</I>&gt;<i> &gt; running.  But its horrible because if Worldpay change their IP....
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Derek
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; --
</I>&gt;<i> &gt; Derek C
</I>&gt;<i> &gt; In Ireland
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; ---------------------------------------------------------------------
</I>&gt;<i> &gt; To unsubscribe, e-mail: <A HREF="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">chilli-unsubscribe at coova.org</A>
</I>&gt;<i> &gt; For additional commands, e-mail: <A HREF="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">chilli-help at coova.org</A>
</I>&gt;<i> &gt; Wiki: <A HREF="http://coova.org/wiki/index.php/CoovaChilli">http://coova.org/wiki/index.php/CoovaChilli</A>
</I>&gt;<i> &gt; Forum: <A HREF="http://coova.org/phpBB3/viewforum.php?f=4">http://coova.org/phpBB3/viewforum.php?f=4</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Derek C
</I>&gt;<i> In Ireland
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ---------------------------------------------------------------------
</I>&gt;<i> To unsubscribe, e-mail: <A HREF="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">chilli-unsubscribe at coova.org</A>
</I>&gt;<i> For additional commands, e-mail: <A HREF="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">chilli-help at coova.org</A>
</I>&gt;<i> Wiki: <A HREF="http://coova.org/wiki/index.php/CoovaChilli">http://coova.org/wiki/index.php/CoovaChilli</A>
</I>&gt;<i> Forum: <A HREF="http://coova.org/phpBB3/viewforum.php?f=4">http://coova.org/phpBB3/viewforum.php?f=4</A>
</I>&gt;<i>
</I>&gt;<i>
</I>

-- 
Henk Kleynhans
CTO &amp; Founder
Skyrove (Pty) Ltd
Technology Top 100 - Most Promising Emerging Enterprise 2006
Tel: +27 (21) 4488843
Cell: +27 (84) 3073451
Fax: +27 (86) 6204077
<A HREF="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">henk at skyrove.com</A>
blog: www.geekrebel.com

------

&quot;A person with ubuntu is open and available to others, affirming of others,
does not feel threatened that others are able and good, for he or she has a
proper self-assurance that comes from knowing that he or she belongs in a
greater whole and is diminished when others are humiliated or diminished,
when others are tortured or oppressed.&quot; - Desmond Tutu
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.coova.org/pipermail/chilli/attachments/20090429/800216f6/attachment.htm">http://lists.coova.org/pipermail/chilli/attachments/20090429/800216f6/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000714.html">UAMALLOWED and HTTPS (to select.worldpay.com)
</A></li>
	<LI>Next message: <A HREF="000719.html">UAMALLOWED and HTTPS (to select.worldpay.com)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#717">[ date ]</a>
              <a href="thread.html#717">[ thread ]</a>
              <a href="subject.html#717">[ subject ]</a>
              <a href="author.html#717">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.coova.org/cgi-bin/mailman/listinfo/chilli">More information about the Chilli
mailing list</a><br>
</body></html>
